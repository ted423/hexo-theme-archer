{"version":3,"file":"search.js","mappings":"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","sources":["webpack://hexo-theme-archer/./node_modules/.pnpm/@algolia+events@4.0.1/node_modules/@algolia/events/events.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/index.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/DerivedHelper/index.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/SearchParameters/RefinementList.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/SearchParameters/index.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/SearchResults/generate-hierarchical-tree.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/SearchResults/index.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/algoliasearch.helper.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/functions/compact.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/functions/defaultsPure.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/functions/escapeFacetValue.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/functions/find.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/functions/findIndex.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/functions/formatSort.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/functions/inherits.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/functions/intersection.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/functions/merge.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/functions/objectHasKeys.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/functions/omit.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/functions/orderBy.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/functions/valToNumber.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/requestBuilder.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/utils/isValidUserToken.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch-helper@3.13.0_algoliasearch@4.10.3/node_modules/algoliasearch-helper/src/version.js","webpack://hexo-theme-archer/./node_modules/.pnpm/algoliasearch@4.10.3/node_modules/algoliasearch/dist/algoliasearch-lite.umd.js","webpack://hexo-theme-archer/./node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/a-function.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/a-possible-prototype.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/add-to-unscopables.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/advance-string-index.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/an-object.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/array-includes.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/array-iteration.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/array-species-create.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/classof-raw.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/copy-constructor-properties.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/create-non-enumerable-property.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/create-property-descriptor.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/descriptors.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/document-create-element.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/engine-user-agent.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/engine-v8-version.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/enum-bug-keys.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/export.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/fails.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/function-bind-context.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/get-built-in.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/get-substitution.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/global.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/has.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/hidden-keys.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/html.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/ie8-dom-define.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/indexed-object.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/inherit-if-required.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/inspect-source.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/internal-state.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/is-array.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/is-forced.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/is-object.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/is-pure.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/is-regexp.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/native-symbol.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/native-weak-map.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/object-create.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/object-define-properties.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/object-define-property.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/object-get-own-property-names.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/object-keys-internal.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/object-keys.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/object-property-is-enumerable.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/object-set-prototype-of.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/own-keys.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/path.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/redefine.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/regexp-exec-abstract.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/regexp-exec.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/regexp-flags.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/regexp-sticky-helpers.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/regexp-unsupported-dot-all.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/regexp-unsupported-ncg.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/require-object-coercible.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/same-value.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/set-global.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/set-species.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/shared-key.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/shared-store.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/shared.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/string-multibyte.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/to-absolute-index.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/to-indexed-object.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/to-integer.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/to-length.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/to-object.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/to-primitive.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/uid.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/use-symbol-as-uid.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/well-known-symbol.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/modules/es.array.find.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/modules/es.regexp.constructor.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/modules/es.regexp.exec.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/modules/es.regexp.to-string.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/modules/es.string.replace.js","webpack://hexo-theme-archer/./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/modules/es.string.search.js","webpack://hexo-theme-archer/./node_modules/.pnpm/events@1.1.1/node_modules/events/events.js","webpack://hexo-theme-archer/./node_modules/.pnpm/hogan.js@3.0.2/node_modules/hogan.js/lib/compiler.js","webpack://hexo-theme-archer/./node_modules/.pnpm/hogan.js@3.0.2/node_modules/hogan.js/lib/hogan.js","webpack://hexo-theme-archer/./node_modules/.pnpm/hogan.js@3.0.2/node_modules/hogan.js/lib/template.js","webpack://hexo-theme-archer/./node_modules/.pnpm/qs@6.9.7/node_modules/qs/lib/formats.js","webpack://hexo-theme-archer/./node_modules/.pnpm/qs@6.9.7/node_modules/qs/lib/index.js","webpack://hexo-theme-archer/./node_modules/.pnpm/qs@6.9.7/node_modules/qs/lib/parse.js","webpack://hexo-theme-archer/./node_modules/.pnpm/qs@6.9.7/node_modules/qs/lib/stringify.js","webpack://hexo-theme-archer/./node_modules/.pnpm/qs@6.9.7/node_modules/qs/lib/utils.js","webpack://hexo-theme-archer/webpack/bootstrap","webpack://hexo-theme-archer/webpack/runtime/compat get default export","webpack://hexo-theme-archer/webpack/runtime/define property getters","webpack://hexo-theme-archer/webpack/runtime/global","webpack://hexo-theme-archer/webpack/runtime/hasOwnProperty shorthand","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/documentation.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/findIndex.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/uniq.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/mergeSearchParameters.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/widgets/index/index.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/resolveSearchParameters.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/version.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/suit.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/getPropertyByPath.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/escape.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/isPlainObject.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/escape-highlight.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/helpers/highlight.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/concatHighlightedParts.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/unescape.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/getHighlightFromSiblings.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/reverseHighlightedParts.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/getHighlightedParts.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/helpers/reverseHighlight.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/helpers/snippet.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/helpers/reverseSnippet.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/serializer.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/helpers/insights.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/createHelpers.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/defer.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/noop.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/stateMappings/simple.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/routers/history.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/isEqual.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/middlewares/createRouterMiddleware.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/middlewares/createMetadataMiddleware.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/InstantSearch.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/infiniteHitsCache/sessionStorage.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/index.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/helpers/get-insights-anonymous-user-token.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/connectors/configure/connectConfigure.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/widgets/configure/configure.js","webpack://hexo-theme-archer/./node_modules/.pnpm/preact@10.15.0/node_modules/preact/dist/preact.module.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/isDomElement.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/getContainerNode.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/checkRendering.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/getObjectType.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/connectors/search-box/connectSearchBox.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/renderTemplate.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/components/Template/Template.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/components/SearchBox/SearchBox.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/widgets/search-box/defaultTemplates.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/widgets/search-box/search-box.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/createSendEventForHits.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/hits-absolute-position.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/hits-query-id.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/connectors/hits/connectHits.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/components/Hits/Hits.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/widgets/hits/defaultTemplates.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/prepareTemplateProps.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/insights/listener.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/insights/client.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/find.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/widgets/hits/hits.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/components/Stats/Stats.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/connectors/stats/connectStats.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/widgets/stats/stats.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/components/Pagination/PaginationLink.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/components/Pagination/Pagination.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/isSpecialClick.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/lib/utils/range.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/connectors/pagination/Paginator.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/connectors/pagination/connectPagination.js","webpack://hexo-theme-archer/./node_modules/.pnpm/instantsearch.js@4.25.2_algoliasearch@4.10.3/node_modules/instantsearch.js/es/widgets/pagination/pagination.js","webpack://hexo-theme-archer/./src/js/util.js","webpack://hexo-theme-archer/./src/js/search.js"],"sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\n// EventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","'use strict';\n\nvar AlgoliaSearchHelper = require('./src/algoliasearch.helper');\n\nvar SearchParameters = require('./src/SearchParameters');\nvar SearchResults = require('./src/SearchResults');\n\n/**\n * The algoliasearchHelper module is the function that will let its\n * contains everything needed to use the Algoliasearch\n * Helper. It is a also a function that instanciate the helper.\n * To use the helper, you also need the Algolia JS client v3.\n * @example\n * //using the UMD build\n * var client = algoliasearch('latency', '6be0576ff61c053d5f9a3225e2a90f76');\n * var helper = algoliasearchHelper(client, 'bestbuy', {\n *   facets: ['shipping'],\n *   disjunctiveFacets: ['category']\n * });\n * helper.on('result', function(event) {\n *   console.log(event.results);\n * });\n * helper\n *   .toggleFacetRefinement('category', 'Movies & TV Shows')\n *   .toggleFacetRefinement('shipping', 'Free shipping')\n *   .search();\n * @example\n * // The helper is an event emitter using the node API\n * helper.on('result', updateTheResults);\n * helper.once('result', updateTheResults);\n * helper.removeListener('result', updateTheResults);\n * helper.removeAllListeners('result');\n * @module algoliasearchHelper\n * @param  {AlgoliaSearch} client an AlgoliaSearch client\n * @param  {string} index the name of the index to query\n * @param  {SearchParameters|object} opts an object defining the initial config of the search. It doesn't have to be a {SearchParameters}, just an object containing the properties you need from it.\n * @return {AlgoliaSearchHelper}\n */\nfunction algoliasearchHelper(client, index, opts) {\n  return new AlgoliaSearchHelper(client, index, opts);\n}\n\n/**\n * The version currently used\n * @member module:algoliasearchHelper.version\n * @type {number}\n */\nalgoliasearchHelper.version = require('./src/version.js');\n\n/**\n * Constructor for the Helper.\n * @member module:algoliasearchHelper.AlgoliaSearchHelper\n * @type {AlgoliaSearchHelper}\n */\nalgoliasearchHelper.AlgoliaSearchHelper = AlgoliaSearchHelper;\n\n/**\n * Constructor for the object containing all the parameters of the search.\n * @member module:algoliasearchHelper.SearchParameters\n * @type {SearchParameters}\n */\nalgoliasearchHelper.SearchParameters = SearchParameters;\n\n/**\n * Constructor for the object containing the results of the search.\n * @member module:algoliasearchHelper.SearchResults\n * @type {SearchResults}\n */\nalgoliasearchHelper.SearchResults = SearchResults;\n\nmodule.exports = algoliasearchHelper;\n","'use strict';\n\nvar EventEmitter = require('@algolia/events');\nvar inherits = require('../functions/inherits');\n\n/**\n * A DerivedHelper is a way to create sub requests to\n * Algolia from a main helper.\n * @class\n * @classdesc The DerivedHelper provides an event based interface for search callbacks:\n *  - search: when a search is triggered using the `search()` method.\n *  - result: when the response is retrieved from Algolia and is processed.\n *    This event contains a {@link SearchResults} object and the\n *    {@link SearchParameters} corresponding to this answer.\n */\nfunction DerivedHelper(mainHelper, fn) {\n  this.main = mainHelper;\n  this.fn = fn;\n  this.lastResults = null;\n}\n\ninherits(DerivedHelper, EventEmitter);\n\n/**\n * Detach this helper from the main helper\n * @return {undefined}\n * @throws Error if the derived helper is already detached\n */\nDerivedHelper.prototype.detach = function() {\n  this.removeAllListeners();\n  this.main.detachDerivedHelper(this);\n};\n\nDerivedHelper.prototype.getModifiedState = function(parameters) {\n  return this.fn(parameters);\n};\n\nmodule.exports = DerivedHelper;\n","'use strict';\n\n/**\n * Functions to manipulate refinement lists\n *\n * The RefinementList is not formally defined through a prototype but is based\n * on a specific structure.\n *\n * @module SearchParameters.refinementList\n *\n * @typedef {string[]} SearchParameters.refinementList.Refinements\n * @typedef {Object.<string, SearchParameters.refinementList.Refinements>} SearchParameters.refinementList.RefinementList\n */\n\nvar defaultsPure = require('../functions/defaultsPure');\nvar omit = require('../functions/omit');\nvar objectHasKeys = require('../functions/objectHasKeys');\n\nvar lib = {\n  /**\n   * Adds a refinement to a RefinementList\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} value the value of the refinement, if the value is not a string it will be converted\n   * @return {RefinementList} a new and updated refinement list\n   */\n  addRefinement: function addRefinement(refinementList, attribute, value) {\n    if (lib.isRefined(refinementList, attribute, value)) {\n      return refinementList;\n    }\n\n    var valueAsString = '' + value;\n\n    var facetRefinement = !refinementList[attribute] ?\n      [valueAsString] :\n      refinementList[attribute].concat(valueAsString);\n\n    var mod = {};\n\n    mod[attribute] = facetRefinement;\n\n    return defaultsPure({}, mod, refinementList);\n  },\n  /**\n   * Removes refinement(s) for an attribute:\n   *  - if the value is specified removes the refinement for the value on the attribute\n   *  - if no value is specified removes all the refinements for this attribute\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} [value] the value of the refinement\n   * @return {RefinementList} a new and updated refinement lst\n   */\n  removeRefinement: function removeRefinement(refinementList, attribute, value) {\n    if (value === undefined) {\n      // we use the \"filter\" form of clearRefinement, since it leaves empty values as-is\n      // the form with a string will remove the attribute completely\n      return lib.clearRefinement(refinementList, function(v, f) {\n        return attribute === f;\n      });\n    }\n\n    var valueAsString = '' + value;\n\n    return lib.clearRefinement(refinementList, function(v, f) {\n      return attribute === f && valueAsString === v;\n    });\n  },\n  /**\n   * Toggles the refinement value for an attribute.\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} value the value of the refinement\n   * @return {RefinementList} a new and updated list\n   */\n  toggleRefinement: function toggleRefinement(refinementList, attribute, value) {\n    if (value === undefined) throw new Error('toggleRefinement should be used with a value');\n\n    if (lib.isRefined(refinementList, attribute, value)) {\n      return lib.removeRefinement(refinementList, attribute, value);\n    }\n\n    return lib.addRefinement(refinementList, attribute, value);\n  },\n  /**\n   * Clear all or parts of a RefinementList. Depending on the arguments, three\n   * kinds of behavior can happen:\n   *  - if no attribute is provided: clears the whole list\n   *  - if an attribute is provided as a string: clears the list for the specific attribute\n   *  - if an attribute is provided as a function: discards the elements for which the function returns true\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} [attribute] the attribute or function to discard\n   * @param {string} [refinementType] optional parameter to give more context to the attribute function\n   * @return {RefinementList} a new and updated refinement list\n   */\n  clearRefinement: function clearRefinement(refinementList, attribute, refinementType) {\n    if (attribute === undefined) {\n      if (!objectHasKeys(refinementList)) {\n        return refinementList;\n      }\n      return {};\n    } else if (typeof attribute === 'string') {\n      return omit(refinementList, [attribute]);\n    } else if (typeof attribute === 'function') {\n      var hasChanged = false;\n\n      var newRefinementList = Object.keys(refinementList).reduce(function(memo, key) {\n        var values = refinementList[key] || [];\n        var facetList = values.filter(function(value) {\n          return !attribute(value, key, refinementType);\n        });\n\n        if (facetList.length !== values.length) {\n          hasChanged = true;\n        }\n        memo[key] = facetList;\n\n        return memo;\n      }, {});\n\n      if (hasChanged) return newRefinementList;\n      return refinementList;\n    }\n  },\n  /**\n   * Test if the refinement value is used for the attribute. If no refinement value\n   * is provided, test if the refinementList contains any refinement for the\n   * given attribute.\n   * @param {RefinementList} refinementList the list of refinement\n   * @param {string} attribute name of the attribute\n   * @param {string} [refinementValue] value of the filter/refinement\n   * @return {boolean}\n   */\n  isRefined: function isRefined(refinementList, attribute, refinementValue) {\n    var containsRefinements = !!refinementList[attribute] &&\n      refinementList[attribute].length > 0;\n\n    if (refinementValue === undefined || !containsRefinements) {\n      return containsRefinements;\n    }\n\n    var refinementValueAsString = '' + refinementValue;\n\n    return refinementList[attribute].indexOf(refinementValueAsString) !== -1;\n  }\n};\n\nmodule.exports = lib;\n","'use strict';\n\nvar merge = require('../functions/merge');\nvar defaultsPure = require('../functions/defaultsPure');\nvar intersection = require('../functions/intersection');\nvar find = require('../functions/find');\nvar valToNumber = require('../functions/valToNumber');\nvar omit = require('../functions/omit');\nvar objectHasKeys = require('../functions/objectHasKeys');\nvar isValidUserToken = require('../utils/isValidUserToken');\n\nvar RefinementList = require('./RefinementList');\n\n/**\n * isEqual, but only for numeric refinement values, possible values:\n * - 5\n * - [5]\n * - [[5]]\n * - [[5,5],[4]]\n */\nfunction isEqualNumericRefinement(a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return (\n      a.length === b.length &&\n      a.every(function(el, i) {\n        return isEqualNumericRefinement(b[i], el);\n      })\n    );\n  }\n  return a === b;\n}\n\n/**\n * like _.find but using deep equality to be able to use it\n * to find arrays.\n * @private\n * @param {any[]} array array to search into (elements are base or array of base)\n * @param {any} searchedValue the value we're looking for (base or array of base)\n * @return {any} the searched value or undefined\n */\nfunction findArray(array, searchedValue) {\n  return find(array, function(currentValue) {\n    return isEqualNumericRefinement(currentValue, searchedValue);\n  });\n}\n\n/**\n * The facet list is the structure used to store the list of values used to\n * filter a single attribute.\n * @typedef {string[]} SearchParameters.FacetList\n */\n\n/**\n * Structure to store numeric filters with the operator as the key. The supported operators\n * are `=`, `>`, `<`, `>=`, `<=` and `!=`.\n * @typedef {Object.<string, Array.<number|number[]>>} SearchParameters.OperatorList\n */\n\n/**\n * SearchParameters is the data structure that contains all the information\n * usable for making a search to Algolia API. It doesn't do the search itself,\n * nor does it contains logic about the parameters.\n * It is an immutable object, therefore it has been created in a way that each\n * changes does not change the object itself but returns a copy with the\n * modification.\n * This object should probably not be instantiated outside of the helper. It will\n * be provided when needed. This object is documented for reference as you'll\n * get it from events generated by the {@link AlgoliaSearchHelper}.\n * If need be, instantiate the Helper from the factory function {@link SearchParameters.make}\n * @constructor\n * @classdesc contains all the parameters of a search\n * @param {object|SearchParameters} newParameters existing parameters or partial object\n * for the properties of a new SearchParameters\n * @see SearchParameters.make\n * @example <caption>SearchParameters of the first query in\n *   <a href=\"http://demos.algolia.com/instant-search-demo/\">the instant search demo</a></caption>\n{\n   \"query\": \"\",\n   \"disjunctiveFacets\": [\n      \"customerReviewCount\",\n      \"category\",\n      \"salePrice_range\",\n      \"manufacturer\"\n  ],\n   \"maxValuesPerFacet\": 30,\n   \"page\": 0,\n   \"hitsPerPage\": 10,\n   \"facets\": [\n      \"type\",\n      \"shipping\"\n  ]\n}\n */\nfunction SearchParameters(newParameters) {\n  var params = newParameters ? SearchParameters._parseNumbers(newParameters) : {};\n\n  if (params.userToken !== undefined && !isValidUserToken(params.userToken)) {\n    console.warn('[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\\n  - Format: [a-zA-Z0-9_-]{1,64}');\n  }\n  /**\n   * This attribute contains the list of all the conjunctive facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * @member {string[]}\n   */\n  this.facets = params.facets || [];\n  /**\n   * This attribute contains the list of all the disjunctive facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * @member {string[]}\n   */\n  this.disjunctiveFacets = params.disjunctiveFacets || [];\n  /**\n   * This attribute contains the list of all the hierarchical facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * Hierarchical facets are a sub type of disjunctive facets that\n   * let you filter faceted attributes hierarchically.\n   * @member {string[]|object[]}\n   */\n  this.hierarchicalFacets = params.hierarchicalFacets || [];\n\n  // Refinements\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the conjunctive facets. Each facet must be properly\n   * defined in the `facets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.facetsRefinements = params.facetsRefinements || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * excluded from the conjunctive facets. Each facet must be properly\n   * defined in the `facets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters excluded for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.facetsExcludes = params.facetsExcludes || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the disjunctive facets. Each facet must be properly\n   * defined in the `disjunctiveFacets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.disjunctiveFacetsRefinements = params.disjunctiveFacetsRefinements || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the numeric attributes.\n   *\n   * The key is the name of the attribute, and the value is the\n   * filters to apply to this attribute.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `numericFilters` attribute.\n   * @member {Object.<string, SearchParameters.OperatorList>}\n   */\n  this.numericRefinements = params.numericRefinements || {};\n  /**\n   * This attribute contains all the tags used to refine the query.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `tagFilters` attribute.\n   * @member {string[]}\n   */\n  this.tagRefinements = params.tagRefinements || [];\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the hierarchical facets. Each facet must be properly\n   * defined in the `hierarchicalFacets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name. The FacetList values\n   * are structured as a string that contain the values for each level\n   * separated by the configured separator.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.hierarchicalFacetsRefinements = params.hierarchicalFacetsRefinements || {};\n\n  var self = this;\n  Object.keys(params).forEach(function(paramName) {\n    var isKeyKnown = SearchParameters.PARAMETERS.indexOf(paramName) !== -1;\n    var isValueDefined = params[paramName] !== undefined;\n\n    if (!isKeyKnown && isValueDefined) {\n      self[paramName] = params[paramName];\n    }\n  });\n}\n\n/**\n * List all the properties in SearchParameters and therefore all the known Algolia properties\n * This doesn't contain any beta/hidden features.\n * @private\n */\nSearchParameters.PARAMETERS = Object.keys(new SearchParameters());\n\n/**\n * @private\n * @param {object} partialState full or part of a state\n * @return {object} a new object with the number keys as number\n */\nSearchParameters._parseNumbers = function(partialState) {\n  // Do not reparse numbers in SearchParameters, they ought to be parsed already\n  if (partialState instanceof SearchParameters) return partialState;\n\n  var numbers = {};\n\n  var numberKeys = [\n    'aroundPrecision',\n    'aroundRadius',\n    'getRankingInfo',\n    'minWordSizefor2Typos',\n    'minWordSizefor1Typo',\n    'page',\n    'maxValuesPerFacet',\n    'distinct',\n    'minimumAroundRadius',\n    'hitsPerPage',\n    'minProximity'\n  ];\n\n  numberKeys.forEach(function(k) {\n    var value = partialState[k];\n    if (typeof value === 'string') {\n      var parsedValue = parseFloat(value);\n      // global isNaN is ok to use here, value is only number or NaN\n      numbers[k] = isNaN(parsedValue) ? value : parsedValue;\n    }\n  });\n\n  // there's two formats of insideBoundingBox, we need to parse\n  // the one which is an array of float geo rectangles\n  if (Array.isArray(partialState.insideBoundingBox)) {\n    numbers.insideBoundingBox = partialState.insideBoundingBox.map(function(geoRect) {\n      if (Array.isArray(geoRect)) {\n        return geoRect.map(function(value) {\n          return parseFloat(value);\n        });\n      }\n      return geoRect;\n    });\n  }\n\n  if (partialState.numericRefinements) {\n    var numericRefinements = {};\n    Object.keys(partialState.numericRefinements).forEach(function(attribute) {\n      var operators = partialState.numericRefinements[attribute] || {};\n      numericRefinements[attribute] = {};\n      Object.keys(operators).forEach(function(operator) {\n        var values = operators[operator];\n        var parsedValues = values.map(function(v) {\n          if (Array.isArray(v)) {\n            return v.map(function(vPrime) {\n              if (typeof vPrime === 'string') {\n                return parseFloat(vPrime);\n              }\n              return vPrime;\n            });\n          } else if (typeof v === 'string') {\n            return parseFloat(v);\n          }\n          return v;\n        });\n        numericRefinements[attribute][operator] = parsedValues;\n      });\n    });\n    numbers.numericRefinements = numericRefinements;\n  }\n\n  return merge({}, partialState, numbers);\n};\n\n/**\n * Factory for SearchParameters\n * @param {object|SearchParameters} newParameters existing parameters or partial\n * object for the properties of a new SearchParameters\n * @return {SearchParameters} frozen instance of SearchParameters\n */\nSearchParameters.make = function makeSearchParameters(newParameters) {\n  var instance = new SearchParameters(newParameters);\n\n  var hierarchicalFacets = newParameters.hierarchicalFacets || [];\n  hierarchicalFacets.forEach(function(facet) {\n    if (facet.rootPath) {\n      var currentRefinement = instance.getHierarchicalRefinement(facet.name);\n\n      if (currentRefinement.length > 0 && currentRefinement[0].indexOf(facet.rootPath) !== 0) {\n        instance = instance.clearRefinements(facet.name);\n      }\n\n      // get it again in case it has been cleared\n      currentRefinement = instance.getHierarchicalRefinement(facet.name);\n      if (currentRefinement.length === 0) {\n        instance = instance.toggleHierarchicalFacetRefinement(facet.name, facet.rootPath);\n      }\n    }\n  });\n\n  return instance;\n};\n\n/**\n * Validates the new parameters based on the previous state\n * @param {SearchParameters} currentState the current state\n * @param {object|SearchParameters} parameters the new parameters to set\n * @return {Error|null} Error if the modification is invalid, null otherwise\n */\nSearchParameters.validate = function(currentState, parameters) {\n  var params = parameters || {};\n\n  if (currentState.tagFilters && params.tagRefinements && params.tagRefinements.length > 0) {\n    return new Error(\n      '[Tags] Cannot switch from the managed tag API to the advanced API. It is probably ' +\n      'an error, if it is really what you want, you should first clear the tags with clearTags method.');\n  }\n\n  if (currentState.tagRefinements.length > 0 && params.tagFilters) {\n    return new Error(\n      '[Tags] Cannot switch from the advanced tag API to the managed API. It is probably ' +\n      'an error, if it is not, you should first clear the tags with clearTags method.');\n  }\n\n  if (\n    currentState.numericFilters &&\n    params.numericRefinements &&\n    objectHasKeys(params.numericRefinements)\n  ) {\n    return new Error(\n      \"[Numeric filters] Can't switch from the advanced to the managed API. It\" +\n        ' is probably an error, if this is really what you want, you have to first' +\n        ' clear the numeric filters.'\n    );\n  }\n\n  if (objectHasKeys(currentState.numericRefinements) && params.numericFilters) {\n    return new Error(\n      \"[Numeric filters] Can't switch from the managed API to the advanced. It\" +\n      ' is probably an error, if this is really what you want, you have to first' +\n      ' clear the numeric filters.');\n  }\n\n  return null;\n};\n\nSearchParameters.prototype = {\n  constructor: SearchParameters,\n\n  /**\n   * Remove all refinements (disjunctive + conjunctive + excludes + numeric filters)\n   * @method\n   * @param {undefined|string|SearchParameters.clearCallback} [attribute] optional string or function\n   * - If not given, means to clear all the filters.\n   * - If `string`, means to clear all refinements for the `attribute` named filter.\n   * - If `function`, means to clear all the refinements that return truthy values.\n   * @return {SearchParameters}\n   */\n  clearRefinements: function clearRefinements(attribute) {\n    var patch = {\n      numericRefinements: this._clearNumericRefinements(attribute),\n      facetsRefinements: RefinementList.clearRefinement(\n        this.facetsRefinements,\n        attribute,\n        'conjunctiveFacet'\n      ),\n      facetsExcludes: RefinementList.clearRefinement(\n        this.facetsExcludes,\n        attribute,\n        'exclude'\n      ),\n      disjunctiveFacetsRefinements: RefinementList.clearRefinement(\n        this.disjunctiveFacetsRefinements,\n        attribute,\n        'disjunctiveFacet'\n      ),\n      hierarchicalFacetsRefinements: RefinementList.clearRefinement(\n        this.hierarchicalFacetsRefinements,\n        attribute,\n        'hierarchicalFacet'\n      )\n    };\n    if (\n      patch.numericRefinements === this.numericRefinements &&\n      patch.facetsRefinements === this.facetsRefinements &&\n      patch.facetsExcludes === this.facetsExcludes &&\n      patch.disjunctiveFacetsRefinements === this.disjunctiveFacetsRefinements &&\n      patch.hierarchicalFacetsRefinements === this.hierarchicalFacetsRefinements\n    ) {\n      return this;\n    }\n    return this.setQueryParameters(patch);\n  },\n  /**\n   * Remove all the refined tags from the SearchParameters\n   * @method\n   * @return {SearchParameters}\n   */\n  clearTags: function clearTags() {\n    if (this.tagFilters === undefined && this.tagRefinements.length === 0) return this;\n\n    return this.setQueryParameters({\n      tagFilters: undefined,\n      tagRefinements: []\n    });\n  },\n  /**\n   * Set the index.\n   * @method\n   * @param {string} index the index name\n   * @return {SearchParameters}\n   */\n  setIndex: function setIndex(index) {\n    if (index === this.index) return this;\n\n    return this.setQueryParameters({\n      index: index\n    });\n  },\n  /**\n   * Query setter\n   * @method\n   * @param {string} newQuery value for the new query\n   * @return {SearchParameters}\n   */\n  setQuery: function setQuery(newQuery) {\n    if (newQuery === this.query) return this;\n\n    return this.setQueryParameters({\n      query: newQuery\n    });\n  },\n  /**\n   * Page setter\n   * @method\n   * @param {number} newPage new page number\n   * @return {SearchParameters}\n   */\n  setPage: function setPage(newPage) {\n    if (newPage === this.page) return this;\n\n    return this.setQueryParameters({\n      page: newPage\n    });\n  },\n  /**\n   * Facets setter\n   * The facets are the simple facets, used for conjunctive (and) faceting.\n   * @method\n   * @param {string[]} facets all the attributes of the algolia records used for conjunctive faceting\n   * @return {SearchParameters}\n   */\n  setFacets: function setFacets(facets) {\n    return this.setQueryParameters({\n      facets: facets\n    });\n  },\n  /**\n   * Disjunctive facets setter\n   * Change the list of disjunctive (or) facets the helper chan handle.\n   * @method\n   * @param {string[]} facets all the attributes of the algolia records used for disjunctive faceting\n   * @return {SearchParameters}\n   */\n  setDisjunctiveFacets: function setDisjunctiveFacets(facets) {\n    return this.setQueryParameters({\n      disjunctiveFacets: facets\n    });\n  },\n  /**\n   * HitsPerPage setter\n   * Hits per page represents the number of hits retrieved for this query\n   * @method\n   * @param {number} n number of hits retrieved per page of results\n   * @return {SearchParameters}\n   */\n  setHitsPerPage: function setHitsPerPage(n) {\n    if (this.hitsPerPage === n) return this;\n\n    return this.setQueryParameters({\n      hitsPerPage: n\n    });\n  },\n  /**\n   * typoTolerance setter\n   * Set the value of typoTolerance\n   * @method\n   * @param {string} typoTolerance new value of typoTolerance (\"true\", \"false\", \"min\" or \"strict\")\n   * @return {SearchParameters}\n   */\n  setTypoTolerance: function setTypoTolerance(typoTolerance) {\n    if (this.typoTolerance === typoTolerance) return this;\n\n    return this.setQueryParameters({\n      typoTolerance: typoTolerance\n    });\n  },\n  /**\n   * Add a numeric filter for a given attribute\n   * When value is an array, they are combined with OR\n   * When value is a single value, it will combined with AND\n   * @method\n   * @param {string} attribute attribute to set the filter on\n   * @param {string} operator operator of the filter (possible values: =, >, >=, <, <=, !=)\n   * @param {number | number[]} value value of the filter\n   * @return {SearchParameters}\n   * @example\n   * // for price = 50 or 40\n   * searchparameter.addNumericRefinement('price', '=', [50, 40]);\n   * @example\n   * // for size = 38 and 40\n   * searchparameter.addNumericRefinement('size', '=', 38);\n   * searchparameter.addNumericRefinement('size', '=', 40);\n   */\n  addNumericRefinement: function(attribute, operator, v) {\n    var value = valToNumber(v);\n\n    if (this.isNumericRefined(attribute, operator, value)) return this;\n\n    var mod = merge({}, this.numericRefinements);\n\n    mod[attribute] = merge({}, mod[attribute]);\n\n    if (mod[attribute][operator]) {\n      // Array copy\n      mod[attribute][operator] = mod[attribute][operator].slice();\n      // Add the element. Concat can't be used here because value can be an array.\n      mod[attribute][operator].push(value);\n    } else {\n      mod[attribute][operator] = [value];\n    }\n\n    return this.setQueryParameters({\n      numericRefinements: mod\n    });\n  },\n  /**\n   * Get the list of conjunctive refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getConjunctiveRefinements: function(facetName) {\n    if (!this.isConjunctiveFacet(facetName)) {\n      return [];\n    }\n    return this.facetsRefinements[facetName] || [];\n  },\n  /**\n   * Get the list of disjunctive refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getDisjunctiveRefinements: function(facetName) {\n    if (!this.isDisjunctiveFacet(facetName)) {\n      return [];\n    }\n    return this.disjunctiveFacetsRefinements[facetName] || [];\n  },\n  /**\n   * Get the list of hierarchical refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getHierarchicalRefinement: function(facetName) {\n    // we send an array but we currently do not support multiple\n    // hierarchicalRefinements for a hierarchicalFacet\n    return this.hierarchicalFacetsRefinements[facetName] || [];\n  },\n  /**\n   * Get the list of exclude refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getExcludeRefinements: function(facetName) {\n    if (!this.isConjunctiveFacet(facetName)) {\n      return [];\n    }\n    return this.facetsExcludes[facetName] || [];\n  },\n\n  /**\n   * Remove all the numeric filter for a given (attribute, operator)\n   * @method\n   * @param {string} attribute attribute to set the filter on\n   * @param {string} [operator] operator of the filter (possible values: =, >, >=, <, <=, !=)\n   * @param {number} [number] the value to be removed\n   * @return {SearchParameters}\n   */\n  removeNumericRefinement: function(attribute, operator, paramValue) {\n    if (paramValue !== undefined) {\n      if (!this.isNumericRefined(attribute, operator, paramValue)) {\n        return this;\n      }\n      return this.setQueryParameters({\n        numericRefinements: this._clearNumericRefinements(function(value, key) {\n          return (\n            key === attribute &&\n            value.op === operator &&\n            isEqualNumericRefinement(value.val, valToNumber(paramValue))\n          );\n        })\n      });\n    } else if (operator !== undefined) {\n      if (!this.isNumericRefined(attribute, operator)) return this;\n      return this.setQueryParameters({\n        numericRefinements: this._clearNumericRefinements(function(value, key) {\n          return key === attribute && value.op === operator;\n        })\n      });\n    }\n\n    if (!this.isNumericRefined(attribute)) return this;\n    return this.setQueryParameters({\n      numericRefinements: this._clearNumericRefinements(function(value, key) {\n        return key === attribute;\n      })\n    });\n  },\n  /**\n   * Get the list of numeric refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {SearchParameters.OperatorList} list of refinements\n   */\n  getNumericRefinements: function(facetName) {\n    return this.numericRefinements[facetName] || {};\n  },\n  /**\n   * Return the current refinement for the (attribute, operator)\n   * @param {string} attribute attribute in the record\n   * @param {string} operator operator applied on the refined values\n   * @return {Array.<number|number[]>} refined values\n   */\n  getNumericRefinement: function(attribute, operator) {\n    return this.numericRefinements[attribute] && this.numericRefinements[attribute][operator];\n  },\n  /**\n   * Clear numeric filters.\n   * @method\n   * @private\n   * @param {string|SearchParameters.clearCallback} [attribute] optional string or function\n   * - If not given, means to clear all the filters.\n   * - If `string`, means to clear all refinements for the `attribute` named filter.\n   * - If `function`, means to clear all the refinements that return truthy values.\n   * @return {Object.<string, OperatorList>}\n   */\n  _clearNumericRefinements: function _clearNumericRefinements(attribute) {\n    if (attribute === undefined) {\n      if (!objectHasKeys(this.numericRefinements)) {\n        return this.numericRefinements;\n      }\n      return {};\n    } else if (typeof attribute === 'string') {\n      return omit(this.numericRefinements, [attribute]);\n    } else if (typeof attribute === 'function') {\n      var hasChanged = false;\n      var numericRefinements = this.numericRefinements;\n      var newNumericRefinements = Object.keys(numericRefinements).reduce(function(memo, key) {\n        var operators = numericRefinements[key];\n        var operatorList = {};\n\n        operators = operators || {};\n        Object.keys(operators).forEach(function(operator) {\n          var values = operators[operator] || [];\n          var outValues = [];\n          values.forEach(function(value) {\n            var predicateResult = attribute({val: value, op: operator}, key, 'numeric');\n            if (!predicateResult) outValues.push(value);\n          });\n          if (outValues.length !== values.length) {\n            hasChanged = true;\n          }\n          operatorList[operator] = outValues;\n        });\n\n        memo[key] = operatorList;\n\n        return memo;\n      }, {});\n\n      if (hasChanged) return newNumericRefinements;\n      return this.numericRefinements;\n    }\n  },\n  /**\n   * Add a facet to the facets attribute of the helper configuration, if it\n   * isn't already present.\n   * @method\n   * @param {string} facet facet name to add\n   * @return {SearchParameters}\n   */\n  addFacet: function addFacet(facet) {\n    if (this.isConjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.setQueryParameters({\n      facets: this.facets.concat([facet])\n    });\n  },\n  /**\n   * Add a disjunctive facet to the disjunctiveFacets attribute of the helper\n   * configuration, if it isn't already present.\n   * @method\n   * @param {string} facet disjunctive facet name to add\n   * @return {SearchParameters}\n   */\n  addDisjunctiveFacet: function addDisjunctiveFacet(facet) {\n    if (this.isDisjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.setQueryParameters({\n      disjunctiveFacets: this.disjunctiveFacets.concat([facet])\n    });\n  },\n  /**\n   * Add a hierarchical facet to the hierarchicalFacets attribute of the helper\n   * configuration.\n   * @method\n   * @param {object} hierarchicalFacet hierarchical facet to add\n   * @return {SearchParameters}\n   * @throws will throw an error if a hierarchical facet with the same name was already declared\n   */\n  addHierarchicalFacet: function addHierarchicalFacet(hierarchicalFacet) {\n    if (this.isHierarchicalFacet(hierarchicalFacet.name)) {\n      throw new Error(\n        'Cannot declare two hierarchical facets with the same name: `' + hierarchicalFacet.name + '`');\n    }\n\n    return this.setQueryParameters({\n      hierarchicalFacets: this.hierarchicalFacets.concat([hierarchicalFacet])\n    });\n  },\n  /**\n   * Add a refinement on a \"normal\" facet\n   * @method\n   * @param {string} facet attribute to apply the faceting on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addFacetRefinement: function addFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (RefinementList.isRefined(this.facetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.addRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Exclude a value from a \"normal\" facet\n   * @method\n   * @param {string} facet attribute to apply the exclusion on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addExcludeRefinement: function addExcludeRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (RefinementList.isRefined(this.facetsExcludes, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.addRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n  /**\n   * Adds a refinement on a disjunctive facet.\n   * @method\n   * @param {string} facet attribute to apply the faceting on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addDisjunctiveFacetRefinement: function addDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n\n    if (RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.addRefinement(\n        this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n  /**\n   * addTagRefinement adds a tag to the list used to filter the results\n   * @param {string} tag tag to be added\n   * @return {SearchParameters}\n   */\n  addTagRefinement: function addTagRefinement(tag) {\n    if (this.isTagRefined(tag)) return this;\n\n    var modification = {\n      tagRefinements: this.tagRefinements.concat(tag)\n    };\n\n    return this.setQueryParameters(modification);\n  },\n  /**\n   * Remove a facet from the facets attribute of the helper configuration, if it\n   * is present.\n   * @method\n   * @param {string} facet facet name to remove\n   * @return {SearchParameters}\n   */\n  removeFacet: function removeFacet(facet) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      facets: this.facets.filter(function(f) {\n        return f !== facet;\n      })\n    });\n  },\n  /**\n   * Remove a disjunctive facet from the disjunctiveFacets attribute of the\n   * helper configuration, if it is present.\n   * @method\n   * @param {string} facet disjunctive facet name to remove\n   * @return {SearchParameters}\n   */\n  removeDisjunctiveFacet: function removeDisjunctiveFacet(facet) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      disjunctiveFacets: this.disjunctiveFacets.filter(function(f) {\n        return f !== facet;\n      })\n    });\n  },\n  /**\n   * Remove a hierarchical facet from the hierarchicalFacets attribute of the\n   * helper configuration, if it is present.\n   * @method\n   * @param {string} facet hierarchical facet name to remove\n   * @return {SearchParameters}\n   */\n  removeHierarchicalFacet: function removeHierarchicalFacet(facet) {\n    if (!this.isHierarchicalFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      hierarchicalFacets: this.hierarchicalFacets.filter(function(f) {\n        return f.name !== facet;\n      })\n    });\n  },\n  /**\n   * Remove a refinement set on facet. If a value is provided, it will clear the\n   * refinement for the given value, otherwise it will clear all the refinement\n   * values for the faceted attribute.\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} [value] value used to filter\n   * @return {SearchParameters}\n   */\n  removeFacetRefinement: function removeFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (!RefinementList.isRefined(this.facetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.removeRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Remove a negative refinement on a facet\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} value value used to filter\n   * @return {SearchParameters}\n   */\n  removeExcludeRefinement: function removeExcludeRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (!RefinementList.isRefined(this.facetsExcludes, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.removeRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n  /**\n   * Remove a refinement on a disjunctive facet\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} value value used to filter\n   * @return {SearchParameters}\n   */\n  removeDisjunctiveFacetRefinement: function removeDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n    if (!RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.removeRefinement(\n        this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Remove a tag from the list of tag refinements\n   * @method\n   * @param {string} tag the tag to remove\n   * @return {SearchParameters}\n   */\n  removeTagRefinement: function removeTagRefinement(tag) {\n    if (!this.isTagRefined(tag)) return this;\n\n    var modification = {\n      tagRefinements: this.tagRefinements.filter(function(t) {\n        return t !== tag;\n      })\n    };\n\n    return this.setQueryParameters(modification);\n  },\n  /**\n   * Generic toggle refinement method to use with facet, disjunctive facets\n   * and hierarchical facets\n   * @param  {string} facet the facet to refine\n   * @param  {string} value the associated value\n   * @return {SearchParameters}\n   * @throws will throw an error if the facet is not declared in the settings of the helper\n   * @deprecated since version 2.19.0, see {@link SearchParameters#toggleFacetRefinement}\n   */\n  toggleRefinement: function toggleRefinement(facet, value) {\n    return this.toggleFacetRefinement(facet, value);\n  },\n  /**\n   * Generic toggle refinement method to use with facet, disjunctive facets\n   * and hierarchical facets\n   * @param  {string} facet the facet to refine\n   * @param  {string} value the associated value\n   * @return {SearchParameters}\n   * @throws will throw an error if the facet is not declared in the settings of the helper\n   */\n  toggleFacetRefinement: function toggleFacetRefinement(facet, value) {\n    if (this.isHierarchicalFacet(facet)) {\n      return this.toggleHierarchicalFacetRefinement(facet, value);\n    } else if (this.isConjunctiveFacet(facet)) {\n      return this.toggleConjunctiveFacetRefinement(facet, value);\n    } else if (this.isDisjunctiveFacet(facet)) {\n      return this.toggleDisjunctiveFacetRefinement(facet, value);\n    }\n\n    throw new Error('Cannot refine the undeclared facet ' + facet +\n      '; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets');\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleConjunctiveFacetRefinement: function toggleConjunctiveFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.toggleRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleExcludeFacetRefinement: function toggleExcludeFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.toggleRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleDisjunctiveFacetRefinement: function toggleDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.toggleRefinement(\n        this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleHierarchicalFacetRefinement: function toggleHierarchicalFacetRefinement(facet, value) {\n    if (!this.isHierarchicalFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the hierarchicalFacets attribute of the helper configuration');\n    }\n\n    var separator = this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(facet));\n\n    var mod = {};\n\n    var upOneOrMultipleLevel = this.hierarchicalFacetsRefinements[facet] !== undefined &&\n      this.hierarchicalFacetsRefinements[facet].length > 0 && (\n      // remove current refinement:\n      // refinement was 'beer > IPA', call is toggleRefine('beer > IPA'), refinement should be `beer`\n      this.hierarchicalFacetsRefinements[facet][0] === value ||\n      // remove a parent refinement of the current refinement:\n      //  - refinement was 'beer > IPA > Flying dog'\n      //  - call is toggleRefine('beer > IPA')\n      //  - refinement should be `beer`\n      this.hierarchicalFacetsRefinements[facet][0].indexOf(value + separator) === 0\n    );\n\n    if (upOneOrMultipleLevel) {\n      if (value.indexOf(separator) === -1) {\n        // go back to root level\n        mod[facet] = [];\n      } else {\n        mod[facet] = [value.slice(0, value.lastIndexOf(separator))];\n      }\n    } else {\n      mod[facet] = [value];\n    }\n\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n\n  /**\n   * Adds a refinement on a hierarchical facet.\n   * @param {string} facet the facet name\n   * @param {string} path the hierarchical facet path\n   * @return {SearchParameter} the new state\n   * @throws Error if the facet is not defined or if the facet is refined\n   */\n  addHierarchicalFacetRefinement: function(facet, path) {\n    if (this.isHierarchicalFacetRefined(facet)) {\n      throw new Error(facet + ' is already refined.');\n    }\n    if (!this.isHierarchicalFacet(facet)) {\n      throw new Error(facet + ' is not defined in the hierarchicalFacets attribute of the helper configuration.');\n    }\n    var mod = {};\n    mod[facet] = [path];\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n\n  /**\n   * Removes the refinement set on a hierarchical facet.\n   * @param {string} facet the facet name\n   * @return {SearchParameter} the new state\n   * @throws Error if the facet is not defined or if the facet is not refined\n   */\n  removeHierarchicalFacetRefinement: function(facet) {\n    if (!this.isHierarchicalFacetRefined(facet)) {\n      return this;\n    }\n    var mod = {};\n    mod[facet] = [];\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n  /**\n   * Switch the tag refinement\n   * @method\n   * @param {string} tag the tag to remove or add\n   * @return {SearchParameters}\n   */\n  toggleTagRefinement: function toggleTagRefinement(tag) {\n    if (this.isTagRefined(tag)) {\n      return this.removeTagRefinement(tag);\n    }\n\n    return this.addTagRefinement(tag);\n  },\n  /**\n   * Test if the facet name is from one of the disjunctive facets\n   * @method\n   * @param {string} facet facet name to test\n   * @return {boolean}\n   */\n  isDisjunctiveFacet: function(facet) {\n    return this.disjunctiveFacets.indexOf(facet) > -1;\n  },\n  /**\n   * Test if the facet name is from one of the hierarchical facets\n   * @method\n   * @param {string} facetName facet name to test\n   * @return {boolean}\n   */\n  isHierarchicalFacet: function(facetName) {\n    return this.getHierarchicalFacetByName(facetName) !== undefined;\n  },\n  /**\n   * Test if the facet name is from one of the conjunctive/normal facets\n   * @method\n   * @param {string} facet facet name to test\n   * @return {boolean}\n   */\n  isConjunctiveFacet: function(facet) {\n    return this.facets.indexOf(facet) > -1;\n  },\n  /**\n   * Returns true if the facet is refined, either for a specific value or in\n   * general.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value, optional value. If passed will test that this value\n   * is filtering the given facet.\n   * @return {boolean} returns true if refined\n   */\n  isFacetRefined: function isFacetRefined(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return false;\n    }\n    return RefinementList.isRefined(this.facetsRefinements, facet, value);\n  },\n  /**\n   * Returns true if the facet contains exclusions or if a specific value is\n   * excluded.\n   *\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} [value] optional value. If passed will test that this value\n   * is filtering the given facet.\n   * @return {boolean} returns true if refined\n   */\n  isExcludeRefined: function isExcludeRefined(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return false;\n    }\n    return RefinementList.isRefined(this.facetsExcludes, facet, value);\n  },\n  /**\n   * Returns true if the facet contains a refinement, or if a value passed is a\n   * refinement for the facet.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value optional, will test if the value is used for refinement\n   * if there is one, otherwise will test if the facet contains any refinement\n   * @return {boolean}\n   */\n  isDisjunctiveFacetRefined: function isDisjunctiveFacetRefined(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      return false;\n    }\n    return RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value);\n  },\n  /**\n   * Returns true if the facet contains a refinement, or if a value passed is a\n   * refinement for the facet.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value optional, will test if the value is used for refinement\n   * if there is one, otherwise will test if the facet contains any refinement\n   * @return {boolean}\n   */\n  isHierarchicalFacetRefined: function isHierarchicalFacetRefined(facet, value) {\n    if (!this.isHierarchicalFacet(facet)) {\n      return false;\n    }\n\n    var refinements = this.getHierarchicalRefinement(facet);\n\n    if (!value) {\n      return refinements.length > 0;\n    }\n\n    return refinements.indexOf(value) !== -1;\n  },\n  /**\n   * Test if the triple (attribute, operator, value) is already refined.\n   * If only the attribute and the operator are provided, it tests if the\n   * contains any refinement value.\n   * @method\n   * @param {string} attribute attribute for which the refinement is applied\n   * @param {string} [operator] operator of the refinement\n   * @param {string} [value] value of the refinement\n   * @return {boolean} true if it is refined\n   */\n  isNumericRefined: function isNumericRefined(attribute, operator, value) {\n    if (value === undefined && operator === undefined) {\n      return !!this.numericRefinements[attribute];\n    }\n\n    var isOperatorDefined =\n      this.numericRefinements[attribute] &&\n      this.numericRefinements[attribute][operator] !== undefined;\n\n    if (value === undefined || !isOperatorDefined) {\n      return isOperatorDefined;\n    }\n\n    var parsedValue = valToNumber(value);\n    var isAttributeValueDefined =\n      findArray(this.numericRefinements[attribute][operator], parsedValue) !==\n      undefined;\n\n    return isOperatorDefined && isAttributeValueDefined;\n  },\n  /**\n   * Returns true if the tag refined, false otherwise\n   * @method\n   * @param {string} tag the tag to check\n   * @return {boolean}\n   */\n  isTagRefined: function isTagRefined(tag) {\n    return this.tagRefinements.indexOf(tag) !== -1;\n  },\n  /**\n   * Returns the list of all disjunctive facets refined\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {string[]}\n   */\n  getRefinedDisjunctiveFacets: function getRefinedDisjunctiveFacets() {\n    var self = this;\n\n    // attributes used for numeric filter can also be disjunctive\n    var disjunctiveNumericRefinedFacets = intersection(\n      Object.keys(this.numericRefinements).filter(function(facet) {\n        return Object.keys(self.numericRefinements[facet]).length > 0;\n      }),\n      this.disjunctiveFacets\n    );\n\n    return Object.keys(this.disjunctiveFacetsRefinements).filter(function(facet) {\n      return self.disjunctiveFacetsRefinements[facet].length > 0;\n    })\n      .concat(disjunctiveNumericRefinedFacets)\n      .concat(this.getRefinedHierarchicalFacets());\n  },\n  /**\n   * Returns the list of all disjunctive facets refined\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {string[]}\n   */\n  getRefinedHierarchicalFacets: function getRefinedHierarchicalFacets() {\n    var self = this;\n    return intersection(\n      // enforce the order between the two arrays,\n      // so that refinement name index === hierarchical facet index\n      this.hierarchicalFacets.map(function(facet) { return facet.name; }),\n      Object.keys(this.hierarchicalFacetsRefinements).filter(function(facet) {\n        return self.hierarchicalFacetsRefinements[facet].length > 0;\n      })\n    );\n  },\n  /**\n   * Returned the list of all disjunctive facets not refined\n   * @method\n   * @return {string[]}\n   */\n  getUnrefinedDisjunctiveFacets: function() {\n    var refinedFacets = this.getRefinedDisjunctiveFacets();\n\n    return this.disjunctiveFacets.filter(function(f) {\n      return refinedFacets.indexOf(f) === -1;\n    });\n  },\n\n  managedParameters: [\n    'index',\n\n    'facets',\n    'disjunctiveFacets',\n    'facetsRefinements',\n    'hierarchicalFacets',\n    'facetsExcludes',\n\n    'disjunctiveFacetsRefinements',\n    'numericRefinements',\n    'tagRefinements',\n    'hierarchicalFacetsRefinements'\n  ],\n  getQueryParams: function getQueryParams() {\n    var managedParameters = this.managedParameters;\n\n    var queryParams = {};\n\n    var self = this;\n    Object.keys(this).forEach(function(paramName) {\n      var paramValue = self[paramName];\n      if (managedParameters.indexOf(paramName) === -1 && paramValue !== undefined) {\n        queryParams[paramName] = paramValue;\n      }\n    });\n\n    return queryParams;\n  },\n  /**\n   * Let the user set a specific value for a given parameter. Will return the\n   * same instance if the parameter is invalid or if the value is the same as the\n   * previous one.\n   * @method\n   * @param {string} parameter the parameter name\n   * @param {any} value the value to be set, must be compliant with the definition\n   * of the attribute on the object\n   * @return {SearchParameters} the updated state\n   */\n  setQueryParameter: function setParameter(parameter, value) {\n    if (this[parameter] === value) return this;\n\n    var modification = {};\n\n    modification[parameter] = value;\n\n    return this.setQueryParameters(modification);\n  },\n  /**\n   * Let the user set any of the parameters with a plain object.\n   * @method\n   * @param {object} params all the keys and the values to be updated\n   * @return {SearchParameters} a new updated instance\n   */\n  setQueryParameters: function setQueryParameters(params) {\n    if (!params) return this;\n\n    var error = SearchParameters.validate(this, params);\n\n    if (error) {\n      throw error;\n    }\n\n    var self = this;\n    var nextWithNumbers = SearchParameters._parseNumbers(params);\n    var previousPlainObject = Object.keys(this).reduce(function(acc, key) {\n      acc[key] = self[key];\n      return acc;\n    }, {});\n\n    var nextPlainObject = Object.keys(nextWithNumbers).reduce(\n      function(previous, key) {\n        var isPreviousValueDefined = previous[key] !== undefined;\n        var isNextValueDefined = nextWithNumbers[key] !== undefined;\n\n        if (isPreviousValueDefined && !isNextValueDefined) {\n          return omit(previous, [key]);\n        }\n\n        if (isNextValueDefined) {\n          previous[key] = nextWithNumbers[key];\n        }\n\n        return previous;\n      },\n      previousPlainObject\n    );\n\n    return new this.constructor(nextPlainObject);\n  },\n\n  /**\n   * Returns a new instance with the page reset. Two scenarios possible:\n   * the page is omitted -> return the given instance\n   * the page is set -> return a new instance with a page of 0\n   * @return {SearchParameters} a new updated instance\n   */\n  resetPage: function() {\n    if (this.page === undefined) {\n      return this;\n    }\n\n    return this.setPage(0);\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet separator or the default one (`>`)\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.separator or `>` as default\n   */\n  _getHierarchicalFacetSortBy: function(hierarchicalFacet) {\n    return hierarchicalFacet.sortBy || ['isRefined:desc', 'name:asc'];\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet separator or the default one (`>`)\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.separator or `>` as default\n   */\n  _getHierarchicalFacetSeparator: function(hierarchicalFacet) {\n    return hierarchicalFacet.separator || ' > ';\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet prefix path or null\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.rootPath or null as default\n   */\n  _getHierarchicalRootPath: function(hierarchicalFacet) {\n    return hierarchicalFacet.rootPath || null;\n  },\n\n  /**\n   * Helper function to check if we show the parent level of the hierarchicalFacet\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.showParentLevel or true as default\n   */\n  _getHierarchicalShowParentLevel: function(hierarchicalFacet) {\n    if (typeof hierarchicalFacet.showParentLevel === 'boolean') {\n      return hierarchicalFacet.showParentLevel;\n    }\n    return true;\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet by it's name\n   * @param  {string} hierarchicalFacetName\n   * @return {object} a hierarchicalFacet\n   */\n  getHierarchicalFacetByName: function(hierarchicalFacetName) {\n    return find(\n      this.hierarchicalFacets,\n      function(f) {\n        return f.name === hierarchicalFacetName;\n      }\n    );\n  },\n\n  /**\n   * Get the current breadcrumb for a hierarchical facet, as an array\n   * @param  {string} facetName Hierarchical facet name\n   * @return {array.<string>} the path as an array of string\n   */\n  getHierarchicalFacetBreadcrumb: function(facetName) {\n    if (!this.isHierarchicalFacet(facetName)) {\n      return [];\n    }\n\n    var refinement = this.getHierarchicalRefinement(facetName)[0];\n    if (!refinement) return [];\n\n    var separator = this._getHierarchicalFacetSeparator(\n      this.getHierarchicalFacetByName(facetName)\n    );\n    var path = refinement.split(separator);\n    return path.map(function(part) {\n      return part.trim();\n    });\n  },\n\n  toString: function() {\n    return JSON.stringify(this, null, 2);\n  }\n};\n\n/**\n * Callback used for clearRefinement method\n * @callback SearchParameters.clearCallback\n * @param {OperatorList|FacetList} value the value of the filter\n * @param {string} key the current attribute name\n * @param {string} type `numeric`, `disjunctiveFacet`, `conjunctiveFacet`, `hierarchicalFacet` or `exclude`\n * depending on the type of facet\n * @return {boolean} `true` if the element should be removed. `false` otherwise.\n */\nmodule.exports = SearchParameters;\n","'use strict';\n\nmodule.exports = generateTrees;\n\nvar orderBy = require('../functions/orderBy');\nvar find = require('../functions/find');\nvar prepareHierarchicalFacetSortBy = require('../functions/formatSort');\nvar fv = require('../functions/escapeFacetValue');\nvar escapeFacetValue = fv.escapeFacetValue;\nvar unescapeFacetValue = fv.unescapeFacetValue;\n\nfunction generateTrees(state) {\n  return function generate(hierarchicalFacetResult, hierarchicalFacetIndex) {\n    var hierarchicalFacet = state.hierarchicalFacets[hierarchicalFacetIndex];\n    var hierarchicalFacetRefinement =\n      (state.hierarchicalFacetsRefinements[hierarchicalFacet.name] &&\n        state.hierarchicalFacetsRefinements[hierarchicalFacet.name][0]) ||\n      '';\n    var hierarchicalSeparator = state._getHierarchicalFacetSeparator(\n      hierarchicalFacet\n    );\n    var hierarchicalRootPath = state._getHierarchicalRootPath(\n      hierarchicalFacet\n    );\n    var hierarchicalShowParentLevel = state._getHierarchicalShowParentLevel(\n      hierarchicalFacet\n    );\n    var sortBy = prepareHierarchicalFacetSortBy(\n      state._getHierarchicalFacetSortBy(hierarchicalFacet)\n    );\n\n    var rootExhaustive = hierarchicalFacetResult.every(function(facetResult) {\n      return facetResult.exhaustive;\n    });\n\n    var generateTreeFn = generateHierarchicalTree(\n      sortBy,\n      hierarchicalSeparator,\n      hierarchicalRootPath,\n      hierarchicalShowParentLevel,\n      hierarchicalFacetRefinement\n    );\n\n    var results = hierarchicalFacetResult;\n\n    if (hierarchicalRootPath) {\n      results = hierarchicalFacetResult.slice(\n        hierarchicalRootPath.split(hierarchicalSeparator).length\n      );\n    }\n\n    return results.reduce(generateTreeFn, {\n      name: state.hierarchicalFacets[hierarchicalFacetIndex].name,\n      count: null, // root level, no count\n      isRefined: true, // root level, always refined\n      path: null, // root level, no path\n      escapedValue: null,\n      exhaustive: rootExhaustive,\n      data: null\n    });\n  };\n}\n\nfunction generateHierarchicalTree(\n  sortBy,\n  hierarchicalSeparator,\n  hierarchicalRootPath,\n  hierarchicalShowParentLevel,\n  currentRefinement\n) {\n  return function generateTree(\n    hierarchicalTree,\n    hierarchicalFacetResult,\n    currentHierarchicalLevel\n  ) {\n    var parent = hierarchicalTree;\n\n    if (currentHierarchicalLevel > 0) {\n      var level = 0;\n\n      parent = hierarchicalTree;\n\n      while (level < currentHierarchicalLevel) {\n        /**\n         * @type {object[]]} hierarchical data\n         */\n        var data = parent && Array.isArray(parent.data) ? parent.data : [];\n        parent = find(data, function(subtree) {\n          return subtree.isRefined;\n        });\n        level++;\n      }\n    }\n\n    // we found a refined parent, let's add current level data under it\n    if (parent) {\n      // filter values in case an object has multiple categories:\n      //   {\n      //     categories: {\n      //       level0: ['beers', 'bires'],\n      //       level1: ['beers > IPA', 'bires > Belges']\n      //     }\n      //   }\n      //\n      // If parent refinement is `beers`, then we do not want to have `bires > Belges`\n      // showing up\n\n      var picked = Object.keys(hierarchicalFacetResult.data)\n        .map(function(facetValue) {\n          return [facetValue, hierarchicalFacetResult.data[facetValue]];\n        })\n        .filter(function(tuple) {\n          var facetValue = tuple[0];\n          return onlyMatchingTree(\n            facetValue,\n            parent.path || hierarchicalRootPath,\n            currentRefinement,\n            hierarchicalSeparator,\n            hierarchicalRootPath,\n            hierarchicalShowParentLevel\n          );\n        });\n\n      parent.data = orderBy(\n        picked.map(function(tuple) {\n          var facetValue = tuple[0];\n          var facetCount = tuple[1];\n\n          return format(\n            facetCount,\n            facetValue,\n            hierarchicalSeparator,\n            unescapeFacetValue(currentRefinement),\n            hierarchicalFacetResult.exhaustive\n          );\n        }),\n        sortBy[0],\n        sortBy[1]\n      );\n    }\n\n    return hierarchicalTree;\n  };\n}\n\nfunction onlyMatchingTree(\n  facetValue,\n  parentPath,\n  currentRefinement,\n  hierarchicalSeparator,\n  hierarchicalRootPath,\n  hierarchicalShowParentLevel\n) {\n  // we want the facetValue is a child of hierarchicalRootPath\n  if (\n    hierarchicalRootPath &&\n    (facetValue.indexOf(hierarchicalRootPath) !== 0 ||\n      hierarchicalRootPath === facetValue)\n  ) {\n    return false;\n  }\n\n  // we always want root levels (only when there is no prefix path)\n  return (\n    (!hierarchicalRootPath &&\n      facetValue.indexOf(hierarchicalSeparator) === -1) ||\n    // if there is a rootPath, being root level mean 1 level under rootPath\n    (hierarchicalRootPath &&\n      facetValue.split(hierarchicalSeparator).length -\n        hierarchicalRootPath.split(hierarchicalSeparator).length ===\n        1) ||\n    // if current refinement is a root level and current facetValue is a root level,\n    // keep the facetValue\n    (facetValue.indexOf(hierarchicalSeparator) === -1 &&\n      currentRefinement.indexOf(hierarchicalSeparator) === -1) ||\n    // currentRefinement is a child of the facet value\n    currentRefinement.indexOf(facetValue) === 0 ||\n    // facetValue is a child of the current parent, add it\n    (facetValue.indexOf(parentPath + hierarchicalSeparator) === 0 &&\n      (hierarchicalShowParentLevel ||\n        facetValue.indexOf(currentRefinement) === 0))\n  );\n}\n\nfunction format(\n  facetCount,\n  facetValue,\n  hierarchicalSeparator,\n  currentRefinement,\n  exhaustive\n) {\n  var parts = facetValue.split(hierarchicalSeparator);\n  return {\n    name: parts[parts.length - 1].trim(),\n    path: facetValue,\n    escapedValue: escapeFacetValue(facetValue),\n    count: facetCount,\n    isRefined:\n      currentRefinement === facetValue ||\n      currentRefinement.indexOf(facetValue + hierarchicalSeparator) === 0,\n    exhaustive: exhaustive,\n    data: null\n  };\n}\n","'use strict';\n\nvar merge = require('../functions/merge');\nvar defaultsPure = require('../functions/defaultsPure');\nvar orderBy = require('../functions/orderBy');\nvar compact = require('../functions/compact');\nvar find = require('../functions/find');\nvar findIndex = require('../functions/findIndex');\nvar formatSort = require('../functions/formatSort');\nvar fv = require('../functions/escapeFacetValue');\nvar escapeFacetValue = fv.escapeFacetValue;\nvar unescapeFacetValue = fv.unescapeFacetValue;\n\nvar generateHierarchicalTree = require('./generate-hierarchical-tree');\n\n/**\n * @typedef SearchResults.Facet\n * @type {object}\n * @property {string} name name of the attribute in the record\n * @property {object} data the faceting data: value, number of entries\n * @property {object} stats undefined unless facet_stats is retrieved from algolia\n */\n\n/**\n * @typedef SearchResults.HierarchicalFacet\n * @type {object}\n * @property {string} name name of the current value given the hierarchical level, trimmed.\n * If root node, you get the facet name\n * @property {number} count number of objects matching this hierarchical value\n * @property {string} path the current hierarchical value full path\n * @property {boolean} isRefined `true` if the current value was refined, `false` otherwise\n * @property {HierarchicalFacet[]} data sub values for the current level\n */\n\n/**\n * @typedef SearchResults.FacetValue\n * @type {object}\n * @property {string} name the facet value itself\n * @property {number} count times this facet appears in the results\n * @property {boolean} isRefined is the facet currently selected\n * @property {boolean} isExcluded is the facet currently excluded (only for conjunctive facets)\n */\n\n/**\n * @typedef Refinement\n * @type {object}\n * @property {string} type the type of filter used:\n * `numeric`, `facet`, `exclude`, `disjunctive`, `hierarchical`\n * @property {string} attributeName name of the attribute used for filtering\n * @property {string} name the value of the filter\n * @property {number} numericValue the value as a number. Only for numeric filters.\n * @property {string} operator the operator used. Only for numeric filters.\n * @property {number} count the number of computed hits for this filter. Only on facets.\n * @property {boolean} exhaustive if the count is exhaustive\n */\n\n/**\n * @param {string[]} attributes\n */\nfunction getIndices(attributes) {\n  var indices = {};\n\n  attributes.forEach(function(val, idx) {\n    indices[val] = idx;\n  });\n\n  return indices;\n}\n\nfunction assignFacetStats(dest, facetStats, key) {\n  if (facetStats && facetStats[key]) {\n    dest.stats = facetStats[key];\n  }\n}\n\n/**\n * @typedef {Object} HierarchicalFacet\n * @property {string} name\n * @property {string[]} attributes\n */\n\n/**\n * @param {HierarchicalFacet[]} hierarchicalFacets\n * @param {string} hierarchicalAttributeName\n */\nfunction findMatchingHierarchicalFacetFromAttributeName(\n  hierarchicalFacets,\n  hierarchicalAttributeName\n) {\n  return find(hierarchicalFacets, function facetKeyMatchesAttribute(\n    hierarchicalFacet\n  ) {\n    var facetNames = hierarchicalFacet.attributes || [];\n    return facetNames.indexOf(hierarchicalAttributeName) > -1;\n  });\n}\n\n/*eslint-disable */\n/**\n * Constructor for SearchResults\n * @class\n * @classdesc SearchResults contains the results of a query to Algolia using the\n * {@link AlgoliaSearchHelper}.\n * @param {SearchParameters} state state that led to the response\n * @param {array.<object>} results the results from algolia client\n * @example <caption>SearchResults of the first query in\n * <a href=\"http://demos.algolia.com/instant-search-demo\">the instant search demo</a></caption>\n{\n   \"hitsPerPage\": 10,\n   \"processingTimeMS\": 2,\n   \"facets\": [\n      {\n         \"name\": \"type\",\n         \"data\": {\n            \"HardGood\": 6627,\n            \"BlackTie\": 550,\n            \"Music\": 665,\n            \"Software\": 131,\n            \"Game\": 456,\n            \"Movie\": 1571\n         },\n         \"exhaustive\": false\n      },\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"Free shipping\": 5507\n         },\n         \"name\": \"shipping\"\n      }\n  ],\n   \"hits\": [\n      {\n         \"thumbnailImage\": \"http://img.bbystatic.com/BestBuy_US/images/products/1688/1688832_54x108_s.gif\",\n         \"_highlightResult\": {\n            \"shortDescription\": {\n               \"matchLevel\": \"none\",\n               \"value\": \"Safeguard your PC, Mac, Android and iOS devices with comprehensive Internet protection\",\n               \"matchedWords\": []\n            },\n            \"category\": {\n               \"matchLevel\": \"none\",\n               \"value\": \"Computer Security Software\",\n               \"matchedWords\": []\n            },\n            \"manufacturer\": {\n               \"matchedWords\": [],\n               \"value\": \"Webroot\",\n               \"matchLevel\": \"none\"\n            },\n            \"name\": {\n               \"value\": \"Webroot SecureAnywhere Internet Security (3-Device) (1-Year Subscription) - Mac/Windows\",\n               \"matchedWords\": [],\n               \"matchLevel\": \"none\"\n            }\n         },\n         \"image\": \"http://img.bbystatic.com/BestBuy_US/images/products/1688/1688832_105x210_sc.jpg\",\n         \"shipping\": \"Free shipping\",\n         \"bestSellingRank\": 4,\n         \"shortDescription\": \"Safeguard your PC, Mac, Android and iOS devices with comprehensive Internet protection\",\n         \"url\": \"http://www.bestbuy.com/site/webroot-secureanywhere-internet-security-3-devid=1219060687969&skuId=1688832&cmp=RMX&ky=2d3GfEmNIzjA0vkzveHdZEBgpPCyMnLTJ\",\n         \"name\": \"Webroot SecureAnywhere Internet Security (3-Device) (1-Year Subscription) - Mac/Windows\",\n         \"category\": \"Computer Security Software\",\n         \"salePrice_range\": \"1 - 50\",\n         \"objectID\": \"1688832\",\n         \"type\": \"Software\",\n         \"customerReviewCount\": 5980,\n         \"salePrice\": 49.99,\n         \"manufacturer\": \"Webroot\"\n      },\n      ....\n  ],\n   \"nbHits\": 10000,\n   \"disjunctiveFacets\": [\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"5\": 183,\n            \"12\": 112,\n            \"7\": 149,\n            ...\n         },\n         \"name\": \"customerReviewCount\",\n         \"stats\": {\n            \"max\": 7461,\n            \"avg\": 157.939,\n            \"min\": 1\n         }\n      },\n      {\n         \"data\": {\n            \"Printer Ink\": 142,\n            \"Wireless Speakers\": 60,\n            \"Point & Shoot Cameras\": 48,\n            ...\n         },\n         \"name\": \"category\",\n         \"exhaustive\": false\n      },\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"> 5000\": 2,\n            \"1 - 50\": 6524,\n            \"501 - 2000\": 566,\n            \"201 - 500\": 1501,\n            \"101 - 200\": 1360,\n            \"2001 - 5000\": 47\n         },\n         \"name\": \"salePrice_range\"\n      },\n      {\n         \"data\": {\n            \"Dynex\": 202,\n            \"Insignia\": 230,\n            \"PNY\": 72,\n            ...\n         },\n         \"name\": \"manufacturer\",\n         \"exhaustive\": false\n      }\n  ],\n   \"query\": \"\",\n   \"nbPages\": 100,\n   \"page\": 0,\n   \"index\": \"bestbuy\"\n}\n **/\n/*eslint-enable */\nfunction SearchResults(state, results, options) {\n  var mainSubResponse = results[0];\n\n  this._rawResults = results;\n\n  var self = this;\n\n  // https://www.algolia.com/doc/api-reference/api-methods/search/#response\n  Object.keys(mainSubResponse).forEach(function(key) {\n    self[key] = mainSubResponse[key];\n  });\n\n  // Make every key of the result options reachable from the instance\n  Object.keys(options || {}).forEach(function(key) {\n    self[key] = options[key];\n  });\n\n  /**\n   * query used to generate the results\n   * @name query\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * The query as parsed by the engine given all the rules.\n   * @name parsedQuery\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * all the records that match the search parameters. Each record is\n   * augmented with a new attribute `_highlightResult`\n   * which is an object keyed by attribute and with the following properties:\n   *  - `value` : the value of the facet highlighted (html)\n   *  - `matchLevel`: full, partial or none depending on how the query terms match\n   * @name hits\n   * @member {object[]}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * index where the results come from\n   * @name index\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * number of hits per page requested\n   * @name hitsPerPage\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * total number of hits of this query on the index\n   * @name nbHits\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * total number of pages with respect to the number of hits per page and the total number of hits\n   * @name nbPages\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * current page\n   * @name page\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * The position if the position was guessed by IP.\n   * @name aroundLatLng\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"48.8637,2.3615\",\n   */\n  /**\n   * The radius computed by Algolia.\n   * @name automaticRadius\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"126792922\",\n   */\n  /**\n   * String identifying the server used to serve this request.\n   *\n   * getRankingInfo needs to be set to `true` for this to be returned\n   *\n   * @name serverUsed\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"c7-use-2.algolia.net\",\n   */\n  /**\n   * Boolean that indicates if the computation of the counts did time out.\n   * @deprecated\n   * @name timeoutCounts\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * Boolean that indicates if the computation of the hits did time out.\n   * @deprecated\n   * @name timeoutHits\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * True if the counts of the facets is exhaustive\n   * @name exhaustiveFacetsCount\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * True if the number of hits is exhaustive\n   * @name exhaustiveNbHits\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * Contains the userData if they are set by a [query rule](https://www.algolia.com/doc/guides/query-rules/query-rules-overview/).\n   * @name userData\n   * @member {object[]}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * queryID is the unique identifier of the query used to generate the current search results.\n   * This value is only available if the `clickAnalytics` search parameter is set to `true`.\n   * @name queryID\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * sum of the processing time of all the queries\n   * @member {number}\n   */\n  this.processingTimeMS = results.reduce(function(sum, result) {\n    return result.processingTimeMS === undefined\n      ? sum\n      : sum + result.processingTimeMS;\n  }, 0);\n\n  /**\n   * disjunctive facets results\n   * @member {SearchResults.Facet[]}\n   */\n  this.disjunctiveFacets = [];\n  /**\n   * disjunctive facets results\n   * @member {SearchResults.HierarchicalFacet[]}\n   */\n  this.hierarchicalFacets = state.hierarchicalFacets.map(function initFutureTree() {\n    return [];\n  });\n  /**\n   * other facets results\n   * @member {SearchResults.Facet[]}\n   */\n  this.facets = [];\n\n  var disjunctiveFacets = state.getRefinedDisjunctiveFacets();\n\n  var facetsIndices = getIndices(state.facets);\n  var disjunctiveFacetsIndices = getIndices(state.disjunctiveFacets);\n  var nextDisjunctiveResult = 1;\n\n  // Since we send request only for disjunctive facets that have been refined,\n  // we get the facets information from the first, general, response.\n\n  var mainFacets = mainSubResponse.facets || {};\n\n  Object.keys(mainFacets).forEach(function(facetKey) {\n    var facetValueObject = mainFacets[facetKey];\n\n    var hierarchicalFacet = findMatchingHierarchicalFacetFromAttributeName(\n      state.hierarchicalFacets,\n      facetKey\n    );\n\n    if (hierarchicalFacet) {\n      // Place the hierarchicalFacet data at the correct index depending on\n      // the attributes order that was defined at the helper initialization\n      var facetIndex = hierarchicalFacet.attributes.indexOf(facetKey);\n      var idxAttributeName = findIndex(state.hierarchicalFacets, function(f) {\n        return f.name === hierarchicalFacet.name;\n      });\n      self.hierarchicalFacets[idxAttributeName][facetIndex] = {\n        attribute: facetKey,\n        data: facetValueObject,\n        exhaustive: mainSubResponse.exhaustiveFacetsCount\n      };\n    } else {\n      var isFacetDisjunctive = state.disjunctiveFacets.indexOf(facetKey) !== -1;\n      var isFacetConjunctive = state.facets.indexOf(facetKey) !== -1;\n      var position;\n\n      if (isFacetDisjunctive) {\n        position = disjunctiveFacetsIndices[facetKey];\n        self.disjunctiveFacets[position] = {\n          name: facetKey,\n          data: facetValueObject,\n          exhaustive: mainSubResponse.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.disjunctiveFacets[position], mainSubResponse.facets_stats, facetKey);\n      }\n      if (isFacetConjunctive) {\n        position = facetsIndices[facetKey];\n        self.facets[position] = {\n          name: facetKey,\n          data: facetValueObject,\n          exhaustive: mainSubResponse.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.facets[position], mainSubResponse.facets_stats, facetKey);\n      }\n    }\n  });\n\n  // Make sure we do not keep holes within the hierarchical facets\n  this.hierarchicalFacets = compact(this.hierarchicalFacets);\n\n  // aggregate the refined disjunctive facets\n  disjunctiveFacets.forEach(function(disjunctiveFacet) {\n    var result = results[nextDisjunctiveResult];\n    var facets = result && result.facets ? result.facets : {};\n    var hierarchicalFacet = state.getHierarchicalFacetByName(disjunctiveFacet);\n\n    // There should be only item in facets.\n    Object.keys(facets).forEach(function(dfacet) {\n      var facetResults = facets[dfacet];\n\n      var position;\n\n      if (hierarchicalFacet) {\n        position = findIndex(state.hierarchicalFacets, function(f) {\n          return f.name === hierarchicalFacet.name;\n        });\n        var attributeIndex = findIndex(self.hierarchicalFacets[position], function(f) {\n          return f.attribute === dfacet;\n        });\n\n        // previous refinements and no results so not able to find it\n        if (attributeIndex === -1) {\n          return;\n        }\n\n        self.hierarchicalFacets[position][attributeIndex].data = merge(\n          {},\n          self.hierarchicalFacets[position][attributeIndex].data,\n          facetResults\n        );\n      } else {\n        position = disjunctiveFacetsIndices[dfacet];\n\n        var dataFromMainRequest = mainSubResponse.facets && mainSubResponse.facets[dfacet] || {};\n\n        self.disjunctiveFacets[position] = {\n          name: dfacet,\n          data: defaultsPure({}, facetResults, dataFromMainRequest),\n          exhaustive: result.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.disjunctiveFacets[position], result.facets_stats, dfacet);\n\n        if (state.disjunctiveFacetsRefinements[dfacet]) {\n          state.disjunctiveFacetsRefinements[dfacet].forEach(function(refinementValue) {\n            // add the disjunctive refinements if it is no more retrieved\n            if (!self.disjunctiveFacets[position].data[refinementValue] &&\n              state.disjunctiveFacetsRefinements[dfacet].indexOf(unescapeFacetValue(refinementValue)) > -1) {\n              self.disjunctiveFacets[position].data[refinementValue] = 0;\n            }\n          });\n        }\n      }\n    });\n    nextDisjunctiveResult++;\n  });\n\n  // if we have some parent level values for hierarchical facets, merge them\n  state.getRefinedHierarchicalFacets().forEach(function(refinedFacet) {\n    var hierarchicalFacet = state.getHierarchicalFacetByName(refinedFacet);\n    var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n    var currentRefinement = state.getHierarchicalRefinement(refinedFacet);\n    // if we are already at a root refinement (or no refinement at all), there is no\n    // root level values request\n    if (currentRefinement.length === 0 || currentRefinement[0].split(separator).length < 2) {\n      return;\n    }\n\n    results.slice(nextDisjunctiveResult).forEach(function(result) {\n      var facets = result && result.facets\n        ? result.facets\n        : {};\n\n      Object.keys(facets).forEach(function(dfacet) {\n        var facetResults = facets[dfacet];\n        var position = findIndex(state.hierarchicalFacets, function(f) {\n          return f.name === hierarchicalFacet.name;\n        });\n        var attributeIndex = findIndex(self.hierarchicalFacets[position], function(f) {\n          return f.attribute === dfacet;\n        });\n\n        // previous refinements and no results so not able to find it\n        if (attributeIndex === -1) {\n          return;\n        }\n\n        // when we always get root levels, if the hits refinement is `beers > IPA` (count: 5),\n        // then the disjunctive values will be `beers` (count: 100),\n        // but we do not want to display\n        //   | beers (100)\n        //     > IPA (5)\n        // We want\n        //   | beers (5)\n        //     > IPA (5)\n        var defaultData = {};\n\n        if (currentRefinement.length > 0) {\n          var root = currentRefinement[0].split(separator)[0];\n          defaultData[root] = self.hierarchicalFacets[position][attributeIndex].data[root];\n        }\n\n        self.hierarchicalFacets[position][attributeIndex].data = defaultsPure(\n          defaultData,\n          facetResults,\n          self.hierarchicalFacets[position][attributeIndex].data\n        );\n      });\n\n      nextDisjunctiveResult++;\n    });\n  });\n\n  // add the excludes\n  Object.keys(state.facetsExcludes).forEach(function(facetName) {\n    var excludes = state.facetsExcludes[facetName];\n    var position = facetsIndices[facetName];\n\n    self.facets[position] = {\n      name: facetName,\n      data: mainSubResponse.facets[facetName],\n      exhaustive: mainSubResponse.exhaustiveFacetsCount\n    };\n    excludes.forEach(function(facetValue) {\n      self.facets[position] = self.facets[position] || {name: facetName};\n      self.facets[position].data = self.facets[position].data || {};\n      self.facets[position].data[facetValue] = 0;\n    });\n  });\n\n  /**\n   * @type {Array}\n   */\n  this.hierarchicalFacets = this.hierarchicalFacets.map(generateHierarchicalTree(state));\n\n  /**\n   * @type {Array}\n   */\n  this.facets = compact(this.facets);\n  /**\n   * @type {Array}\n   */\n  this.disjunctiveFacets = compact(this.disjunctiveFacets);\n\n  this._state = state;\n}\n\n/**\n * Get a facet object with its name\n * @deprecated\n * @param {string} name name of the faceted attribute\n * @return {SearchResults.Facet} the facet object\n */\nSearchResults.prototype.getFacetByName = function(name) {\n  function predicate(facet) {\n    return facet.name === name;\n  }\n\n  return find(this.facets, predicate) ||\n    find(this.disjunctiveFacets, predicate) ||\n    find(this.hierarchicalFacets, predicate);\n};\n\n/**\n * Get the facet values of a specified attribute from a SearchResults object.\n * @private\n * @param {SearchResults} results the search results to search in\n * @param {string} attribute name of the faceted attribute to search for\n * @return {array|object} facet values. For the hierarchical facets it is an object.\n */\nfunction extractNormalizedFacetValues(results, attribute) {\n  function predicate(facet) {\n    return facet.name === attribute;\n  }\n\n  if (results._state.isConjunctiveFacet(attribute)) {\n    var facet = find(results.facets, predicate);\n    if (!facet) return [];\n\n    return Object.keys(facet.data).map(function(name) {\n      var value = escapeFacetValue(name);\n      return {\n        name: name,\n        escapedValue: value,\n        count: facet.data[name],\n        isRefined: results._state.isFacetRefined(attribute, value),\n        isExcluded: results._state.isExcludeRefined(attribute, name)\n      };\n    });\n  } else if (results._state.isDisjunctiveFacet(attribute)) {\n    var disjunctiveFacet = find(results.disjunctiveFacets, predicate);\n    if (!disjunctiveFacet) return [];\n\n    return Object.keys(disjunctiveFacet.data).map(function(name) {\n      var value = escapeFacetValue(name);\n      return {\n        name: name,\n        escapedValue: value,\n        count: disjunctiveFacet.data[name],\n        isRefined: results._state.isDisjunctiveFacetRefined(attribute, value)\n      };\n    });\n  } else if (results._state.isHierarchicalFacet(attribute)) {\n    var hierarchicalFacetValues = find(results.hierarchicalFacets, predicate);\n    if (!hierarchicalFacetValues) return hierarchicalFacetValues;\n\n    var hierarchicalFacet = results._state.getHierarchicalFacetByName(attribute);\n    var currentRefinementSplit = unescapeFacetValue(\n      results._state.getHierarchicalRefinement(attribute)[0] || ''\n    ).split(results._state._getHierarchicalFacetSeparator(hierarchicalFacet));\n    currentRefinementSplit.unshift(attribute);\n\n    setIsRefined(hierarchicalFacetValues, currentRefinementSplit, 0);\n\n    return hierarchicalFacetValues;\n  }\n}\n\n/**\n * Set the isRefined of a hierarchical facet result based on the current state.\n * @param {SearchResults.HierarchicalFacet} item Hierarchical facet to fix\n * @param {string[]} currentRefinementSplit array of parts of the current hierarchical refinement\n * @param {number} depth recursion depth in the currentRefinement\n */\nfunction setIsRefined(item, currentRefinement, depth) {\n  item.isRefined = item.name === currentRefinement[depth];\n  if (item.data) {\n    item.data.forEach(function(child) {\n      setIsRefined(child, currentRefinement, depth + 1);\n    });\n  }\n}\n\n/**\n * Sort nodes of a hierarchical or disjunctive facet results\n * @private\n * @param {function} sortFn\n * @param {HierarchicalFacet|Array} node node upon which we want to apply the sort\n * @param {string[]} names attribute names\n * @param {number} [level=0] current index in the names array\n */\nfunction recSort(sortFn, node, names, level) {\n  level = level || 0;\n\n  if (Array.isArray(node)) {\n    return sortFn(node, names[level]);\n  }\n\n  if (!node.data || node.data.length === 0) {\n    return node;\n  }\n\n  var children = node.data.map(function(childNode) {\n    return recSort(sortFn, childNode, names, level + 1);\n  });\n  var sortedChildren = sortFn(children, names[level]);\n  var newNode = defaultsPure({data: sortedChildren}, node);\n  return newNode;\n}\n\nSearchResults.DEFAULT_SORT = ['isRefined:desc', 'count:desc', 'name:asc'];\n\nfunction vanillaSortFn(order, data) {\n  return data.sort(order);\n}\n\n/**\n * @typedef FacetOrdering\n * @type {Object}\n * @property {string[]} [order]\n * @property {'count' | 'alpha' | 'hidden'} [sortRemainingBy]\n */\n\n/**\n * Sorts facet arrays via their facet ordering\n * @param {Array} facetValues the values\n * @param {FacetOrdering} facetOrdering the ordering\n * @returns {Array}\n */\nfunction sortViaFacetOrdering(facetValues, facetOrdering) {\n  var orderedFacets = [];\n  var remainingFacets = [];\n\n  var order = facetOrdering.order || [];\n  /**\n   * an object with the keys being the values in order, the values their index:\n   * ['one', 'two'] -> { one: 0, two: 1 }\n   */\n  var reverseOrder = order.reduce(function(acc, name, i) {\n    acc[name] = i;\n    return acc;\n  }, {});\n\n  facetValues.forEach(function(item) {\n    // hierarchical facets get sorted using their raw name\n    var name = item.path || item.name;\n    if (reverseOrder[name] !== undefined) {\n      orderedFacets[reverseOrder[name]] = item;\n    } else {\n      remainingFacets.push(item);\n    }\n  });\n\n  orderedFacets = orderedFacets.filter(function(facet) {\n    return facet;\n  });\n\n  var sortRemainingBy = facetOrdering.sortRemainingBy;\n  var ordering;\n  if (sortRemainingBy === 'hidden') {\n    return orderedFacets;\n  } else if (sortRemainingBy === 'alpha') {\n    ordering = [['path', 'name'], ['asc', 'asc']];\n  } else {\n    ordering = [['count'], ['desc']];\n  }\n\n  return orderedFacets.concat(\n    orderBy(remainingFacets, ordering[0], ordering[1])\n  );\n}\n\n/**\n * @param {SearchResults} results the search results class\n * @param {string} attribute the attribute to retrieve ordering of\n * @returns {FacetOrdering=}\n */\nfunction getFacetOrdering(results, attribute) {\n  return (\n    results.renderingContent &&\n    results.renderingContent.facetOrdering &&\n    results.renderingContent.facetOrdering.values &&\n    results.renderingContent.facetOrdering.values[attribute]\n  );\n}\n\n/**\n * Get a the list of values for a given facet attribute. Those values are sorted\n * refinement first, descending count (bigger value on top), and name ascending\n * (alphabetical order). The sort formula can overridden using either string based\n * predicates or a function.\n *\n * This method will return all the values returned by the Algolia engine plus all\n * the values already refined. This means that it can happen that the\n * `maxValuesPerFacet` [configuration](https://www.algolia.com/doc/rest-api/search#param-maxValuesPerFacet)\n * might not be respected if you have facet values that are already refined.\n * @param {string} attribute attribute name\n * @param {object} opts configuration options.\n * @param {boolean} [opts.facetOrdering]\n * Force the use of facetOrdering from the result if a sortBy is present. If\n * sortBy isn't present, facetOrdering will be used automatically.\n * @param {Array.<string> | function} opts.sortBy\n * When using strings, it consists of\n * the name of the [FacetValue](#SearchResults.FacetValue) or the\n * [HierarchicalFacet](#SearchResults.HierarchicalFacet) attributes with the\n * order (`asc` or `desc`). For example to order the value by count, the\n * argument would be `['count:asc']`.\n *\n * If only the attribute name is specified, the ordering defaults to the one\n * specified in the default value for this attribute.\n *\n * When not specified, the order is\n * ascending.  This parameter can also be a function which takes two facet\n * values and should return a number, 0 if equal, 1 if the first argument is\n * bigger or -1 otherwise.\n *\n * The default value for this attribute `['isRefined:desc', 'count:desc', 'name:asc']`\n * @return {FacetValue[]|HierarchicalFacet|undefined} depending on the type of facet of\n * the attribute requested (hierarchical, disjunctive or conjunctive)\n * @example\n * helper.on('result', function(event){\n *   //get values ordered only by name ascending using the string predicate\n *   event.results.getFacetValues('city', {sortBy: ['name:asc']});\n *   //get values  ordered only by count ascending using a function\n *   event.results.getFacetValues('city', {\n *     // this is equivalent to ['count:asc']\n *     sortBy: function(a, b) {\n *       if (a.count === b.count) return 0;\n *       if (a.count > b.count)   return 1;\n *       if (b.count > a.count)   return -1;\n *     }\n *   });\n * });\n */\nSearchResults.prototype.getFacetValues = function(attribute, opts) {\n  var facetValues = extractNormalizedFacetValues(this, attribute);\n  if (!facetValues) {\n    return undefined;\n  }\n\n  var options = defaultsPure({}, opts, {\n    sortBy: SearchResults.DEFAULT_SORT,\n    // if no sortBy is given, attempt to sort based on facetOrdering\n    // if it is given, we still allow to sort via facet ordering first\n    facetOrdering: !(opts && opts.sortBy)\n  });\n\n  var results = this;\n  var attributes;\n  if (Array.isArray(facetValues)) {\n    attributes = [attribute];\n  } else {\n    var config = results._state.getHierarchicalFacetByName(facetValues.name);\n    attributes = config.attributes;\n  }\n\n  return recSort(function(data, facetName) {\n    if (options.facetOrdering) {\n      var facetOrdering = getFacetOrdering(results, facetName);\n      if (Boolean(facetOrdering)) {\n        return sortViaFacetOrdering(data, facetOrdering);\n      }\n    }\n\n    if (Array.isArray(options.sortBy)) {\n      var order = formatSort(options.sortBy, SearchResults.DEFAULT_SORT);\n      return orderBy(data, order[0], order[1]);\n    } else if (typeof options.sortBy === 'function') {\n      return vanillaSortFn(options.sortBy, data);\n    }\n    throw new Error(\n      'options.sortBy is optional but if defined it must be ' +\n        'either an array of string (predicates) or a sorting function'\n    );\n  }, facetValues, attributes);\n};\n\n/**\n * Returns the facet stats if attribute is defined and the facet contains some.\n * Otherwise returns undefined.\n * @param {string} attribute name of the faceted attribute\n * @return {object} The stats of the facet\n */\nSearchResults.prototype.getFacetStats = function(attribute) {\n  if (this._state.isConjunctiveFacet(attribute)) {\n    return getFacetStatsIfAvailable(this.facets, attribute);\n  } else if (this._state.isDisjunctiveFacet(attribute)) {\n    return getFacetStatsIfAvailable(this.disjunctiveFacets, attribute);\n  }\n\n  return undefined;\n};\n\n/**\n * @typedef {Object} FacetListItem\n * @property {string} name\n */\n\n/**\n * @param {FacetListItem[]} facetList (has more items, but enough for here)\n * @param {string} facetName\n */\nfunction getFacetStatsIfAvailable(facetList, facetName) {\n  var data = find(facetList, function(facet) {\n    return facet.name === facetName;\n  });\n  return data && data.stats;\n}\n\n/**\n * Returns all refinements for all filters + tags. It also provides\n * additional information: count and exhaustiveness for each filter.\n *\n * See the [refinement type](#Refinement) for an exhaustive view of the available\n * data.\n *\n * Note that for a numeric refinement, results are grouped per operator, this\n * means that it will return responses for operators which are empty.\n *\n * @return {Array.<Refinement>} all the refinements\n */\nSearchResults.prototype.getRefinements = function() {\n  var state = this._state;\n  var results = this;\n  var res = [];\n\n  Object.keys(state.facetsRefinements).forEach(function(attributeName) {\n    state.facetsRefinements[attributeName].forEach(function(name) {\n      res.push(getRefinement(state, 'facet', attributeName, name, results.facets));\n    });\n  });\n\n  Object.keys(state.facetsExcludes).forEach(function(attributeName) {\n    state.facetsExcludes[attributeName].forEach(function(name) {\n      res.push(getRefinement(state, 'exclude', attributeName, name, results.facets));\n    });\n  });\n\n  Object.keys(state.disjunctiveFacetsRefinements).forEach(function(attributeName) {\n    state.disjunctiveFacetsRefinements[attributeName].forEach(function(name) {\n      res.push(getRefinement(state, 'disjunctive', attributeName, name, results.disjunctiveFacets));\n    });\n  });\n\n  Object.keys(state.hierarchicalFacetsRefinements).forEach(function(attributeName) {\n    state.hierarchicalFacetsRefinements[attributeName].forEach(function(name) {\n      res.push(getHierarchicalRefinement(state, attributeName, name, results.hierarchicalFacets));\n    });\n  });\n\n\n  Object.keys(state.numericRefinements).forEach(function(attributeName) {\n    var operators = state.numericRefinements[attributeName];\n    Object.keys(operators).forEach(function(operator) {\n      operators[operator].forEach(function(value) {\n        res.push({\n          type: 'numeric',\n          attributeName: attributeName,\n          name: value,\n          numericValue: value,\n          operator: operator\n        });\n      });\n    });\n  });\n\n  state.tagRefinements.forEach(function(name) {\n    res.push({type: 'tag', attributeName: '_tags', name: name});\n  });\n\n  return res;\n};\n\n/**\n * @typedef {Object} Facet\n * @property {string} name\n * @property {Object} data\n * @property {boolean} exhaustive\n */\n\n/**\n * @param {*} state\n * @param {*} type\n * @param {string} attributeName\n * @param {*} name\n * @param {Facet[]} resultsFacets\n */\nfunction getRefinement(state, type, attributeName, name, resultsFacets) {\n  var facet = find(resultsFacets, function(f) {\n    return f.name === attributeName;\n  });\n  var count = facet && facet.data && facet.data[name] ? facet.data[name] : 0;\n  var exhaustive = (facet && facet.exhaustive) || false;\n\n  return {\n    type: type,\n    attributeName: attributeName,\n    name: name,\n    count: count,\n    exhaustive: exhaustive\n  };\n}\n\n/**\n * @param {*} state\n * @param {string} attributeName\n * @param {*} name\n * @param {Facet[]} resultsFacets\n */\nfunction getHierarchicalRefinement(state, attributeName, name, resultsFacets) {\n  var facetDeclaration = state.getHierarchicalFacetByName(attributeName);\n  var separator = state._getHierarchicalFacetSeparator(facetDeclaration);\n  var split = name.split(separator);\n  var rootFacet = find(resultsFacets, function(facet) {\n    return facet.name === attributeName;\n  });\n\n  var facet = split.reduce(function(intermediateFacet, part) {\n    var newFacet =\n      intermediateFacet && find(intermediateFacet.data, function(f) {\n        return f.name === part;\n      });\n    return newFacet !== undefined ? newFacet : intermediateFacet;\n  }, rootFacet);\n\n  var count = (facet && facet.count) || 0;\n  var exhaustive = (facet && facet.exhaustive) || false;\n  var path = (facet && facet.path) || '';\n\n  return {\n    type: 'hierarchical',\n    attributeName: attributeName,\n    name: path,\n    count: count,\n    exhaustive: exhaustive\n  };\n}\n\nmodule.exports = SearchResults;\n","'use strict';\n\nvar SearchParameters = require('./SearchParameters');\nvar SearchResults = require('./SearchResults');\nvar DerivedHelper = require('./DerivedHelper');\nvar requestBuilder = require('./requestBuilder');\n\nvar EventEmitter = require('@algolia/events');\nvar inherits = require('./functions/inherits');\nvar objectHasKeys = require('./functions/objectHasKeys');\nvar omit = require('./functions/omit');\nvar merge = require('./functions/merge');\n\nvar version = require('./version');\nvar escapeFacetValue = require('./functions/escapeFacetValue').escapeFacetValue;\n\n/**\n * Event triggered when a parameter is set or updated\n * @event AlgoliaSearchHelper#event:change\n * @property {object} event\n * @property {SearchParameters} event.state the current parameters with the latest changes applied\n * @property {SearchResults} event.results the previous results received from Algolia. `null` before the first request\n * @example\n * helper.on('change', function(event) {\n *   console.log('The parameters have changed');\n * });\n */\n\n/**\n * Event triggered when a main search is sent to Algolia\n * @event AlgoliaSearchHelper#event:search\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search\n * @property {SearchResults} event.results the results from the previous search. `null` if it is the first search.\n * @example\n * helper.on('search', function(event) {\n *   console.log('Search sent');\n * });\n */\n\n/**\n * Event triggered when a search using `searchForFacetValues` is sent to Algolia\n * @event AlgoliaSearchHelper#event:searchForFacetValues\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search it is the first search.\n * @property {string} event.facet the facet searched into\n * @property {string} event.query the query used to search in the facets\n * @example\n * helper.on('searchForFacetValues', function(event) {\n *   console.log('searchForFacetValues sent');\n * });\n */\n\n/**\n * Event triggered when a search using `searchOnce` is sent to Algolia\n * @event AlgoliaSearchHelper#event:searchOnce\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search it is the first search.\n * @example\n * helper.on('searchOnce', function(event) {\n *   console.log('searchOnce sent');\n * });\n */\n\n/**\n * Event triggered when the results are retrieved from Algolia\n * @event AlgoliaSearchHelper#event:result\n * @property {object} event\n * @property {SearchResults} event.results the results received from Algolia\n * @property {SearchParameters} event.state the parameters used to query Algolia. Those might be different from the one in the helper instance (for example if the network is unreliable).\n * @example\n * helper.on('result', function(event) {\n *   console.log('Search results received');\n * });\n */\n\n/**\n * Event triggered when Algolia sends back an error. For example, if an unknown parameter is\n * used, the error can be caught using this event.\n * @event AlgoliaSearchHelper#event:error\n * @property {object} event\n * @property {Error} event.error the error returned by the Algolia.\n * @example\n * helper.on('error', function(event) {\n *   console.log('Houston we got a problem.');\n * });\n */\n\n/**\n * Event triggered when the queue of queries have been depleted (with any result or outdated queries)\n * @event AlgoliaSearchHelper#event:searchQueueEmpty\n * @example\n * helper.on('searchQueueEmpty', function() {\n *   console.log('No more search pending');\n *   // This is received before the result event if we're not expecting new results\n * });\n *\n * helper.search();\n */\n\n/**\n * Initialize a new AlgoliaSearchHelper\n * @class\n * @classdesc The AlgoliaSearchHelper is a class that ease the management of the\n * search. It provides an event based interface for search callbacks:\n *  - change: when the internal search state is changed.\n *    This event contains a {@link SearchParameters} object and the\n *    {@link SearchResults} of the last result if any.\n *  - search: when a search is triggered using the `search()` method.\n *  - result: when the response is retrieved from Algolia and is processed.\n *    This event contains a {@link SearchResults} object and the\n *    {@link SearchParameters} corresponding to this answer.\n *  - error: when the response is an error. This event contains the error returned by the server.\n * @param  {AlgoliaSearch} client an AlgoliaSearch client\n * @param  {string} index the index name to query\n * @param  {SearchParameters | object} options an object defining the initial\n * config of the search. It doesn't have to be a {SearchParameters},\n * just an object containing the properties you need from it.\n */\nfunction AlgoliaSearchHelper(client, index, options) {\n  if (typeof client.addAlgoliaAgent === 'function') {\n    client.addAlgoliaAgent('JS Helper (' + version + ')');\n  }\n\n  this.setClient(client);\n  var opts = options || {};\n  opts.index = index;\n  this.state = SearchParameters.make(opts);\n  this.lastResults = null;\n  this._queryId = 0;\n  this._lastQueryIdReceived = -1;\n  this.derivedHelpers = [];\n  this._currentNbQueries = 0;\n}\n\ninherits(AlgoliaSearchHelper, EventEmitter);\n\n/**\n * Start the search with the parameters set in the state. When the\n * method is called, it triggers a `search` event. The results will\n * be available through the `result` event. If an error occurs, an\n * `error` will be fired instead.\n * @return {AlgoliaSearchHelper}\n * @fires search\n * @fires result\n * @fires error\n * @chainable\n */\nAlgoliaSearchHelper.prototype.search = function() {\n  this._search({onlyWithDerivedHelpers: false});\n  return this;\n};\n\nAlgoliaSearchHelper.prototype.searchOnlyWithDerivedHelpers = function() {\n  this._search({onlyWithDerivedHelpers: true});\n  return this;\n};\n\n/**\n * Gets the search query parameters that would be sent to the Algolia Client\n * for the hits\n * @return {object} Query Parameters\n */\nAlgoliaSearchHelper.prototype.getQuery = function() {\n  var state = this.state;\n  return requestBuilder._getHitsSearchParams(state);\n};\n\n/**\n * Start a search using a modified version of the current state. This method does\n * not trigger the helper lifecycle and does not modify the state kept internally\n * by the helper. This second aspect means that the next search call will be the\n * same as a search call before calling searchOnce.\n * @param {object} options can contain all the parameters that can be set to SearchParameters\n * plus the index\n * @param {function} [callback] optional callback executed when the response from the\n * server is back.\n * @return {promise|undefined} if a callback is passed the method returns undefined\n * otherwise it returns a promise containing an object with two keys :\n *  - content with a SearchResults\n *  - state with the state used for the query as a SearchParameters\n * @example\n * // Changing the number of records returned per page to 1\n * // This example uses the callback API\n * var state = helper.searchOnce({hitsPerPage: 1},\n *   function(error, content, state) {\n *     // if an error occurred it will be passed in error, otherwise its value is null\n *     // content contains the results formatted as a SearchResults\n *     // state is the instance of SearchParameters used for this search\n *   });\n * @example\n * // Changing the number of records returned per page to 1\n * // This example uses the promise API\n * var state1 = helper.searchOnce({hitsPerPage: 1})\n *                 .then(promiseHandler);\n *\n * function promiseHandler(res) {\n *   // res contains\n *   // {\n *   //   content : SearchResults\n *   //   state   : SearchParameters (the one used for this specific search)\n *   // }\n * }\n */\nAlgoliaSearchHelper.prototype.searchOnce = function(options, cb) {\n  var tempState = !options ? this.state : this.state.setQueryParameters(options);\n  var queries = requestBuilder._getQueries(tempState.index, tempState);\n  var self = this;\n\n  this._currentNbQueries++;\n\n  this.emit('searchOnce', {\n    state: tempState\n  });\n\n  if (cb) {\n    this.client\n      .search(queries)\n      .then(function(content) {\n        self._currentNbQueries--;\n        if (self._currentNbQueries === 0) {\n          self.emit('searchQueueEmpty');\n        }\n\n        cb(null, new SearchResults(tempState, content.results), tempState);\n      })\n      .catch(function(err) {\n        self._currentNbQueries--;\n        if (self._currentNbQueries === 0) {\n          self.emit('searchQueueEmpty');\n        }\n\n        cb(err, null, tempState);\n      });\n\n    return undefined;\n  }\n\n  return this.client.search(queries).then(function(content) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    return {\n      content: new SearchResults(tempState, content.results),\n      state: tempState,\n      _originalResponse: content\n    };\n  }, function(e) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    throw e;\n  });\n};\n\n /**\n * Start the search for answers with the parameters set in the state.\n * This method returns a promise.\n * @param {Object} options - the options for answers API call\n * @param {string[]} options.attributesForPrediction - Attributes to use for predictions. If empty, `searchableAttributes` is used instead.\n * @param {string[]} options.queryLanguages - The languages in the query. Currently only supports ['en'].\n * @param {number} options.nbHits - Maximum number of answers to retrieve from the Answers Engine. Cannot be greater than 1000.\n *\n * @return {promise} the answer results\n * @deprecated answers is deprecated and will be replaced with new initiatives\n */\nAlgoliaSearchHelper.prototype.findAnswers = function(options) {\n  console.warn('[algoliasearch-helper] answers is no longer supported');\n  var state = this.state;\n  var derivedHelper = this.derivedHelpers[0];\n  if (!derivedHelper) {\n    return Promise.resolve([]);\n  }\n  var derivedState = derivedHelper.getModifiedState(state);\n  var data = merge(\n    {\n      attributesForPrediction: options.attributesForPrediction,\n      nbHits: options.nbHits\n    },\n    {\n      params: omit(requestBuilder._getHitsSearchParams(derivedState), [\n        'attributesToSnippet',\n        'hitsPerPage',\n        'restrictSearchableAttributes',\n        'snippetEllipsisText' // FIXME remove this line once the engine is fixed.\n      ])\n    }\n  );\n\n  var errorMessage = 'search for answers was called, but this client does not have a function client.initIndex(index).findAnswers';\n  if (typeof this.client.initIndex !== 'function') {\n    throw new Error(errorMessage);\n  }\n  var index = this.client.initIndex(derivedState.index);\n  if (typeof index.findAnswers !== 'function') {\n    throw new Error(errorMessage);\n  }\n  return index.findAnswers(derivedState.query, options.queryLanguages, data);\n};\n\n/**\n * Structure of each result when using\n * [`searchForFacetValues()`](reference.html#AlgoliaSearchHelper#searchForFacetValues)\n * @typedef FacetSearchHit\n * @type {object}\n * @property {string} value the facet value\n * @property {string} highlighted the facet value highlighted with the query string\n * @property {number} count number of occurrence of this facet value\n * @property {boolean} isRefined true if the value is already refined\n */\n\n/**\n * Structure of the data resolved by the\n * [`searchForFacetValues()`](reference.html#AlgoliaSearchHelper#searchForFacetValues)\n * promise.\n * @typedef FacetSearchResult\n * @type {object}\n * @property {FacetSearchHit} facetHits the results for this search for facet values\n * @property {number} processingTimeMS time taken by the query inside the engine\n */\n\n/**\n * Search for facet values based on an query and the name of a faceted attribute. This\n * triggers a search and will return a promise. On top of using the query, it also sends\n * the parameters from the state so that the search is narrowed down to only the possible values.\n *\n * See the description of [FacetSearchResult](reference.html#FacetSearchResult)\n * @param {string} facet the name of the faceted attribute\n * @param {string} query the string query for the search\n * @param {number} [maxFacetHits] the maximum number values returned. Should be > 0 and <= 100\n * @param {object} [userState] the set of custom parameters to use on top of the current state. Setting a property to `undefined` removes\n * it in the generated query.\n * @return {promise.<FacetSearchResult>} the results of the search\n */\nAlgoliaSearchHelper.prototype.searchForFacetValues = function(facet, query, maxFacetHits, userState) {\n  var clientHasSFFV = typeof this.client.searchForFacetValues === 'function';\n  var clientHasInitIndex = typeof this.client.initIndex === 'function';\n  if (\n    !clientHasSFFV &&\n    !clientHasInitIndex &&\n    typeof this.client.search !== 'function'\n  ) {\n    throw new Error(\n      'search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues'\n    );\n  }\n\n  var state = this.state.setQueryParameters(userState || {});\n  var isDisjunctive = state.isDisjunctiveFacet(facet);\n  var algoliaQuery = requestBuilder.getSearchForFacetQuery(facet, query, maxFacetHits, state);\n\n  this._currentNbQueries++;\n  var self = this;\n  var searchForFacetValuesPromise;\n  // newer algoliasearch ^3.27.1 - ~4.0.0\n  if (clientHasSFFV) {\n    searchForFacetValuesPromise = this.client.searchForFacetValues([\n      {indexName: state.index, params: algoliaQuery}\n    ]);\n    // algoliasearch < 3.27.1\n  } else if (clientHasInitIndex) {\n    searchForFacetValuesPromise = this.client\n      .initIndex(state.index)\n      .searchForFacetValues(algoliaQuery);\n    // algoliasearch ~5.0.0\n  } else {\n    // @MAJOR only use client.search\n    delete algoliaQuery.facetName;\n    searchForFacetValuesPromise = this.client\n      .search([\n        {\n          type: 'facet',\n          facet: facet,\n          indexName: state.index,\n          params: algoliaQuery\n        }\n      ])\n      .then(function processResponse(response) {\n        return response.results[0];\n      });\n  }\n\n  this.emit('searchForFacetValues', {\n    state: state,\n    facet: facet,\n    query: query\n  });\n\n  return searchForFacetValuesPromise.then(function addIsRefined(content) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n\n    content = Array.isArray(content) ? content[0] : content;\n\n    content.facetHits.forEach(function(f) {\n      f.escapedValue = escapeFacetValue(f.value);\n      f.isRefined = isDisjunctive\n        ? state.isDisjunctiveFacetRefined(facet, f.escapedValue)\n        : state.isFacetRefined(facet, f.escapedValue);\n    });\n\n    return content;\n  }, function(e) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    throw e;\n  });\n};\n\n/**\n * Sets the text query used for the search.\n *\n * This method resets the current page to 0.\n * @param  {string} q the user query\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setQuery = function(q) {\n  this._change({\n    state: this.state.resetPage().setQuery(q),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Remove all the types of refinements except tags. A string can be provided to remove\n * only the refinements of a specific attribute. For more advanced use case, you can\n * provide a function instead. This function should follow the\n * [clearCallback definition](#SearchParameters.clearCallback).\n *\n * This method resets the current page to 0.\n * @param {string} [name] optional name of the facet / attribute on which we want to remove all refinements\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * // Removing all the refinements\n * helper.clearRefinements().search();\n * @example\n * // Removing all the filters on a the category attribute.\n * helper.clearRefinements('category').search();\n * @example\n * // Removing only the exclude filters on the category facet.\n * helper.clearRefinements(function(value, attribute, type) {\n *   return type === 'exclude' && attribute === 'category';\n * }).search();\n */\nAlgoliaSearchHelper.prototype.clearRefinements = function(name) {\n  this._change({\n    state: this.state.resetPage().clearRefinements(name),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Remove all the tag filters.\n *\n * This method resets the current page to 0.\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.clearTags = function() {\n  this._change({\n    state: this.state.resetPage().clearTags(),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds a disjunctive filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addDisjunctiveFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addDisjunctiveFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addDisjunctiveFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.addDisjunctiveRefine = function() {\n  return this.addDisjunctiveFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Adds a refinement on a hierarchical facet. It will throw\n * an exception if the facet is not defined or if the facet\n * is already refined.\n *\n * This method resets the current page to 0.\n * @param {string} facet the facet name\n * @param {string} path the hierarchical facet path\n * @return {AlgoliaSearchHelper}\n * @throws Error if the facet is not defined or if the facet is refined\n * @chainable\n * @fires change\n */\nAlgoliaSearchHelper.prototype.addHierarchicalFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addHierarchicalFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds a an numeric filter to an attribute with the `operator` and `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} attribute the attribute on which the numeric filter applies\n * @param  {string} operator the operator of the filter\n * @param  {number} value the value of the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addNumericRefinement = function(attribute, operator, value) {\n  this._change({\n    state: this.state.resetPage().addNumericRefinement(attribute, operator, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds a filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.addRefine = function() {\n  return this.addFacetRefinement.apply(this, arguments);\n};\n\n\n/**\n * Adds a an exclusion filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addFacetExclusion = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addExcludeRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addFacetExclusion}\n */\nAlgoliaSearchHelper.prototype.addExclude = function() {\n  return this.addFacetExclusion.apply(this, arguments);\n};\n\n/**\n * Adds a tag filter with the `tag` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param {string} tag the tag to add to the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addTag = function(tag) {\n  this._change({\n    state: this.state.resetPage().addTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Removes an numeric filter to an attribute with the `operator` and `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * Some parameters are optional, triggering different behavior:\n *  - if the value is not provided, then all the numeric value will be removed for the\n *  specified attribute/operator couple.\n *  - if the operator is not provided either, then all the numeric filter on this attribute\n *  will be removed.\n *\n * This method resets the current page to 0.\n * @param  {string} attribute the attribute on which the numeric filter applies\n * @param  {string} [operator] the operator of the filter\n * @param  {number} [value] the value of the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeNumericRefinement = function(attribute, operator, value) {\n  this._change({\n    state: this.state.resetPage().removeNumericRefinement(attribute, operator, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Removes a disjunctive filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeDisjunctiveFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().removeDisjunctiveFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeDisjunctiveFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.removeDisjunctiveRefine = function() {\n  return this.removeDisjunctiveFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Removes the refinement set on a hierarchical facet.\n * @param {string} facet the facet name\n * @return {AlgoliaSearchHelper}\n * @throws Error if the facet is not defined or if the facet is not refined\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeHierarchicalFacetRefinement = function(facet) {\n  this._change({\n    state: this.state.resetPage().removeHierarchicalFacetRefinement(facet),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Removes a filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().removeFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.removeRefine = function() {\n  return this.removeFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Removes an exclusion filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeFacetExclusion = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().removeExcludeRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeFacetExclusion}\n */\nAlgoliaSearchHelper.prototype.removeExclude = function() {\n  return this.removeFacetExclusion.apply(this, arguments);\n};\n\n/**\n * Removes a tag filter with the `tag` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param {string} tag tag to remove from the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeTag = function(tag) {\n  this._change({\n    state: this.state.resetPage().removeTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds or removes an exclusion filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.toggleFacetExclusion = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().toggleExcludeFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#toggleFacetExclusion}\n */\nAlgoliaSearchHelper.prototype.toggleExclude = function() {\n  return this.toggleFacetExclusion.apply(this, arguments);\n};\n\n/**\n * Adds or removes a filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method can be used for conjunctive, disjunctive and hierarchical filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @throws Error will throw an error if the facet is not declared in the settings of the helper\n * @fires change\n * @chainable\n * @deprecated since version 2.19.0, see {@link AlgoliaSearchHelper#toggleFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.toggleRefinement = function(facet, value) {\n  return this.toggleFacetRefinement(facet, value);\n};\n\n/**\n * Adds or removes a filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method can be used for conjunctive, disjunctive and hierarchical filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @throws Error will throw an error if the facet is not declared in the settings of the helper\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.toggleFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().toggleFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#toggleFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.toggleRefine = function() {\n  return this.toggleFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Adds or removes a tag filter with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method resets the current page to 0.\n * @param {string} tag tag to remove or add\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.toggleTag = function(tag) {\n  this._change({\n    state: this.state.resetPage().toggleTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Increments the page number by one.\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * helper.setPage(0).nextPage().getPage();\n * // returns 1\n */\nAlgoliaSearchHelper.prototype.nextPage = function() {\n  var page = this.state.page || 0;\n  return this.setPage(page + 1);\n};\n\n/**\n * Decrements the page number by one.\n * @fires change\n * @return {AlgoliaSearchHelper}\n * @chainable\n * @example\n * helper.setPage(1).previousPage().getPage();\n * // returns 0\n */\nAlgoliaSearchHelper.prototype.previousPage = function() {\n  var page = this.state.page || 0;\n  return this.setPage(page - 1);\n};\n\n/**\n * @private\n */\nfunction setCurrentPage(page) {\n  if (page < 0) throw new Error('Page requested below 0.');\n\n  this._change({\n    state: this.state.setPage(page),\n    isPageReset: false\n  });\n\n  return this;\n}\n\n/**\n * Change the current page\n * @deprecated\n * @param  {number} page The page number\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setCurrentPage = setCurrentPage;\n\n/**\n * Updates the current page.\n * @function\n * @param  {number} page The page number\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setPage = setCurrentPage;\n\n/**\n * Updates the name of the index that will be targeted by the query.\n *\n * This method resets the current page to 0.\n * @param {string} name the index name\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setIndex = function(name) {\n  this._change({\n    state: this.state.resetPage().setIndex(name),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Update a parameter of the search. This method reset the page\n *\n * The complete list of parameters is available on the\n * [Algolia website](https://www.algolia.com/doc/rest#query-an-index).\n * The most commonly used parameters have their own [shortcuts](#query-parameters-shortcuts)\n * or benefit from higher-level APIs (all the kind of filters and facets have their own API)\n *\n * This method resets the current page to 0.\n * @param {string} parameter name of the parameter to update\n * @param {any} value new value of the parameter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * helper.setQueryParameter('hitsPerPage', 20).search();\n */\nAlgoliaSearchHelper.prototype.setQueryParameter = function(parameter, value) {\n  this._change({\n    state: this.state.resetPage().setQueryParameter(parameter, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Set the whole state (warning: will erase previous state)\n * @param {SearchParameters} newState the whole new state\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setState = function(newState) {\n  this._change({\n    state: SearchParameters.make(newState),\n    isPageReset: false\n  });\n\n  return this;\n};\n\n/**\n * Override the current state without triggering a change event.\n * Do not use this method unless you know what you are doing. (see the example\n * for a legit use case)\n * @param {SearchParameters} newState the whole new state\n * @return {AlgoliaSearchHelper}\n * @example\n *  helper.on('change', function(state){\n *    // In this function you might want to find a way to store the state in the url/history\n *    updateYourURL(state)\n *  })\n *  window.onpopstate = function(event){\n *    // This is naive though as you should check if the state is really defined etc.\n *    helper.overrideStateWithoutTriggeringChangeEvent(event.state).search()\n *  }\n * @chainable\n */\nAlgoliaSearchHelper.prototype.overrideStateWithoutTriggeringChangeEvent = function(newState) {\n  this.state = new SearchParameters(newState);\n  return this;\n};\n\n/**\n * Check if an attribute has any numeric, conjunctive, disjunctive or hierarchical filters.\n * @param {string} attribute the name of the attribute\n * @return {boolean} true if the attribute is filtered by at least one value\n * @example\n * // hasRefinements works with numeric, conjunctive, disjunctive and hierarchical filters\n * helper.hasRefinements('price'); // false\n * helper.addNumericRefinement('price', '>', 100);\n * helper.hasRefinements('price'); // true\n *\n * helper.hasRefinements('color'); // false\n * helper.addFacetRefinement('color', 'blue');\n * helper.hasRefinements('color'); // true\n *\n * helper.hasRefinements('material'); // false\n * helper.addDisjunctiveFacetRefinement('material', 'plastic');\n * helper.hasRefinements('material'); // true\n *\n * helper.hasRefinements('categories'); // false\n * helper.toggleFacetRefinement('categories', 'kitchen > knife');\n * helper.hasRefinements('categories'); // true\n *\n */\nAlgoliaSearchHelper.prototype.hasRefinements = function(attribute) {\n  if (objectHasKeys(this.state.getNumericRefinements(attribute))) {\n    return true;\n  } else if (this.state.isConjunctiveFacet(attribute)) {\n    return this.state.isFacetRefined(attribute);\n  } else if (this.state.isDisjunctiveFacet(attribute)) {\n    return this.state.isDisjunctiveFacetRefined(attribute);\n  } else if (this.state.isHierarchicalFacet(attribute)) {\n    return this.state.isHierarchicalFacetRefined(attribute);\n  }\n\n  // there's currently no way to know that the user did call `addNumericRefinement` at some point\n  // thus we cannot distinguish if there once was a numeric refinement that was cleared\n  // so we will return false in every other situations to be consistent\n  // while what we should do here is throw because we did not find the attribute in any type\n  // of refinement\n  return false;\n};\n\n/**\n * Check if a value is excluded for a specific faceted attribute. If the value\n * is omitted then the function checks if there is any excluding refinements.\n *\n * @param  {string}  facet name of the attribute for used for faceting\n * @param  {string}  [value] optional value. If passed will test that this value\n   * is filtering the given facet.\n * @return {boolean} true if refined\n * @example\n * helper.isExcludeRefined('color'); // false\n * helper.isExcludeRefined('color', 'blue') // false\n * helper.isExcludeRefined('color', 'red') // false\n *\n * helper.addFacetExclusion('color', 'red');\n *\n * helper.isExcludeRefined('color'); // true\n * helper.isExcludeRefined('color', 'blue') // false\n * helper.isExcludeRefined('color', 'red') // true\n */\nAlgoliaSearchHelper.prototype.isExcluded = function(facet, value) {\n  return this.state.isExcludeRefined(facet, value);\n};\n\n/**\n * @deprecated since 2.4.0, see {@link AlgoliaSearchHelper#hasRefinements}\n */\nAlgoliaSearchHelper.prototype.isDisjunctiveRefined = function(facet, value) {\n  return this.state.isDisjunctiveFacetRefined(facet, value);\n};\n\n/**\n * Check if the string is a currently filtering tag.\n * @param {string} tag tag to check\n * @return {boolean}\n */\nAlgoliaSearchHelper.prototype.hasTag = function(tag) {\n  return this.state.isTagRefined(tag);\n};\n\n/**\n * @deprecated since 2.4.0, see {@link AlgoliaSearchHelper#hasTag}\n */\nAlgoliaSearchHelper.prototype.isTagRefined = function() {\n  return this.hasTagRefinements.apply(this, arguments);\n};\n\n\n/**\n * Get the name of the currently used index.\n * @return {string}\n * @example\n * helper.setIndex('highestPrice_products').getIndex();\n * // returns 'highestPrice_products'\n */\nAlgoliaSearchHelper.prototype.getIndex = function() {\n  return this.state.index;\n};\n\nfunction getCurrentPage() {\n  return this.state.page;\n}\n\n/**\n * Get the currently selected page\n * @deprecated\n * @return {number} the current page\n */\nAlgoliaSearchHelper.prototype.getCurrentPage = getCurrentPage;\n/**\n * Get the currently selected page\n * @function\n * @return {number} the current page\n */\nAlgoliaSearchHelper.prototype.getPage = getCurrentPage;\n\n/**\n * Get all the tags currently set to filters the results.\n *\n * @return {string[]} The list of tags currently set.\n */\nAlgoliaSearchHelper.prototype.getTags = function() {\n  return this.state.tagRefinements;\n};\n\n/**\n * Get the list of refinements for a given attribute. This method works with\n * conjunctive, disjunctive, excluding and numerical filters.\n *\n * See also SearchResults#getRefinements\n *\n * @param {string} facetName attribute name used for faceting\n * @return {Array.<FacetRefinement|NumericRefinement>} All Refinement are objects that contain a value, and\n * a type. Numeric also contains an operator.\n * @example\n * helper.addNumericRefinement('price', '>', 100);\n * helper.getRefinements('price');\n * // [\n * //   {\n * //     \"value\": [\n * //       100\n * //     ],\n * //     \"operator\": \">\",\n * //     \"type\": \"numeric\"\n * //   }\n * // ]\n * @example\n * helper.addFacetRefinement('color', 'blue');\n * helper.addFacetExclusion('color', 'red');\n * helper.getRefinements('color');\n * // [\n * //   {\n * //     \"value\": \"blue\",\n * //     \"type\": \"conjunctive\"\n * //   },\n * //   {\n * //     \"value\": \"red\",\n * //     \"type\": \"exclude\"\n * //   }\n * // ]\n * @example\n * helper.addDisjunctiveFacetRefinement('material', 'plastic');\n * // [\n * //   {\n * //     \"value\": \"plastic\",\n * //     \"type\": \"disjunctive\"\n * //   }\n * // ]\n */\nAlgoliaSearchHelper.prototype.getRefinements = function(facetName) {\n  var refinements = [];\n\n  if (this.state.isConjunctiveFacet(facetName)) {\n    var conjRefinements = this.state.getConjunctiveRefinements(facetName);\n\n    conjRefinements.forEach(function(r) {\n      refinements.push({\n        value: r,\n        type: 'conjunctive'\n      });\n    });\n\n    var excludeRefinements = this.state.getExcludeRefinements(facetName);\n\n    excludeRefinements.forEach(function(r) {\n      refinements.push({\n        value: r,\n        type: 'exclude'\n      });\n    });\n  } else if (this.state.isDisjunctiveFacet(facetName)) {\n    var disjRefinements = this.state.getDisjunctiveRefinements(facetName);\n\n    disjRefinements.forEach(function(r) {\n      refinements.push({\n        value: r,\n        type: 'disjunctive'\n      });\n    });\n  }\n\n  var numericRefinements = this.state.getNumericRefinements(facetName);\n\n  Object.keys(numericRefinements).forEach(function(operator) {\n    var value = numericRefinements[operator];\n\n    refinements.push({\n      value: value,\n      operator: operator,\n      type: 'numeric'\n    });\n  });\n\n  return refinements;\n};\n\n/**\n * Return the current refinement for the (attribute, operator)\n * @param {string} attribute attribute in the record\n * @param {string} operator operator applied on the refined values\n * @return {Array.<number|number[]>} refined values\n */\nAlgoliaSearchHelper.prototype.getNumericRefinement = function(attribute, operator) {\n  return this.state.getNumericRefinement(attribute, operator);\n};\n\n/**\n * Get the current breadcrumb for a hierarchical facet, as an array\n * @param  {string} facetName Hierarchical facet name\n * @return {array.<string>} the path as an array of string\n */\nAlgoliaSearchHelper.prototype.getHierarchicalFacetBreadcrumb = function(facetName) {\n  return this.state.getHierarchicalFacetBreadcrumb(facetName);\n};\n\n// /////////// PRIVATE\n\n/**\n * Perform the underlying queries\n * @private\n * @return {undefined}\n * @fires search\n * @fires result\n * @fires error\n */\nAlgoliaSearchHelper.prototype._search = function(options) {\n  var state = this.state;\n  var states = [];\n  var mainQueries = [];\n\n  if (!options.onlyWithDerivedHelpers) {\n    mainQueries = requestBuilder._getQueries(state.index, state);\n\n    states.push({\n      state: state,\n      queriesCount: mainQueries.length,\n      helper: this\n    });\n\n    this.emit('search', {\n      state: state,\n      results: this.lastResults\n    });\n  }\n\n  var derivedQueries = this.derivedHelpers.map(function(derivedHelper) {\n    var derivedState = derivedHelper.getModifiedState(state);\n    var derivedStateQueries = derivedState.index\n      ? requestBuilder._getQueries(derivedState.index, derivedState)\n      : [];\n\n    states.push({\n      state: derivedState,\n      queriesCount: derivedStateQueries.length,\n      helper: derivedHelper\n    });\n\n    derivedHelper.emit('search', {\n      state: derivedState,\n      results: derivedHelper.lastResults\n    });\n\n    return derivedStateQueries;\n  });\n\n  var queries = Array.prototype.concat.apply(mainQueries, derivedQueries);\n\n  var queryId = this._queryId++;\n  this._currentNbQueries++;\n\n  if (!queries.length) {\n    return Promise.resolve({results: []}).then(\n      this._dispatchAlgoliaResponse.bind(this, states, queryId)\n    );\n  }\n\n  try {\n    this.client.search(queries)\n      .then(this._dispatchAlgoliaResponse.bind(this, states, queryId))\n      .catch(this._dispatchAlgoliaError.bind(this, queryId));\n  } catch (error) {\n    // If we reach this part, we're in an internal error state\n    this.emit('error', {\n      error: error\n    });\n  }\n};\n\n/**\n * Transform the responses as sent by the server and transform them into a user\n * usable object that merge the results of all the batch requests. It will dispatch\n * over the different helper + derived helpers (when there are some).\n * @private\n * @param {array.<{SearchParameters, AlgoliaQueries, AlgoliaSearchHelper}>}\n *  state state used for to generate the request\n * @param {number} queryId id of the current request\n * @param {object} content content of the response\n * @return {undefined}\n */\nAlgoliaSearchHelper.prototype._dispatchAlgoliaResponse = function(states, queryId, content) {\n  // FIXME remove the number of outdated queries discarded instead of just one\n\n  if (queryId < this._lastQueryIdReceived) {\n    // Outdated answer\n    return;\n  }\n\n  this._currentNbQueries -= (queryId - this._lastQueryIdReceived);\n  this._lastQueryIdReceived = queryId;\n\n  if (this._currentNbQueries === 0) this.emit('searchQueueEmpty');\n\n  var results = content.results.slice();\n\n  states.forEach(function(s) {\n    var state = s.state;\n    var queriesCount = s.queriesCount;\n    var helper = s.helper;\n    var specificResults = results.splice(0, queriesCount);\n\n    if (!state.index) {\n      helper.emit('result', {\n        results: null,\n        state: state\n      });\n      return;\n    }\n\n    var formattedResponse = helper.lastResults = new SearchResults(state, specificResults);\n\n    helper.emit('result', {\n      results: formattedResponse,\n      state: state\n    });\n  });\n};\n\nAlgoliaSearchHelper.prototype._dispatchAlgoliaError = function(queryId, error) {\n  if (queryId < this._lastQueryIdReceived) {\n    // Outdated answer\n    return;\n  }\n\n  this._currentNbQueries -= queryId - this._lastQueryIdReceived;\n  this._lastQueryIdReceived = queryId;\n\n  this.emit('error', {\n    error: error\n  });\n\n  if (this._currentNbQueries === 0) this.emit('searchQueueEmpty');\n};\n\nAlgoliaSearchHelper.prototype.containsRefinement = function(query, facetFilters, numericFilters, tagFilters) {\n  return query ||\n    facetFilters.length !== 0 ||\n    numericFilters.length !== 0 ||\n    tagFilters.length !== 0;\n};\n\n/**\n * Test if there are some disjunctive refinements on the facet\n * @private\n * @param {string} facet the attribute to test\n * @return {boolean}\n */\nAlgoliaSearchHelper.prototype._hasDisjunctiveRefinements = function(facet) {\n  return this.state.disjunctiveRefinements[facet] &&\n    this.state.disjunctiveRefinements[facet].length > 0;\n};\n\nAlgoliaSearchHelper.prototype._change = function(event) {\n  var state = event.state;\n  var isPageReset = event.isPageReset;\n\n  if (state !== this.state) {\n    this.state = state;\n\n    this.emit('change', {\n      state: this.state,\n      results: this.lastResults,\n      isPageReset: isPageReset\n    });\n  }\n};\n\n/**\n * Clears the cache of the underlying Algolia client.\n * @return {AlgoliaSearchHelper}\n */\nAlgoliaSearchHelper.prototype.clearCache = function() {\n  this.client.clearCache && this.client.clearCache();\n  return this;\n};\n\n/**\n * Updates the internal client instance. If the reference of the clients\n * are equal then no update is actually done.\n * @param  {AlgoliaSearch} newClient an AlgoliaSearch client\n * @return {AlgoliaSearchHelper}\n */\nAlgoliaSearchHelper.prototype.setClient = function(newClient) {\n  if (this.client === newClient) return this;\n\n  if (typeof newClient.addAlgoliaAgent === 'function') {\n    newClient.addAlgoliaAgent('JS Helper (' + version + ')');\n  }\n  this.client = newClient;\n\n  return this;\n};\n\n/**\n * Gets the instance of the currently used client.\n * @return {AlgoliaSearch}\n */\nAlgoliaSearchHelper.prototype.getClient = function() {\n  return this.client;\n};\n\n/**\n * Creates an derived instance of the Helper. A derived helper\n * is a way to request other indices synchronised with the lifecycle\n * of the main Helper. This mechanism uses the multiqueries feature\n * of Algolia to aggregate all the requests in a single network call.\n *\n * This method takes a function that is used to create a new SearchParameter\n * that will be used to create requests to Algolia. Those new requests\n * are created just before the `search` event. The signature of the function\n * is `SearchParameters -> SearchParameters`.\n *\n * This method returns a new DerivedHelper which is an EventEmitter\n * that fires the same `search`, `result` and `error` events. Those\n * events, however, will receive data specific to this DerivedHelper\n * and the SearchParameters that is returned by the call of the\n * parameter function.\n * @param {function} fn SearchParameters -> SearchParameters\n * @return {DerivedHelper}\n */\nAlgoliaSearchHelper.prototype.derive = function(fn) {\n  var derivedHelper = new DerivedHelper(this, fn);\n  this.derivedHelpers.push(derivedHelper);\n  return derivedHelper;\n};\n\n/**\n * This method detaches a derived Helper from the main one. Prefer using the one from the\n * derived helper itself, to remove the event listeners too.\n * @private\n * @return {undefined}\n * @throws Error\n */\nAlgoliaSearchHelper.prototype.detachDerivedHelper = function(derivedHelper) {\n  var pos = this.derivedHelpers.indexOf(derivedHelper);\n  if (pos === -1) throw new Error('Derived helper already detached');\n  this.derivedHelpers.splice(pos, 1);\n};\n\n/**\n * This method returns true if there is currently at least one on-going search.\n * @return {boolean} true if there is a search pending\n */\nAlgoliaSearchHelper.prototype.hasPendingRequests = function() {\n  return this._currentNbQueries > 0;\n};\n\n/**\n * @typedef AlgoliaSearchHelper.NumericRefinement\n * @type {object}\n * @property {number[]} value the numbers that are used for filtering this attribute with\n * the operator specified.\n * @property {string} operator the faceting data: value, number of entries\n * @property {string} type will be 'numeric'\n */\n\n/**\n * @typedef AlgoliaSearchHelper.FacetRefinement\n * @type {object}\n * @property {string} value the string use to filter the attribute\n * @property {string} type the type of filter: 'conjunctive', 'disjunctive', 'exclude'\n */\n\nmodule.exports = AlgoliaSearchHelper;\n","'use strict';\n\nmodule.exports = function compact(array) {\n  if (!Array.isArray(array)) {\n    return [];\n  }\n\n  return array.filter(Boolean);\n};\n","'use strict';\n\n// NOTE: this behaves like lodash/defaults, but doesn't mutate the target\n// it also preserve keys order\nmodule.exports = function defaultsPure() {\n  var sources = Array.prototype.slice.call(arguments);\n\n  return sources.reduceRight(function(acc, source) {\n    Object.keys(Object(source)).forEach(function(key) {\n      if (source[key] === undefined) {\n        return;\n      }\n      if (acc[key] !== undefined) {\n        // remove if already added, so that we can add it in correct order\n        delete acc[key];\n      }\n      acc[key] = source[key];\n    });\n    return acc;\n  }, {});\n};\n","'use strict';\n\n/**\n * Replaces a leading - with \\-\n * @private\n * @param {any} value the facet value to replace\n * @returns any\n */\nfunction escapeFacetValue(value) {\n  if (typeof value !== 'string') return value;\n\n  return String(value).replace(/^-/, '\\\\-');\n}\n\n/**\n * Replaces a leading \\- with -\n * @private\n * @param {any} value the escaped facet value\n * @returns any\n */\nfunction unescapeFacetValue(value) {\n  if (typeof value !== 'string') return value;\n\n  return value.replace(/^\\\\-/, '-');\n}\n\nmodule.exports = {\n  escapeFacetValue: escapeFacetValue,\n  unescapeFacetValue: unescapeFacetValue\n};\n","'use strict';\n\n// @MAJOR can be replaced by native Array#find when we change support\nmodule.exports = function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return undefined;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return array[i];\n    }\n  }\n};\n","'use strict';\n\n// @MAJOR can be replaced by native Array#findIndex when we change support\nmodule.exports = function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return -1;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return i;\n    }\n  }\n  return -1;\n};\n","'use strict';\n\nvar find = require('./find');\n\n/**\n * Transform sort format from user friendly notation to lodash format\n * @param {string[]} sortBy array of predicate of the form \"attribute:order\"\n * @param {string[]} [defaults] array of predicate of the form \"attribute:order\"\n * @return {array.<string[]>} array containing 2 elements : attributes, orders\n */\nmodule.exports = function formatSort(sortBy, defaults) {\n  var defaultInstructions = (defaults || []).map(function(sort) {\n    return sort.split(':');\n  });\n\n  return sortBy.reduce(\n    function preparePredicate(out, sort) {\n      var sortInstruction = sort.split(':');\n\n      var matchingDefault = find(defaultInstructions, function(\n        defaultInstruction\n      ) {\n        return defaultInstruction[0] === sortInstruction[0];\n      });\n\n      if (sortInstruction.length > 1 || !matchingDefault) {\n        out[0].push(sortInstruction[0]);\n        out[1].push(sortInstruction[1]);\n        return out;\n      }\n\n      out[0].push(matchingDefault[0]);\n      out[1].push(matchingDefault[1]);\n      return out;\n    },\n    [[], []]\n  );\n};\n","'use strict';\n\nfunction inherits(ctor, superCtor) {\n  ctor.prototype = Object.create(superCtor.prototype, {\n    constructor: {\n      value: ctor,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n}\n\nmodule.exports = inherits;\n","'use strict';\n\nfunction intersection(arr1, arr2) {\n  return arr1.filter(function(value, index) {\n    return (\n      arr2.indexOf(value) > -1 &&\n      arr1.indexOf(value) === index /* skips duplicates */\n    );\n  });\n}\n\nmodule.exports = intersection;\n","'use strict';\n\nfunction clone(value) {\n  if (typeof value === 'object' && value !== null) {\n    return _merge(Array.isArray(value) ? [] : {}, value);\n  }\n  return value;\n}\n\nfunction isObjectOrArrayOrFunction(value) {\n  return (\n    typeof value === 'function' ||\n    Array.isArray(value) ||\n    Object.prototype.toString.call(value) === '[object Object]'\n  );\n}\n\nfunction _merge(target, source) {\n  if (target === source) {\n    return target;\n  }\n\n  for (var key in source) {\n    if (\n      !Object.prototype.hasOwnProperty.call(source, key) ||\n      key === '__proto__' ||\n      key === 'constructor'\n    ) {\n      continue;\n    }\n\n    var sourceVal = source[key];\n    var targetVal = target[key];\n\n    if (typeof targetVal !== 'undefined' && typeof sourceVal === 'undefined') {\n      continue;\n    }\n\n    if (\n      isObjectOrArrayOrFunction(targetVal) &&\n      isObjectOrArrayOrFunction(sourceVal)\n    ) {\n      target[key] = _merge(targetVal, sourceVal);\n    } else {\n      target[key] = clone(sourceVal);\n    }\n  }\n  return target;\n}\n\n/**\n * This method is like Object.assign, but recursively merges own and inherited\n * enumerable keyed properties of source objects into the destination object.\n *\n * NOTE: this behaves like lodash/merge, but:\n * - does mutate functions if they are a source\n * - treats non-plain objects as plain\n * - does not work for circular objects\n * - treats sparse arrays as sparse\n * - does not convert Array-like objects (Arguments, NodeLists, etc.) to arrays\n *\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n */\n\nfunction merge(target) {\n  if (!isObjectOrArrayOrFunction(target)) {\n    target = {};\n  }\n\n  for (var i = 1, l = arguments.length; i < l; i++) {\n    var source = arguments[i];\n\n    if (isObjectOrArrayOrFunction(source)) {\n      _merge(target, source);\n    }\n  }\n  return target;\n}\n\nmodule.exports = merge;\n","'use strict';\n\nfunction objectHasKeys(obj) {\n  return obj && Object.keys(obj).length > 0;\n}\n\nmodule.exports = objectHasKeys;\n","'use strict';\n\n// https://github.com/babel/babel/blob/3aaafae053fa75febb3aa45d45b6f00646e30ba4/packages/babel-helpers/src/helpers.js#L604-L620\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source === null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key;\n  var i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\n","'use strict';\n\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined;\n    var valIsNull = value === null;\n\n    var othIsDefined = other !== undefined;\n    var othIsNull = other === null;\n\n    if (\n      (!othIsNull && value > other) ||\n      (valIsNull && othIsDefined) ||\n      !valIsDefined\n    ) {\n      return 1;\n    }\n    if (\n      (!valIsNull && value < other) ||\n      (othIsNull && valIsDefined) ||\n      !othIsDefined\n    ) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\n/**\n * @param {Array<object>} collection object with keys in attributes\n * @param {Array<string>} iteratees attributes\n * @param {Array<string>} orders asc | desc\n */\nfunction orderBy(collection, iteratees, orders) {\n  if (!Array.isArray(collection)) {\n    return [];\n  }\n\n  if (!Array.isArray(orders)) {\n    orders = [];\n  }\n\n  var result = collection.map(function(value, index) {\n    return {\n      criteria: iteratees.map(function(iteratee) {\n        return value[iteratee];\n      }),\n      index: index,\n      value: value\n    };\n  });\n\n  result.sort(function comparer(object, other) {\n    var index = -1;\n\n    while (++index < object.criteria.length) {\n      var res = compareAscending(object.criteria[index], other.criteria[index]);\n      if (res) {\n        if (index >= orders.length) {\n          return res;\n        }\n        if (orders[index] === 'desc') {\n          return -res;\n        }\n        return res;\n      }\n    }\n\n    // This ensures a stable sort in V8 and other engines.\n    // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n    return object.index - other.index;\n  });\n\n  return result.map(function(res) {\n    return res.value;\n  });\n}\n\nmodule.exports = orderBy;\n","'use strict';\n\nfunction valToNumber(v) {\n  if (typeof v === 'number') {\n    return v;\n  } else if (typeof v === 'string') {\n    return parseFloat(v);\n  } else if (Array.isArray(v)) {\n    return v.map(valToNumber);\n  }\n\n  throw new Error('The value should be a number, a parsable string or an array of those.');\n}\n\nmodule.exports = valToNumber;\n","'use strict';\n\nvar merge = require('./functions/merge');\n\nfunction sortObject(obj) {\n  return Object.keys(obj)\n    .sort(function(a, b) {\n      return a.localeCompare(b);\n    })\n    .reduce(function(acc, curr) {\n      acc[curr] = obj[curr];\n      return acc;\n    }, {});\n}\n\nvar requestBuilder = {\n  /**\n   * Get all the queries to send to the client, those queries can used directly\n   * with the Algolia client.\n   * @private\n   * @return {object[]} The queries\n   */\n  _getQueries: function getQueries(index, state) {\n    var queries = [];\n\n    // One query for the hits\n    queries.push({\n      indexName: index,\n      params: requestBuilder._getHitsSearchParams(state)\n    });\n\n    // One for each disjunctive facets\n    state.getRefinedDisjunctiveFacets().forEach(function(refinedFacet) {\n      queries.push({\n        indexName: index,\n        params: requestBuilder._getDisjunctiveFacetSearchParams(state, refinedFacet)\n      });\n    });\n\n    // More to get the parent levels of the hierarchical facets when refined\n    state.getRefinedHierarchicalFacets().forEach(function(refinedFacet) {\n      var hierarchicalFacet = state.getHierarchicalFacetByName(refinedFacet);\n      var currentRefinement = state.getHierarchicalRefinement(refinedFacet);\n      var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n      // If we are deeper than level 0 (starting from `beer > IPA`)\n      // we want to get all parent values\n      if (currentRefinement.length > 0 && currentRefinement[0].split(separator).length > 1) {\n        // We generate a map of the filters we will use for our facet values queries\n        var filtersMap = currentRefinement[0].split(separator).slice(0, -1).reduce(\n          function createFiltersMap(map, segment, level) {\n            return map.concat({\n              attribute: hierarchicalFacet.attributes[level],\n              value: level === 0\n                ? segment\n                : [map[map.length - 1].value, segment].join(separator)\n            });\n          }\n        , []);\n\n        filtersMap.forEach(function(filter, level) {\n          var params = requestBuilder._getDisjunctiveFacetSearchParams(\n            state,\n            filter.attribute,\n            level === 0\n          );\n\n          // Keep facet filters unrelated to current hierarchical attributes\n          function hasHierarchicalFacetFilter(value) {\n            return hierarchicalFacet.attributes.some(function(attribute) {\n              return attribute === value.split(':')[0];\n            });\n          }\n\n          var filteredFacetFilters = (params.facetFilters || []).reduce(function(acc, facetFilter) {\n            if (Array.isArray(facetFilter)) {\n              var filtered = facetFilter.filter(function(filterValue) {\n                return !hasHierarchicalFacetFilter(filterValue);\n              });\n\n              if (filtered.length > 0) {\n                acc.push(filtered);\n              }\n            }\n\n            if (typeof facetFilter === 'string' && !hasHierarchicalFacetFilter(facetFilter)) {\n              acc.push(facetFilter);\n            }\n\n            return acc;\n          }, []);\n\n          var parent = filtersMap[level - 1];\n          if (level > 0) {\n            params.facetFilters = filteredFacetFilters.concat(parent.attribute + ':' + parent.value);\n          } else {\n            params.facetFilters = filteredFacetFilters.length > 0 ? filteredFacetFilters : undefined;\n          }\n\n          queries.push({indexName: index, params: params});\n        });\n      }\n    });\n\n    return queries;\n  },\n\n  /**\n   * Build search parameters used to fetch hits\n   * @private\n   * @return {object.<string, any>}\n   */\n  _getHitsSearchParams: function(state) {\n    var facets = state.facets\n      .concat(state.disjunctiveFacets)\n      .concat(requestBuilder._getHitsHierarchicalFacetsAttributes(state));\n\n\n    var facetFilters = requestBuilder._getFacetFilters(state);\n    var numericFilters = requestBuilder._getNumericFilters(state);\n    var tagFilters = requestBuilder._getTagFilters(state);\n    var additionalParams = {\n      facets: facets.indexOf('*') > -1 ? ['*'] : facets,\n      tagFilters: tagFilters\n    };\n\n    if (facetFilters.length > 0) {\n      additionalParams.facetFilters = facetFilters;\n    }\n\n    if (numericFilters.length > 0) {\n      additionalParams.numericFilters = numericFilters;\n    }\n\n    return sortObject(merge({}, state.getQueryParams(), additionalParams));\n  },\n\n  /**\n   * Build search parameters used to fetch a disjunctive facet\n   * @private\n   * @param  {string} facet the associated facet name\n   * @param  {boolean} hierarchicalRootLevel ?? FIXME\n   * @return {object}\n   */\n  _getDisjunctiveFacetSearchParams: function(state, facet, hierarchicalRootLevel) {\n    var facetFilters = requestBuilder._getFacetFilters(state, facet, hierarchicalRootLevel);\n    var numericFilters = requestBuilder._getNumericFilters(state, facet);\n    var tagFilters = requestBuilder._getTagFilters(state);\n    var additionalParams = {\n      hitsPerPage: 0,\n      page: 0,\n      analytics: false,\n      clickAnalytics: false\n    };\n\n    if (tagFilters.length > 0) {\n      additionalParams.tagFilters = tagFilters;\n    }\n\n    var hierarchicalFacet = state.getHierarchicalFacetByName(facet);\n\n    if (hierarchicalFacet) {\n      additionalParams.facets = requestBuilder._getDisjunctiveHierarchicalFacetAttribute(\n        state,\n        hierarchicalFacet,\n        hierarchicalRootLevel\n      );\n    } else {\n      additionalParams.facets = facet;\n    }\n\n    if (numericFilters.length > 0) {\n      additionalParams.numericFilters = numericFilters;\n    }\n\n    if (facetFilters.length > 0) {\n      additionalParams.facetFilters = facetFilters;\n    }\n\n    return sortObject(merge({}, state.getQueryParams(), additionalParams));\n  },\n\n  /**\n   * Return the numeric filters in an algolia request fashion\n   * @private\n   * @param {string} [facetName] the name of the attribute for which the filters should be excluded\n   * @return {string[]} the numeric filters in the algolia format\n   */\n  _getNumericFilters: function(state, facetName) {\n    if (state.numericFilters) {\n      return state.numericFilters;\n    }\n\n    var numericFilters = [];\n\n    Object.keys(state.numericRefinements).forEach(function(attribute) {\n      var operators = state.numericRefinements[attribute] || {};\n      Object.keys(operators).forEach(function(operator) {\n        var values = operators[operator] || [];\n        if (facetName !== attribute) {\n          values.forEach(function(value) {\n            if (Array.isArray(value)) {\n              var vs = value.map(function(v) {\n                return attribute + operator + v;\n              });\n              numericFilters.push(vs);\n            } else {\n              numericFilters.push(attribute + operator + value);\n            }\n          });\n        }\n      });\n    });\n\n    return numericFilters;\n  },\n\n  /**\n   * Return the tags filters depending\n   * @private\n   * @return {string}\n   */\n  _getTagFilters: function(state) {\n    if (state.tagFilters) {\n      return state.tagFilters;\n    }\n\n    return state.tagRefinements.join(',');\n  },\n\n\n  /**\n   * Build facetFilters parameter based on current refinements. The array returned\n   * contains strings representing the facet filters in the algolia format.\n   * @private\n   * @param  {string} [facet] if set, the current disjunctive facet\n   * @return {array.<string>}\n   */\n  _getFacetFilters: function(state, facet, hierarchicalRootLevel) {\n    var facetFilters = [];\n\n    var facetsRefinements = state.facetsRefinements || {};\n    Object.keys(facetsRefinements).forEach(function(facetName) {\n      var facetValues = facetsRefinements[facetName] || [];\n      facetValues.forEach(function(facetValue) {\n        facetFilters.push(facetName + ':' + facetValue);\n      });\n    });\n\n    var facetsExcludes = state.facetsExcludes || {};\n    Object.keys(facetsExcludes).forEach(function(facetName) {\n      var facetValues = facetsExcludes[facetName] || [];\n      facetValues.forEach(function(facetValue) {\n        facetFilters.push(facetName + ':-' + facetValue);\n      });\n    });\n\n    var disjunctiveFacetsRefinements = state.disjunctiveFacetsRefinements || {};\n    Object.keys(disjunctiveFacetsRefinements).forEach(function(facetName) {\n      var facetValues = disjunctiveFacetsRefinements[facetName] || [];\n      if (facetName === facet || !facetValues || facetValues.length === 0) {\n        return;\n      }\n      var orFilters = [];\n\n      facetValues.forEach(function(facetValue) {\n        orFilters.push(facetName + ':' + facetValue);\n      });\n\n      facetFilters.push(orFilters);\n    });\n\n    var hierarchicalFacetsRefinements = state.hierarchicalFacetsRefinements || {};\n    Object.keys(hierarchicalFacetsRefinements).forEach(function(facetName) {\n      var facetValues = hierarchicalFacetsRefinements[facetName] || [];\n      var facetValue = facetValues[0];\n\n      if (facetValue === undefined) {\n        return;\n      }\n\n      var hierarchicalFacet = state.getHierarchicalFacetByName(facetName);\n      var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n      var rootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n      var attributeToRefine;\n      var attributesIndex;\n\n      // we ask for parent facet values only when the `facet` is the current hierarchical facet\n      if (facet === facetName) {\n        // if we are at the root level already, no need to ask for facet values, we get them from\n        // the hits query\n        if (facetValue.indexOf(separator) === -1 || (!rootPath && hierarchicalRootLevel === true) ||\n          (rootPath && rootPath.split(separator).length === facetValue.split(separator).length)) {\n          return;\n        }\n\n        if (!rootPath) {\n          attributesIndex = facetValue.split(separator).length - 2;\n          facetValue = facetValue.slice(0, facetValue.lastIndexOf(separator));\n        } else {\n          attributesIndex = rootPath.split(separator).length - 1;\n          facetValue = rootPath;\n        }\n\n        attributeToRefine = hierarchicalFacet.attributes[attributesIndex];\n      } else {\n        attributesIndex = facetValue.split(separator).length - 1;\n\n        attributeToRefine = hierarchicalFacet.attributes[attributesIndex];\n      }\n\n      if (attributeToRefine) {\n        facetFilters.push([attributeToRefine + ':' + facetValue]);\n      }\n    });\n\n    return facetFilters;\n  },\n\n  _getHitsHierarchicalFacetsAttributes: function(state) {\n    var out = [];\n\n    return state.hierarchicalFacets.reduce(\n      // ask for as much levels as there's hierarchical refinements\n      function getHitsAttributesForHierarchicalFacet(allAttributes, hierarchicalFacet) {\n        var hierarchicalRefinement = state.getHierarchicalRefinement(hierarchicalFacet.name)[0];\n\n        // if no refinement, ask for root level\n        if (!hierarchicalRefinement) {\n          allAttributes.push(hierarchicalFacet.attributes[0]);\n          return allAttributes;\n        }\n\n        var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n        var level = hierarchicalRefinement.split(separator).length;\n        var newAttributes = hierarchicalFacet.attributes.slice(0, level + 1);\n\n        return allAttributes.concat(newAttributes);\n      }, out);\n  },\n\n  _getDisjunctiveHierarchicalFacetAttribute: function(state, hierarchicalFacet, rootLevel) {\n    var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n    if (rootLevel === true) {\n      var rootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n      var attributeIndex = 0;\n\n      if (rootPath) {\n        attributeIndex = rootPath.split(separator).length;\n      }\n      return [hierarchicalFacet.attributes[attributeIndex]];\n    }\n\n    var hierarchicalRefinement = state.getHierarchicalRefinement(hierarchicalFacet.name)[0] || '';\n    // if refinement is 'beers > IPA > Flying dog',\n    // then we want `facets: ['beers > IPA']` as disjunctive facet (parent level values)\n\n    var parentLevel = hierarchicalRefinement.split(separator).length - 1;\n    return hierarchicalFacet.attributes.slice(0, parentLevel + 1);\n  },\n\n  getSearchForFacetQuery: function(facetName, query, maxFacetHits, state) {\n    var stateForSearchForFacetValues = state.isDisjunctiveFacet(facetName) ?\n      state.clearRefinements(facetName) :\n      state;\n    var searchForFacetSearchParameters = {\n      facetQuery: query,\n      facetName: facetName\n    };\n    if (typeof maxFacetHits === 'number') {\n      searchForFacetSearchParameters.maxFacetHits = maxFacetHits;\n    }\n    return sortObject(merge(\n      {},\n      requestBuilder._getHitsSearchParams(stateForSearchForFacetValues),\n      searchForFacetSearchParameters\n    ));\n  }\n};\n\nmodule.exports = requestBuilder;\n","'use strict';\n\nmodule.exports = function isValidUserToken(userToken) {\n  if (userToken === null) {\n    return false;\n  }\n  return /^[a-zA-Z0-9_-]{1,64}$/.test(userToken);\n};\n","'use strict';\n\nmodule.exports = '3.13.0';\n","/*! algoliasearch-lite.umd.js | 4.10.3 |  Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=e||self).algoliasearch=t()}(this,(function(){\"use strict\";function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(r){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){e(r,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function u(e){var t,r=\"algoliasearch-client-js-\".concat(e.key),n=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},a=function(){return JSON.parse(n().getItem(r)||\"{}\")};return{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){var r=JSON.stringify(e),n=a()[r];return Promise.all([n||t(),void 0!==n])})).then((function(e){var t=o(e,2),n=t[0],a=t[1];return Promise.all([n,a||r.miss(n)])})).then((function(e){return o(e,1)[0]}))},set:function(e,t){return Promise.resolve().then((function(){var o=a();return o[JSON.stringify(e)]=t,n().setItem(r,JSON.stringify(o)),t}))},delete:function(e){return Promise.resolve().then((function(){var t=a();delete t[JSON.stringify(e)],n().setItem(r,JSON.stringify(t))}))},clear:function(){return Promise.resolve().then((function(){n().removeItem(r)}))}}}function i(e){var t=a(e.caches),r=t.shift();return void 0===r?{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},n=t();return n.then((function(e){return Promise.all([e,r.miss(e)])})).then((function(e){return o(e,1)[0]}))},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(e,n,o).catch((function(){return i({caches:t}).get(e,n,o)}))},set:function(e,n){return r.set(e,n).catch((function(){return i({caches:t}).set(e,n)}))},delete:function(e){return r.delete(e).catch((function(){return i({caches:t}).delete(e)}))},clear:function(){return r.clear().catch((function(){return i({caches:t}).clear()}))}}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(r,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},a=JSON.stringify(r);if(a in t)return Promise.resolve(e.serializable?JSON.parse(t[a]):t[a]);var u=n(),i=o&&o.miss||function(){return Promise.resolve()};return u.then((function(e){return i(e)})).then((function(){return u}))},set:function(r,n){return t[JSON.stringify(r)]=e.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function c(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}function l(e,t){return t?(Object.keys(t).forEach((function(r){e[r]=t[r](e)})),e):e}function f(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=0;return e.replace(/%s/g,(function(){return encodeURIComponent(r[o++])}))}var h={WithinQueryParameters:0,WithinHeaders:1};function d(e,t){var r=e||{},n=r.data||{};return Object.keys(r).forEach((function(e){-1===[\"timeout\",\"headers\",\"queryParameters\",\"data\",\"cacheable\"].indexOf(e)&&(n[e]=r[e])})),{data:Object.entries(n).length>0?n:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var m={Read:1,Write:2,Any:3},p=1,v=2,y=3;function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return r(r({},e),{},{status:t,lastUpdate:Date.now()})}function b(e){return\"string\"==typeof e?{protocol:\"https\",url:e,accept:m.Any}:{protocol:e.protocol||\"https\",url:e.url,accept:e.accept||m.Any}}var O=\"GET\",P=\"POST\";function q(e,t){return Promise.all(t.map((function(t){return e.get(t,(function(){return Promise.resolve(g(t))}))}))).then((function(e){var r=e.filter((function(e){return function(e){return e.status===p||Date.now()-e.lastUpdate>12e4}(e)})),n=e.filter((function(e){return function(e){return e.status===y&&Date.now()-e.lastUpdate<=12e4}(e)})),o=[].concat(a(r),a(n));return{getTimeout:function(e,t){return(0===n.length&&0===e?1:n.length+3+e)*t},statelessHosts:o.length>0?o.map((function(e){return b(e)})):t}}))}function j(e,t,n,o){var u=[],i=function(e,t){if(e.method===O||void 0===e.data&&void 0===t.data)return;var n=Array.isArray(e.data)?e.data:r(r({},e.data),t.data);return JSON.stringify(n)}(n,o),s=function(e,t){var n=r(r({},e.headers),t.headers),o={};return Object.keys(n).forEach((function(e){var t=n[e];o[e.toLowerCase()]=t})),o}(e,o),c=n.method,l=n.method!==O?{}:r(r({},n.data),o.data),f=r(r(r({\"x-algolia-agent\":e.userAgent.value},e.queryParameters),l),o.queryParameters),h=0,d=function t(r,a){var l=r.pop();if(void 0===l)throw{name:\"RetryError\",message:\"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.\",transporterStackTrace:A(u)};var d={data:i,headers:s,method:c,url:S(l,n.path,f),connectTimeout:a(h,e.timeouts.connect),responseTimeout:a(h,o.timeout)},m=function(e){var t={request:d,response:e,host:l,triesLeft:r.length};return u.push(t),t},p={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:\"DeserializationError\",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(n){var o=m(n);return n.isTimedOut&&h++,Promise.all([e.logger.info(\"Retryable failure\",x(o)),e.hostsCache.set(l,g(l,n.isTimedOut?y:v))]).then((function(){return t(r,a)}))},onFail:function(e){throw m(e),function(e,t){var r=e.content,n=e.status,o=r;try{o=JSON.parse(r).message}catch(e){}return function(e,t,r){return{name:\"ApiError\",message:e,status:t,transporterStackTrace:r}}(o,n,t)}(e,A(u))}};return e.requester.send(d).then((function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,r=e.status;return!t&&0==~~r}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,p)}))};return q(e.hostsCache,t).then((function(e){return d(a(e.statelessHosts).reverse(),e.getTimeout)}))}function w(e){var t={value:\"Algolia for JavaScript (\".concat(e,\")\"),add:function(e){var r=\"; \".concat(e.segment).concat(void 0!==e.version?\" (\".concat(e.version,\")\"):\"\");return-1===t.value.indexOf(r)&&(t.value=\"\".concat(t.value).concat(r)),t}};return t}function S(e,t,r){var n=T(r),o=\"\".concat(e.protocol,\"://\").concat(e.url,\"/\").concat(\"/\"===t.charAt(0)?t.substr(1):t);return n.length&&(o+=\"?\".concat(n)),o}function T(e){return Object.keys(e).map((function(t){return f(\"%s=%s\",t,(r=e[t],\"[object Object]\"===Object.prototype.toString.call(r)||\"[object Array]\"===Object.prototype.toString.call(r)?JSON.stringify(e[t]):e[t]));var r})).join(\"&\")}function A(e){return e.map((function(e){return x(e)}))}function x(e){var t=e.request.headers[\"x-algolia-api-key\"]?{\"x-algolia-api-key\":\"*****\"}:{};return r(r({},e),{},{request:r(r({},e.request),{},{headers:r(r({},e.request.headers),t)})})}var N=function(e){var t=e.appId,n=function(e,t,r){var n={\"x-algolia-api-key\":r,\"x-algolia-application-id\":t};return{headers:function(){return e===h.WithinHeaders?n:{}},queryParameters:function(){return e===h.WithinQueryParameters?n:{}}}}(void 0!==e.authMode?e.authMode:h.WithinHeaders,t,e.apiKey),a=function(e){var t=e.hostsCache,r=e.logger,n=e.requester,a=e.requestsCache,u=e.responsesCache,i=e.timeouts,s=e.userAgent,c=e.hosts,l=e.queryParameters,f={hostsCache:t,logger:r,requester:n,requestsCache:a,responsesCache:u,timeouts:i,userAgent:s,headers:e.headers,queryParameters:l,hosts:c.map((function(e){return b(e)})),read:function(e,t){var r=d(t,f.timeouts.read),n=function(){return j(f,f.hosts.filter((function(e){return 0!=(e.accept&m.Read)})),e,r)};if(!0!==(void 0!==r.cacheable?r.cacheable:e.cacheable))return n();var a={request:e,mappedRequestOptions:r,transporter:{queryParameters:f.queryParameters,headers:f.headers}};return f.responsesCache.get(a,(function(){return f.requestsCache.get(a,(function(){return f.requestsCache.set(a,n()).then((function(e){return Promise.all([f.requestsCache.delete(a),e])}),(function(e){return Promise.all([f.requestsCache.delete(a),Promise.reject(e)])})).then((function(e){var t=o(e,2);t[0];return t[1]}))}))}),{miss:function(e){return f.responsesCache.set(a,e)}})},write:function(e,t){return j(f,f.hosts.filter((function(e){return 0!=(e.accept&m.Write)})),e,d(t,f.timeouts.write))}};return f}(r(r({hosts:[{url:\"\".concat(t,\"-dsn.algolia.net\"),accept:m.Read},{url:\"\".concat(t,\".algolia.net\"),accept:m.Write}].concat(c([{url:\"\".concat(t,\"-1.algolianet.com\")},{url:\"\".concat(t,\"-2.algolianet.com\")},{url:\"\".concat(t,\"-3.algolianet.com\")}]))},e),{},{headers:r(r(r({},n.headers()),{\"content-type\":\"application/x-www-form-urlencoded\"}),e.headers),queryParameters:r(r({},n.queryParameters()),e.queryParameters)}));return l({transporter:a,appId:t,addAlgoliaAgent:function(e,t){a.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then((function(){}))}},e.methods)},C=function(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={transporter:e.transporter,appId:e.appId,indexName:t};return l(n,r.methods)}},k=function(e){return function(t,n){var o=t.map((function(e){return r(r({},e),{},{params:T(e.params||{})})}));return e.transporter.read({method:P,path:\"1/indexes/*/queries\",data:{requests:o},cacheable:!0},n)}},J=function(e){return function(t,o){return Promise.all(t.map((function(t){var a=t.params,u=a.facetName,i=a.facetQuery,s=n(a,[\"facetName\",\"facetQuery\"]);return C(e)(t.indexName,{methods:{searchForFacetValues:F}}).searchForFacetValues(u,i,r(r({},o),s))})))}},E=function(e){return function(t,r,n){return e.transporter.read({method:P,path:f(\"1/answers/%s/prediction\",e.indexName),data:{query:t,queryLanguages:r},cacheable:!0},n)}},I=function(e){return function(t,r){return e.transporter.read({method:P,path:f(\"1/indexes/%s/query\",e.indexName),data:{query:t},cacheable:!0},r)}},F=function(e){return function(t,r,n){return e.transporter.read({method:P,path:f(\"1/indexes/%s/facets/%s/query\",e.indexName,t),data:{facetQuery:r},cacheable:!0},n)}},R=1,D=2,W=3;function H(e,t,n){var o,a={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise((function(t){var r=new XMLHttpRequest;r.open(e.method,e.url,!0),Object.keys(e.headers).forEach((function(t){return r.setRequestHeader(t,e.headers[t])}));var n,o=function(e,n){return setTimeout((function(){r.abort(),t({status:0,content:n,isTimedOut:!0})}),1e3*e)},a=o(e.connectTimeout,\"Connection timeout\");r.onreadystatechange=function(){r.readyState>r.OPENED&&void 0===n&&(clearTimeout(a),n=o(e.responseTimeout,\"Socket timeout\"))},r.onerror=function(){0===r.status&&(clearTimeout(a),clearTimeout(n),t({content:r.responseText||\"Network request failed\",status:r.status,isTimedOut:!1}))},r.onload=function(){clearTimeout(a),clearTimeout(n),t({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(e.data)}))}},logger:(o=W,{debug:function(e,t){return R>=o&&console.debug(e,t),Promise.resolve()},info:function(e,t){return D>=o&&console.info(e,t),Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}}),responsesCache:s(),requestsCache:s({serializable:!1}),hostsCache:i({caches:[u({key:\"\".concat(\"4.10.3\",\"-\").concat(e)}),s()]}),userAgent:w(\"4.10.3\").add({segment:\"Browser\",version:\"lite\"}),authMode:h.WithinQueryParameters};return N(r(r(r({},a),n),{},{methods:{search:k,searchForFacetValues:J,multipleQueries:k,multipleSearchForFacetValues:J,initIndex:function(e){return function(t){return C(e)(t,{methods:{search:I,searchForFacetValues:F,findAnswers:E}})}}}}))}return H.version=\"4.10.3\",H}));\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_OUT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterOut\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterOut` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterOut: createMethod(7)\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] < 4 ? 1 : match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (KEY, exec, FORCED, SHAM) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    FORCED\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      var $exec = regexp.exec;\n      if ($exec === regexpExec || $exec === RegExpPrototype.exec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n\n    redefine(String.prototype, KEY, methods[0]);\n    redefine(RegExpPrototype, SYMBOL, methods[1]);\n  }\n\n  if (SHAM) createNonEnumerableProperty(RegExpPrototype[SYMBOL], 'sham', true);\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar replace = ''.replace;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// `GetSubstitution` abstract operation\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace.call(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (ch.charAt(0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return str.slice(0, position);\n      case \"'\": return str.slice(tailPos);\n      case '<':\n        capture = namedCaptures[ch.slice(1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var toObject = require('../internals/to-object');\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty.call(toObject(it), key);\n};\n","module.exports = {};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    if (wmhas.call(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (objectHas(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = false;\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject -- old IE */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","/* eslint-disable no-proto -- safe */\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","'use strict';\n/* eslint-disable regexp/no-assertion-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */\n/* eslint-disable regexp/no-useless-quantifier -- testing */\nvar regexpFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar shared = require('../internals/shared');\nvar create = require('../internals/object-create');\nvar getInternalState = require('../internals/internal-state').get;\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar nativeExec = RegExp.prototype.exec;\nvar nativeReplace = shared('native-string-replace', String.prototype.replace);\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;\n\nif (PATCH) {\n  // eslint-disable-next-line max-statements -- TODO\n  patchedExec = function exec(str) {\n    var re = this;\n    var state = getInternalState(re);\n    var raw = state.raw;\n    var result, reCopy, lastIndex, match, i, object, group;\n\n    if (raw) {\n      raw.lastIndex = re.lastIndex;\n      result = patchedExec.call(raw, str);\n      re.lastIndex = raw.lastIndex;\n      return result;\n    }\n\n    var groups = state.groups;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    if (match && groups) {\n      match.groups = object = create(null);\n      for (i = 0; i < groups.length; i++) {\n        group = groups[i];\n        object[group[0]] = match[group[1]];\n      }\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var fails = require('../internals/fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\nvar RE = function (s, f) {\n  return RegExp(s, f);\n};\n\nexports.UNSUPPORTED_Y = fails(function () {\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","var fails = require('./fails');\n\nmodule.exports = fails(function () {\n  // babel-minify transpiles RegExp('.', 's') -> /./s and it causes SyntaxError\n  var re = RegExp('.', (typeof '').charAt(0));\n  return !(re.dotAll && re.exec('\\n') && re.flags === 's');\n});\n","var fails = require('./fails');\n\nmodule.exports = fails(function () {\n  // babel-minify transpiles RegExp('.', 'g') -> /./g and it causes SyntaxError\n  var re = RegExp('(?<a>b)', (typeof '').charAt(5));\n  return re.exec('b').groups.a !== 'b' ||\n    'b'.replace(re, '$<a>c') !== 'bc';\n});\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","// `SameValue` abstract operation\n// https://tc39.es/ecma262/#sec-samevalue\n// eslint-disable-next-line es/no-object-is -- safe\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.15.2',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: ' 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isRegExp = require('../internals/is-regexp');\nvar getFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar enforceInternalState = require('../internals/internal-state').enforce;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\n// TODO: Use only propper RegExpIdentifierName\nvar IS_NCG = /^\\?<[^\\s\\d!#%&*+<=>@^][^\\s!#%&*+<=>@^]*>/;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar BASE_FORCED = DESCRIPTORS &&\n  (!CORRECT_NEW || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG || fails(function () {\n    re2[MATCH] = false;\n    // RegExp constructor can alter flags and IsRegExp works correct with @@match\n    return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n  }));\n\nvar handleDotAll = function (string) {\n  var length = string.length;\n  var index = 0;\n  var result = '';\n  var brackets = false;\n  var chr;\n  for (; index <= length; index++) {\n    chr = string.charAt(index);\n    if (chr === '\\\\') {\n      result += chr + string.charAt(++index);\n      continue;\n    }\n    if (!brackets && chr === '.') {\n      result += '[\\\\s\\\\S]';\n    } else {\n      if (chr === '[') {\n        brackets = true;\n      } else if (chr === ']') {\n        brackets = false;\n      } result += chr;\n    }\n  } return result;\n};\n\nvar handleNCG = function (string) {\n  var length = string.length;\n  var index = 0;\n  var result = '';\n  var named = [];\n  var names = {};\n  var brackets = false;\n  var ncg = false;\n  var groupid = 0;\n  var groupname = '';\n  var chr;\n  for (; index <= length; index++) {\n    chr = string.charAt(index);\n    if (chr === '\\\\') {\n      chr = chr + string.charAt(++index);\n    } else if (chr === ']') {\n      brackets = false;\n    } else if (!brackets) switch (true) {\n      case chr === '[':\n        brackets = true;\n        break;\n      case chr === '(':\n        if (IS_NCG.test(string.slice(index + 1))) {\n          index += 2;\n          ncg = true;\n        }\n        result += chr;\n        groupid++;\n        continue;\n      case chr === '>' && ncg:\n        if (groupname === '' || has(names, groupname)) {\n          throw new SyntaxError('Invalid capture group name');\n        }\n        names[groupname] = true;\n        named.push([groupname, groupid]);\n        ncg = false;\n        groupname = '';\n        continue;\n    }\n    if (ncg) groupname += chr;\n    else result += chr;\n  } return [result, named];\n};\n\n// `RegExp` constructor\n// https://tc39.es/ecma262/#sec-regexp-constructor\nif (isForced('RegExp', BASE_FORCED)) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var groups = [];\n    var rawPattern = pattern;\n    var rawFlags, dotAll, sticky, handled, result, state;\n\n    if (!thisIsRegExp && patternIsRegExp && flagsAreUndefined && pattern.constructor === RegExpWrapper) {\n      return pattern;\n    }\n\n    if (patternIsRegExp || pattern instanceof RegExpWrapper) {\n      pattern = pattern.source;\n      if (flagsAreUndefined) flags = 'flags' in rawPattern ? rawPattern.flags : getFlags.call(rawPattern);\n    }\n\n    pattern = pattern === undefined ? '' : String(pattern);\n    flags = flags === undefined ? '' : String(flags);\n    rawPattern = pattern;\n\n    if (UNSUPPORTED_DOT_ALL && 'dotAll' in re1) {\n      dotAll = !!flags && flags.indexOf('s') > -1;\n      if (dotAll) flags = flags.replace(/s/g, '');\n    }\n\n    rawFlags = flags;\n\n    if (UNSUPPORTED_Y && 'sticky' in re1) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    if (UNSUPPORTED_NCG) {\n      handled = handleNCG(pattern);\n      pattern = handled[0];\n      groups = handled[1];\n    }\n\n    result = inheritIfRequired(NativeRegExp(pattern, flags), thisIsRegExp ? this : RegExpPrototype, RegExpWrapper);\n\n    if (dotAll || sticky || groups.length) {\n      state = enforceInternalState(result);\n      if (dotAll) {\n        state.dotAll = true;\n        state.raw = RegExpWrapper(handleDotAll(pattern), rawFlags);\n      }\n      if (sticky) state.sticky = true;\n      if (groups.length) state.groups = groups;\n    }\n\n    if (pattern !== rawPattern) try {\n      // fails in old engines, but we have no alternatives for unsupported regex syntax\n      createNonEnumerableProperty(result, 'source', rawPattern === '' ? '(?:)' : rawPattern);\n    } catch (error) { /* empty */ }\n\n    return result;\n  };\n\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n\n  for (var keys = getOwnPropertyNames(NativeRegExp), index = 0; keys.length > index;) {\n    proxy(keys[index++]);\n  }\n\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.es/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar fails = require('../internals/fails');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar max = Math.max;\nvar min = Math.min;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (string, replaceValue) {\n      if (\n        typeof replaceValue === 'string' &&\n        replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1 &&\n        replaceValue.indexOf('$<') === -1\n      ) {\n        var res = maybeCallNative(nativeReplace, this, string, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(this);\n      var S = String(string);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.es/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@search\n    function (string) {\n      var res = maybeCallNative(nativeSearch, this, string);\n      if (res.done) return res.value;\n\n      var rx = anObject(this);\n      var S = String(string);\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n(function (Hogan) {\n  // Setup regex  assignments\n  // remove whitespace according to Mustache spec\n  var rIsWhitespace = /\\S/,\n      rQuot = /\\\"/g,\n      rNewline =  /\\n/g,\n      rCr = /\\r/g,\n      rSlash = /\\\\/g,\n      rLineSep = /\\u2028/,\n      rParagraphSep = /\\u2029/;\n\n  Hogan.tags = {\n    '#': 1, '^': 2, '<': 3, '$': 4,\n    '/': 5, '!': 6, '>': 7, '=': 8, '_v': 9,\n    '{': 10, '&': 11, '_t': 12\n  };\n\n  Hogan.scan = function scan(text, delimiters) {\n    var len = text.length,\n        IN_TEXT = 0,\n        IN_TAG_TYPE = 1,\n        IN_TAG = 2,\n        state = IN_TEXT,\n        tagType = null,\n        tag = null,\n        buf = '',\n        tokens = [],\n        seenTag = false,\n        i = 0,\n        lineStart = 0,\n        otag = '{{',\n        ctag = '}}';\n\n    function addBuf() {\n      if (buf.length > 0) {\n        tokens.push({tag: '_t', text: new String(buf)});\n        buf = '';\n      }\n    }\n\n    function lineIsWhitespace() {\n      var isAllWhitespace = true;\n      for (var j = lineStart; j < tokens.length; j++) {\n        isAllWhitespace =\n          (Hogan.tags[tokens[j].tag] < Hogan.tags['_v']) ||\n          (tokens[j].tag == '_t' && tokens[j].text.match(rIsWhitespace) === null);\n        if (!isAllWhitespace) {\n          return false;\n        }\n      }\n\n      return isAllWhitespace;\n    }\n\n    function filterLine(haveSeenTag, noNewLine) {\n      addBuf();\n\n      if (haveSeenTag && lineIsWhitespace()) {\n        for (var j = lineStart, next; j < tokens.length; j++) {\n          if (tokens[j].text) {\n            if ((next = tokens[j+1]) && next.tag == '>') {\n              // set indent to token value\n              next.indent = tokens[j].text.toString()\n            }\n            tokens.splice(j, 1);\n          }\n        }\n      } else if (!noNewLine) {\n        tokens.push({tag:'\\n'});\n      }\n\n      seenTag = false;\n      lineStart = tokens.length;\n    }\n\n    function changeDelimiters(text, index) {\n      var close = '=' + ctag,\n          closeIndex = text.indexOf(close, index),\n          delimiters = trim(\n            text.substring(text.indexOf('=', index) + 1, closeIndex)\n          ).split(' ');\n\n      otag = delimiters[0];\n      ctag = delimiters[delimiters.length - 1];\n\n      return closeIndex + close.length - 1;\n    }\n\n    if (delimiters) {\n      delimiters = delimiters.split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[1];\n    }\n\n    for (i = 0; i < len; i++) {\n      if (state == IN_TEXT) {\n        if (tagChange(otag, text, i)) {\n          --i;\n          addBuf();\n          state = IN_TAG_TYPE;\n        } else {\n          if (text.charAt(i) == '\\n') {\n            filterLine(seenTag);\n          } else {\n            buf += text.charAt(i);\n          }\n        }\n      } else if (state == IN_TAG_TYPE) {\n        i += otag.length - 1;\n        tag = Hogan.tags[text.charAt(i + 1)];\n        tagType = tag ? text.charAt(i + 1) : '_v';\n        if (tagType == '=') {\n          i = changeDelimiters(text, i);\n          state = IN_TEXT;\n        } else {\n          if (tag) {\n            i++;\n          }\n          state = IN_TAG;\n        }\n        seenTag = i;\n      } else {\n        if (tagChange(ctag, text, i)) {\n          tokens.push({tag: tagType, n: trim(buf), otag: otag, ctag: ctag,\n                       i: (tagType == '/') ? seenTag - otag.length : i + ctag.length});\n          buf = '';\n          i += ctag.length - 1;\n          state = IN_TEXT;\n          if (tagType == '{') {\n            if (ctag == '}}') {\n              i++;\n            } else {\n              cleanTripleStache(tokens[tokens.length - 1]);\n            }\n          }\n        } else {\n          buf += text.charAt(i);\n        }\n      }\n    }\n\n    filterLine(seenTag, true);\n\n    return tokens;\n  }\n\n  function cleanTripleStache(token) {\n    if (token.n.substr(token.n.length - 1) === '}') {\n      token.n = token.n.substring(0, token.n.length - 1);\n    }\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  function tagChange(tag, text, index) {\n    if (text.charAt(index) != tag.charAt(0)) {\n      return false;\n    }\n\n    for (var i = 1, l = tag.length; i < l; i++) {\n      if (text.charAt(index + i) != tag.charAt(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  // the tags allowed inside super templates\n  var allowedInSuper = {'_t': true, '\\n': true, '$': true, '/': true};\n\n  function buildTree(tokens, kind, stack, customTags) {\n    var instructions = [],\n        opener = null,\n        tail = null,\n        token = null;\n\n    tail = stack[stack.length - 1];\n\n    while (tokens.length > 0) {\n      token = tokens.shift();\n\n      if (tail && tail.tag == '<' && !(token.tag in allowedInSuper)) {\n        throw new Error('Illegal content in < super tag.');\n      }\n\n      if (Hogan.tags[token.tag] <= Hogan.tags['$'] || isOpener(token, customTags)) {\n        stack.push(token);\n        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n      } else if (token.tag == '/') {\n        if (stack.length === 0) {\n          throw new Error('Closing tag without opener: /' + token.n);\n        }\n        opener = stack.pop();\n        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n        }\n        opener.end = token.i;\n        return instructions;\n      } else if (token.tag == '\\n') {\n        token.last = (tokens.length == 0) || (tokens[0].tag == '\\n');\n      }\n\n      instructions.push(token);\n    }\n\n    if (stack.length > 0) {\n      throw new Error('missing closing tag: ' + stack.pop().n);\n    }\n\n    return instructions;\n  }\n\n  function isOpener(token, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].o == token.n) {\n        token.tag = '#';\n        return true;\n      }\n    }\n  }\n\n  function isCloser(close, open, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].c == close && tags[i].o == open) {\n        return true;\n      }\n    }\n  }\n\n  function stringifySubstitutions(obj) {\n    var items = [];\n    for (var key in obj) {\n      items.push('\"' + esc(key) + '\": function(c,p,t,i) {' + obj[key] + '}');\n    }\n    return \"{ \" + items.join(\",\") + \" }\";\n  }\n\n  function stringifyPartials(codeObj) {\n    var partials = [];\n    for (var key in codeObj.partials) {\n      partials.push('\"' + esc(key) + '\":{name:\"' + esc(codeObj.partials[key].name) + '\", ' + stringifyPartials(codeObj.partials[key]) + \"}\");\n    }\n    return \"partials: {\" + partials.join(\",\") + \"}, subs: \" + stringifySubstitutions(codeObj.subs);\n  }\n\n  Hogan.stringify = function(codeObj, text, options) {\n    return \"{code: function (c,p,i) { \" + Hogan.wrapMain(codeObj.code) + \" },\" + stringifyPartials(codeObj) +  \"}\";\n  }\n\n  var serialNo = 0;\n  Hogan.generate = function(tree, text, options) {\n    serialNo = 0;\n    var context = { code: '', subs: {}, partials: {} };\n    Hogan.walk(tree, context);\n\n    if (options.asString) {\n      return this.stringify(context, text, options);\n    }\n\n    return this.makeTemplate(context, text, options);\n  }\n\n  Hogan.wrapMain = function(code) {\n    return 'var t=this;t.b(i=i||\"\");' + code + 'return t.fl();';\n  }\n\n  Hogan.template = Hogan.Template;\n\n  Hogan.makeTemplate = function(codeObj, text, options) {\n    var template = this.makePartials(codeObj);\n    template.code = new Function('c', 'p', 'i', this.wrapMain(codeObj.code));\n    return new this.template(template, text, this, options);\n  }\n\n  Hogan.makePartials = function(codeObj) {\n    var key, template = {subs: {}, partials: codeObj.partials, name: codeObj.name};\n    for (key in template.partials) {\n      template.partials[key] = this.makePartials(template.partials[key]);\n    }\n    for (key in codeObj.subs) {\n      template.subs[key] = new Function('c', 'p', 't', 'i', codeObj.subs[key]);\n    }\n    return template;\n  }\n\n  function esc(s) {\n    return s.replace(rSlash, '\\\\\\\\')\n            .replace(rQuot, '\\\\\\\"')\n            .replace(rNewline, '\\\\n')\n            .replace(rCr, '\\\\r')\n            .replace(rLineSep, '\\\\u2028')\n            .replace(rParagraphSep, '\\\\u2029');\n  }\n\n  function chooseMethod(s) {\n    return (~s.indexOf('.')) ? 'd' : 'f';\n  }\n\n  function createPartial(node, context) {\n    var prefix = \"<\" + (context.prefix || \"\");\n    var sym = prefix + node.n + serialNo++;\n    context.partials[sym] = {name: node.n, partials: {}};\n    context.code += 't.b(t.rp(\"' +  esc(sym) + '\",c,p,\"' + (node.indent || '') + '\"));';\n    return sym;\n  }\n\n  Hogan.codegen = {\n    '#': function(node, context) {\n      context.code += 'if(t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),' +\n                      'c,p,0,' + node.i + ',' + node.end + ',\"' + node.otag + \" \" + node.ctag + '\")){' +\n                      't.rs(c,p,' + 'function(c,p,t){';\n      Hogan.walk(node.nodes, context);\n      context.code += '});c.pop();}';\n    },\n\n    '^': function(node, context) {\n      context.code += 'if(!t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),c,p,1,0,0,\"\")){';\n      Hogan.walk(node.nodes, context);\n      context.code += '};';\n    },\n\n    '>': createPartial,\n    '<': function(node, context) {\n      var ctx = {partials: {}, code: '', subs: {}, inPartial: true};\n      Hogan.walk(node.nodes, ctx);\n      var template = context.partials[createPartial(node, context)];\n      template.subs = ctx.subs;\n      template.partials = ctx.partials;\n    },\n\n    '$': function(node, context) {\n      var ctx = {subs: {}, code: '', partials: context.partials, prefix: node.n};\n      Hogan.walk(node.nodes, ctx);\n      context.subs[node.n] = ctx.code;\n      if (!context.inPartial) {\n        context.code += 't.sub(\"' + esc(node.n) + '\",c,p,i);';\n      }\n    },\n\n    '\\n': function(node, context) {\n      context.code += write('\"\\\\n\"' + (node.last ? '' : ' + i'));\n    },\n\n    '_v': function(node, context) {\n      context.code += 't.b(t.v(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n    },\n\n    '_t': function(node, context) {\n      context.code += write('\"' + esc(node.text) + '\"');\n    },\n\n    '{': tripleStache,\n\n    '&': tripleStache\n  }\n\n  function tripleStache(node, context) {\n    context.code += 't.b(t.t(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n  }\n\n  function write(s) {\n    return 't.b(' + s + ');';\n  }\n\n  Hogan.walk = function(nodelist, context) {\n    var func;\n    for (var i = 0, l = nodelist.length; i < l; i++) {\n      func = Hogan.codegen[nodelist[i].tag];\n      func && func(nodelist[i], context);\n    }\n    return context;\n  }\n\n  Hogan.parse = function(tokens, text, options) {\n    options = options || {};\n    return buildTree(tokens, '', [], options.sectionTags || []);\n  }\n\n  Hogan.cache = {};\n\n  Hogan.cacheKey = function(text, options) {\n    return [text, !!options.asString, !!options.disableLambda, options.delimiters, !!options.modelGet].join('||');\n  }\n\n  Hogan.compile = function(text, options) {\n    options = options || {};\n    var key = Hogan.cacheKey(text, options);\n    var template = this.cache[key];\n\n    if (template) {\n      var partials = template.partials;\n      for (var name in partials) {\n        delete partials[name].instance;\n      }\n      return template;\n    }\n\n    template = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n    return this.cache[key] = template;\n  }\n})(typeof exports !== 'undefined' ? exports : Hogan);\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n// This file is for use with Node.js. See dist/ for browser files.\n\nvar Hogan = require('./compiler');\nHogan.Template = require('./template').Template;\nHogan.template = Hogan.Template;\nmodule.exports = Hogan;\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\nvar Hogan = {};\n\n(function (Hogan) {\n  Hogan.Template = function (codeObj, text, compiler, options) {\n    codeObj = codeObj || {};\n    this.r = codeObj.code || this.r;\n    this.c = compiler;\n    this.options = options || {};\n    this.text = text || '';\n    this.partials = codeObj.partials || {};\n    this.subs = codeObj.subs || {};\n    this.buf = '';\n  }\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function (context, partials, indent) { return ''; },\n\n    // variable escaping\n    v: hoganEscape,\n\n    // triple stache\n    t: coerceToString,\n\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n\n    // render internal -- a hook for overrides that catches partials too\n    ri: function (context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n\n    // ensurePartial\n    ep: function(symbol, partials) {\n      var partial = this.partials[symbol];\n\n      // check to see that if we've instantiated this partial before\n      var template = partials[partial.name];\n      if (partial.instance && partial.base == template) {\n        return partial.instance;\n      }\n\n      if (typeof template == 'string') {\n        if (!this.c) {\n          throw new Error(\"No compiler available.\");\n        }\n        template = this.c.compile(template, this.options);\n      }\n\n      if (!template) {\n        return null;\n      }\n\n      // We use this to check whether the partials dictionary has changed\n      this.partials[symbol].base = template;\n\n      if (partial.subs) {\n        // Make sure we consider parent template now\n        if (!partials.stackText) partials.stackText = {};\n        for (key in partial.subs) {\n          if (!partials.stackText[key]) {\n            partials.stackText[key] = (this.activeSub !== undefined && partials.stackText[this.activeSub]) ? partials.stackText[this.activeSub] : this.text;\n          }\n        }\n        template = createSpecializedPartial(template, partial.subs, partial.partials,\n          this.stackSubs, this.stackPartials, partials.stackText);\n      }\n      this.partials[symbol].instance = template;\n\n      return template;\n    },\n\n    // tries to find a partial in the current scope and render it\n    rp: function(symbol, context, partials, indent) {\n      var partial = this.ep(symbol, partials);\n      if (!partial) {\n        return '';\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n\n    // render a section\n    rs: function(context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n\n    // maybe start a section\n    s: function(val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n\n    // find values with dotted names\n    d: function(key, ctx, partials, returnFound) {\n      var found,\n          names = key.split('.'),\n          val = this.f(names[0], ctx, partials, returnFound),\n          doModelGet = this.options.modelGet,\n          cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        val = ctx[ctx.length - 1];\n      } else {\n        for (var i = 1; i < names.length; i++) {\n          found = findInScope(names[i], val, doModelGet);\n          if (found !== undefined) {\n            cx = val;\n            val = found;\n          } else {\n            val = '';\n          }\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.mv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n\n    // find values with normal names\n    f: function(key, ctx, partials, returnFound) {\n      var val = false,\n          v = null,\n          found = false,\n          doModelGet = this.options.modelGet;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        val = findInScope(key, v, doModelGet);\n        if (val !== undefined) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return (returnFound) ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.mv(val, ctx, partials);\n      }\n\n      return val;\n    },\n\n    // higher order templates\n    ls: function(func, cx, partials, text, tags) {\n      var oldTags = this.options.delimiters;\n\n      this.options.delimiters = tags;\n      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n      this.options.delimiters = oldTags;\n\n      return false;\n    },\n\n    // compile text\n    ct: function(text, cx, partials) {\n      if (this.options.disableLambda) {\n        throw new Error('Lambda features disabled.');\n      }\n      return this.c.compile(text, this.options).render(cx, partials);\n    },\n\n    // template result buffering\n    b: function(s) { this.buf += s; },\n\n    fl: function() { var r = this.buf; this.buf = ''; return r; },\n\n    // method replace section\n    ms: function(func, ctx, partials, inverted, start, end, tags) {\n      var textSource,\n          cx = ctx[ctx.length - 1],\n          result = func.call(cx);\n\n      if (typeof result == 'function') {\n        if (inverted) {\n          return true;\n        } else {\n          textSource = (this.activeSub && this.subsText && this.subsText[this.activeSub]) ? this.subsText[this.activeSub] : this.text;\n          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n        }\n      }\n\n      return result;\n    },\n\n    // method replace variable\n    mv: function(func, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = func.call(cx);\n\n      if (typeof result == 'function') {\n        return this.ct(coerceToString(result.call(cx)), cx, partials);\n      }\n\n      return result;\n    },\n\n    sub: function(name, context, partials, indent) {\n      var f = this.subs[name];\n      if (f) {\n        this.activeSub = name;\n        f(context, partials, this, indent);\n        this.activeSub = false;\n      }\n    }\n\n  };\n\n  //Find a key in an object\n  function findInScope(key, scope, doModelGet) {\n    var val;\n\n    if (scope && typeof scope == 'object') {\n\n      if (scope[key] !== undefined) {\n        val = scope[key];\n\n      // try lookup with get for backbone or similar model data\n      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n        val = scope.get(key);\n      }\n    }\n\n    return val;\n  }\n\n  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n    function PartialTemplate() {};\n    PartialTemplate.prototype = instance;\n    function Substitutions() {};\n    Substitutions.prototype = instance.subs;\n    var key;\n    var partial = new PartialTemplate();\n    partial.subs = new Substitutions();\n    partial.subsText = {};  //hehe. substext.\n    partial.buf = '';\n\n    stackSubs = stackSubs || {};\n    partial.stackSubs = stackSubs;\n    partial.subsText = stackText;\n    for (key in subs) {\n      if (!stackSubs[key]) stackSubs[key] = subs[key];\n    }\n    for (key in stackSubs) {\n      partial.subs[key] = stackSubs[key];\n    }\n\n    stackPartials = stackPartials || {};\n    partial.stackPartials = stackPartials;\n    for (key in partials) {\n      if (!stackPartials[key]) stackPartials[key] = partials[key];\n    }\n    for (key in stackPartials) {\n      partial.partials[key] = stackPartials[key];\n    }\n\n    return partial;\n  }\n\n  var rAmp = /&/g,\n      rLt = /</g,\n      rGt = />/g,\n      rApos = /\\'/g,\n      rQuot = /\\\"/g,\n      hChars = /[&<>\\\"\\']/;\n\n  function coerceToString(val) {\n    return String((val === null || val === undefined) ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ?\n      str\n        .replace(rAmp, '&amp;')\n        .replace(rLt, '&lt;')\n        .replace(rGt, '&gt;')\n        .replace(rApos, '&#39;')\n        .replace(rQuot, '&quot;') :\n      str;\n  }\n\n  var isArray = Array.isArray || function(a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n\n})(typeof exports !== 'undefined' ? exports : Hogan);\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the  character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the  character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (cleanRoot !== '__proto__') {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar split = String.prototype.split;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            if (generateArrayPrefix === 'comma' && encodeValuesOnly) {\n                var valuesArray = split.call(String(obj), ',');\n                var valuesJoined = '';\n                for (var i = 0; i < valuesArray.length; ++i) {\n                    valuesJoined += (i === 0 ? '' : ',') + formatter(encoder(valuesArray[i], defaults.encoder, charset, 'value', format));\n                }\n                return [formatter(keyValue) + '=' + valuesJoined];\n            }\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix\n            : prefix + (allowDots ? '.' + key : '[' + key + ']');\n\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n            || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        /* eslint operator-linebreak: [2, \"before\"] */\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export var createDocumentationLink = function createDocumentationLink(_ref) {\n  var name = _ref.name,\n      _ref$connector = _ref.connector,\n      connector = _ref$connector === void 0 ? false : _ref$connector;\n  return ['https://www.algolia.com/doc/api-reference/widgets/', name, '/js/', connector ? '#connector' : ''].join('');\n};\nexport var createDocumentationMessageGenerator = function createDocumentationMessageGenerator() {\n  for (var _len = arguments.length, widgets = new Array(_len), _key = 0; _key < _len; _key++) {\n    widgets[_key] = arguments[_key];\n  }\n\n  var links = widgets.map(function (widget) {\n    return createDocumentationLink(widget);\n  }).join(', ');\n  return function (message) {\n    return [message, \"See documentation: \".concat(links)].filter(Boolean).join('\\n\\n');\n  };\n};","// We aren't using the native `Array.prototype.findIndex` because the refactor away from Lodash is not\n// published as a major version.\n// Relying on the `findIndex` polyfill on user-land, which before was only required for niche use-cases,\n// was decided as too risky.\n// @MAJOR Replace with the native `Array.prototype.findIndex` method\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex\nfunction findIndex(array, comparator) {\n  if (!Array.isArray(array)) {\n    return -1;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nexport default findIndex;","function uniq(array) {\n  return array.filter(function (value, index, self) {\n    return self.indexOf(value) === index;\n  });\n}\n\nexport default uniq;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport findIndex from './findIndex';\nimport uniq from './uniq';\n\nvar mergeWithRest = function mergeWithRest(left, right) {\n  var facets = right.facets,\n      disjunctiveFacets = right.disjunctiveFacets,\n      facetsRefinements = right.facetsRefinements,\n      facetsExcludes = right.facetsExcludes,\n      disjunctiveFacetsRefinements = right.disjunctiveFacetsRefinements,\n      numericRefinements = right.numericRefinements,\n      tagRefinements = right.tagRefinements,\n      hierarchicalFacets = right.hierarchicalFacets,\n      hierarchicalFacetsRefinements = right.hierarchicalFacetsRefinements,\n      ruleContexts = right.ruleContexts,\n      rest = _objectWithoutProperties(right, [\"facets\", \"disjunctiveFacets\", \"facetsRefinements\", \"facetsExcludes\", \"disjunctiveFacetsRefinements\", \"numericRefinements\", \"tagRefinements\", \"hierarchicalFacets\", \"hierarchicalFacetsRefinements\", \"ruleContexts\"]);\n\n  return left.setQueryParameters(rest);\n}; // Merge facets\n\n\nvar mergeFacets = function mergeFacets(left, right) {\n  return right.facets.reduce(function (_, name) {\n    return _.addFacet(name);\n  }, left);\n};\n\nvar mergeDisjunctiveFacets = function mergeDisjunctiveFacets(left, right) {\n  return right.disjunctiveFacets.reduce(function (_, name) {\n    return _.addDisjunctiveFacet(name);\n  }, left);\n};\n\nvar mergeHierarchicalFacets = function mergeHierarchicalFacets(left, right) {\n  return left.setQueryParameters({\n    hierarchicalFacets: right.hierarchicalFacets.reduce(function (facets, facet) {\n      var index = findIndex(facets, function (_) {\n        return _.name === facet.name;\n      });\n\n      if (index === -1) {\n        return facets.concat(facet);\n      }\n\n      var nextFacets = facets.slice();\n      nextFacets.splice(index, 1, facet);\n      return nextFacets;\n    }, left.hierarchicalFacets)\n  });\n}; // Merge facet refinements\n\n\nvar mergeTagRefinements = function mergeTagRefinements(left, right) {\n  return right.tagRefinements.reduce(function (_, value) {\n    return _.addTagRefinement(value);\n  }, left);\n};\n\nvar mergeFacetRefinements = function mergeFacetRefinements(left, right) {\n  return left.setQueryParameters({\n    facetsRefinements: _objectSpread(_objectSpread({}, left.facetsRefinements), right.facetsRefinements)\n  });\n};\n\nvar mergeFacetsExcludes = function mergeFacetsExcludes(left, right) {\n  return left.setQueryParameters({\n    facetsExcludes: _objectSpread(_objectSpread({}, left.facetsExcludes), right.facetsExcludes)\n  });\n};\n\nvar mergeDisjunctiveFacetsRefinements = function mergeDisjunctiveFacetsRefinements(left, right) {\n  return left.setQueryParameters({\n    disjunctiveFacetsRefinements: _objectSpread(_objectSpread({}, left.disjunctiveFacetsRefinements), right.disjunctiveFacetsRefinements)\n  });\n};\n\nvar mergeNumericRefinements = function mergeNumericRefinements(left, right) {\n  return left.setQueryParameters({\n    numericRefinements: _objectSpread(_objectSpread({}, left.numericRefinements), right.numericRefinements)\n  });\n};\n\nvar mergeHierarchicalFacetsRefinements = function mergeHierarchicalFacetsRefinements(left, right) {\n  return left.setQueryParameters({\n    hierarchicalFacetsRefinements: _objectSpread(_objectSpread({}, left.hierarchicalFacetsRefinements), right.hierarchicalFacetsRefinements)\n  });\n};\n\nvar mergeRuleContexts = function mergeRuleContexts(left, right) {\n  var ruleContexts = uniq([].concat(left.ruleContexts).concat(right.ruleContexts).filter(Boolean));\n\n  if (ruleContexts.length > 0) {\n    return left.setQueryParameters({\n      ruleContexts: ruleContexts\n    });\n  }\n\n  return left;\n};\n\nvar merge = function merge() {\n  for (var _len = arguments.length, parameters = new Array(_len), _key = 0; _key < _len; _key++) {\n    parameters[_key] = arguments[_key];\n  }\n\n  return parameters.reduce(function (left, right) {\n    var hierarchicalFacetsRefinementsMerged = mergeHierarchicalFacetsRefinements(left, right);\n    var hierarchicalFacetsMerged = mergeHierarchicalFacets(hierarchicalFacetsRefinementsMerged, right);\n    var tagRefinementsMerged = mergeTagRefinements(hierarchicalFacetsMerged, right);\n    var numericRefinementsMerged = mergeNumericRefinements(tagRefinementsMerged, right);\n    var disjunctiveFacetsRefinementsMerged = mergeDisjunctiveFacetsRefinements(numericRefinementsMerged, right);\n    var facetsExcludesMerged = mergeFacetsExcludes(disjunctiveFacetsRefinementsMerged, right);\n    var facetRefinementsMerged = mergeFacetRefinements(facetsExcludesMerged, right);\n    var disjunctiveFacetsMerged = mergeDisjunctiveFacets(facetRefinementsMerged, right);\n    var ruleContextsMerged = mergeRuleContexts(disjunctiveFacetsMerged, right);\n    var facetsMerged = mergeFacets(ruleContextsMerged, right);\n    return mergeWithRest(facetsMerged, right);\n  });\n};\n\nexport default merge;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport { checkIndexUiState, createDocumentationMessageGenerator, resolveSearchParameters, mergeSearchParameters, warning } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'index-widget'\n});\nexport function isIndexWidget(widget) {\n  return widget.$$type === 'ais.index';\n}\n/**\n * This is the same content as helper._change / setState, but allowing for extra\n * UiState to be synchronized.\n * see: https://github.com/algolia/algoliasearch-helper-js/blob/6b835ffd07742f2d6b314022cce6848f5cfecd4a/src/algoliasearch.helper.js#L1311-L1324\n */\n\nfunction privateHelperSetState(helper, _ref) {\n  var state = _ref.state,\n      isPageReset = _ref.isPageReset,\n      _uiState = _ref._uiState;\n\n  if (state !== helper.state) {\n    helper.state = state;\n    helper.emit('change', {\n      state: helper.state,\n      results: helper.lastResults,\n      isPageReset: isPageReset,\n      _uiState: _uiState\n    });\n  }\n}\n\nfunction getLocalWidgetsUiState(widgets, widgetStateOptions) {\n  var initialUiState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return widgets.reduce(function (uiState, widget) {\n    if (isIndexWidget(widget)) {\n      return uiState;\n    }\n\n    if (!widget.getWidgetUiState && !widget.getWidgetState) {\n      return uiState;\n    }\n\n    if (widget.getWidgetUiState) {\n      return widget.getWidgetUiState(uiState, widgetStateOptions);\n    }\n\n    return widget.getWidgetState(uiState, widgetStateOptions);\n  }, initialUiState);\n}\n\nfunction getLocalWidgetsSearchParameters(widgets, widgetSearchParametersOptions) {\n  var initialSearchParameters = widgetSearchParametersOptions.initialSearchParameters,\n      rest = _objectWithoutProperties(widgetSearchParametersOptions, [\"initialSearchParameters\"]);\n\n  return widgets.filter(function (widget) {\n    return !isIndexWidget(widget);\n  }).reduce(function (state, widget) {\n    if (!widget.getWidgetSearchParameters) {\n      return state;\n    }\n\n    return widget.getWidgetSearchParameters(state, rest);\n  }, initialSearchParameters);\n}\n\nfunction resetPageFromWidgets(widgets) {\n  var indexWidgets = widgets.filter(isIndexWidget);\n\n  if (indexWidgets.length === 0) {\n    return;\n  }\n\n  indexWidgets.forEach(function (widget) {\n    var widgetHelper = widget.getHelper();\n    privateHelperSetState(widgetHelper, {\n      state: widgetHelper.state.resetPage(),\n      isPageReset: true\n    });\n    resetPageFromWidgets(widget.getWidgets());\n  });\n}\n\nfunction resolveScopedResultsFromWidgets(widgets) {\n  var indexWidgets = widgets.filter(isIndexWidget);\n  return indexWidgets.reduce(function (scopedResults, current) {\n    return scopedResults.concat.apply(scopedResults, [{\n      indexId: current.getIndexId(),\n      results: current.getResults(),\n      helper: current.getHelper()\n    }].concat(_toConsumableArray(resolveScopedResultsFromWidgets(current.getWidgets()))));\n  }, []);\n}\n\nvar index = function index(widgetParams) {\n  if (widgetParams === undefined || widgetParams.indexName === undefined) {\n    throw new Error(withUsage('The `indexName` option is required.'));\n  }\n\n  var indexName = widgetParams.indexName,\n      _widgetParams$indexId = widgetParams.indexId,\n      indexId = _widgetParams$indexId === void 0 ? indexName : _widgetParams$indexId;\n  var localWidgets = [];\n  var localUiState = {};\n  var localInstantSearchInstance = null;\n  var localParent = null;\n  var helper = null;\n  var derivedHelper = null;\n  return {\n    $$type: 'ais.index',\n    $$widgetType: 'ais.index',\n    getIndexName: function getIndexName() {\n      return indexName;\n    },\n    getIndexId: function getIndexId() {\n      return indexId;\n    },\n    getHelper: function getHelper() {\n      return helper;\n    },\n    getResults: function getResults() {\n      return derivedHelper && derivedHelper.lastResults;\n    },\n    getScopedResults: function getScopedResults() {\n      var widgetParent = this.getParent(); // If the widget is the root, we consider itself as the only sibling.\n\n      var widgetSiblings = widgetParent ? widgetParent.getWidgets() : [this];\n      return resolveScopedResultsFromWidgets(widgetSiblings);\n    },\n    getParent: function getParent() {\n      return localParent;\n    },\n    createURL: function createURL(nextState) {\n      return localInstantSearchInstance._createURL(_defineProperty({}, indexId, getLocalWidgetsUiState(localWidgets, {\n        searchParameters: nextState,\n        helper: helper\n      })));\n    },\n    getWidgets: function getWidgets() {\n      return localWidgets;\n    },\n    addWidgets: function addWidgets(widgets) {\n      var _this = this;\n\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `addWidgets` method expects an array of widgets.'));\n      }\n\n      if (widgets.some(function (widget) {\n        return typeof widget.init !== 'function' && typeof widget.render !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `render` and/or an `init` method.'));\n      }\n\n      localWidgets = localWidgets.concat(widgets);\n\n      if (localInstantSearchInstance && Boolean(widgets.length)) {\n        privateHelperSetState(helper, {\n          state: getLocalWidgetsSearchParameters(localWidgets, {\n            uiState: localUiState,\n            initialSearchParameters: helper.state\n          }),\n          _uiState: localUiState\n        }); // We compute the render state before calling `init` in a separate loop\n        // to construct the whole render state object that is then passed to\n        // `init`.\n\n        widgets.forEach(function (widget) {\n          if (widget.getRenderState) {\n            var renderState = widget.getRenderState(localInstantSearchInstance.renderState[_this.getIndexId()] || {}, {\n              uiState: localInstantSearchInstance._initialUiState,\n              helper: _this.getHelper(),\n              parent: _this,\n              instantSearchInstance: localInstantSearchInstance,\n              state: helper.state,\n              renderState: localInstantSearchInstance.renderState,\n              templatesConfig: localInstantSearchInstance.templatesConfig,\n              createURL: _this.createURL,\n              scopedResults: [],\n              searchMetadata: {\n                isSearchStalled: localInstantSearchInstance._isSearchStalled\n              }\n            });\n            storeRenderState({\n              renderState: renderState,\n              instantSearchInstance: localInstantSearchInstance,\n              parent: _this\n            });\n          }\n        });\n        widgets.forEach(function (widget) {\n          if (widget.init) {\n            widget.init({\n              helper: helper,\n              parent: _this,\n              uiState: localInstantSearchInstance._initialUiState,\n              instantSearchInstance: localInstantSearchInstance,\n              state: helper.state,\n              renderState: localInstantSearchInstance.renderState,\n              templatesConfig: localInstantSearchInstance.templatesConfig,\n              createURL: _this.createURL,\n              scopedResults: [],\n              searchMetadata: {\n                isSearchStalled: localInstantSearchInstance._isSearchStalled\n              }\n            });\n          }\n        });\n        localInstantSearchInstance.scheduleSearch();\n      }\n\n      return this;\n    },\n    removeWidgets: function removeWidgets(widgets) {\n      var _this2 = this;\n\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `removeWidgets` method expects an array of widgets.'));\n      }\n\n      if (widgets.some(function (widget) {\n        return typeof widget.dispose !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `dispose` method.'));\n      }\n\n      localWidgets = localWidgets.filter(function (widget) {\n        return widgets.indexOf(widget) === -1;\n      });\n\n      if (localInstantSearchInstance && Boolean(widgets.length)) {\n        var nextState = widgets.reduce(function (state, widget) {\n          // the `dispose` method exists at this point we already assert it\n          var next = widget.dispose({\n            helper: helper,\n            state: state,\n            parent: _this2\n          });\n          return next || state;\n        }, helper.state);\n        localUiState = getLocalWidgetsUiState(localWidgets, {\n          searchParameters: nextState,\n          helper: helper\n        });\n        helper.setState(getLocalWidgetsSearchParameters(localWidgets, {\n          uiState: localUiState,\n          initialSearchParameters: nextState\n        }));\n\n        if (localWidgets.length) {\n          localInstantSearchInstance.scheduleSearch();\n        }\n      }\n\n      return this;\n    },\n    init: function init(_ref2) {\n      var _this3 = this;\n\n      var instantSearchInstance = _ref2.instantSearchInstance,\n          parent = _ref2.parent,\n          uiState = _ref2.uiState;\n\n      if (helper !== null) {\n        // helper is already initialized, therefore we do not need to set up\n        // any listeners\n        return;\n      }\n\n      localInstantSearchInstance = instantSearchInstance;\n      localParent = parent;\n      localUiState = uiState[indexId] || {}; // The `mainHelper` is already defined at this point. The instance is created\n      // inside InstantSearch at the `start` method, which occurs before the `init`\n      // step.\n\n      var mainHelper = instantSearchInstance.mainHelper;\n      var parameters = getLocalWidgetsSearchParameters(localWidgets, {\n        uiState: localUiState,\n        initialSearchParameters: new algoliasearchHelper.SearchParameters({\n          index: indexName\n        })\n      }); // This Helper is only used for state management we do not care about the\n      // `searchClient`. Only the \"main\" Helper created at the `InstantSearch`\n      // level is aware of the client.\n\n      helper = algoliasearchHelper({}, parameters.index, parameters); // We forward the call to `search` to the \"main\" instance of the Helper\n      // which is responsible for managing the queries (it's the only one that is\n      // aware of the `searchClient`).\n\n      helper.search = function () {\n        if (instantSearchInstance.onStateChange) {\n          instantSearchInstance.onStateChange({\n            uiState: instantSearchInstance.mainIndex.getWidgetUiState({}),\n            setUiState: instantSearchInstance.setUiState.bind(instantSearchInstance)\n          }); // We don't trigger a search when controlled because it becomes the\n          // responsibility of `setUiState`.\n\n          return mainHelper;\n        }\n\n        return mainHelper.search();\n      };\n\n      helper.searchWithoutTriggeringOnStateChange = function () {\n        return mainHelper.search();\n      }; // We use the same pattern for the `searchForFacetValues`.\n\n\n      helper.searchForFacetValues = function (facetName, facetValue, maxFacetHits, userState) {\n        var state = helper.state.setQueryParameters(userState);\n        return mainHelper.searchForFacetValues(facetName, facetValue, maxFacetHits, state);\n      };\n\n      derivedHelper = mainHelper.derive(function () {\n        return mergeSearchParameters.apply(void 0, _toConsumableArray(resolveSearchParameters(_this3)));\n      }); // Subscribe to the Helper state changes for the page before widgets\n      // are initialized. This behavior mimics the original one of the Helper.\n      // It makes sense to replicate it at the `init` step. We have another\n      // listener on `change` below, once `init` is done.\n\n      helper.on('change', function (_ref3) {\n        var isPageReset = _ref3.isPageReset;\n\n        if (isPageReset) {\n          resetPageFromWidgets(localWidgets);\n        }\n      });\n      derivedHelper.on('search', function () {\n        // The index does not manage the \"staleness\" of the search. This is the\n        // responsibility of the main instance. It does not make sense to manage\n        // it at the index level because it's either: all of them or none of them\n        // that are stalled. The queries are performed into a single network request.\n        instantSearchInstance.scheduleStalledRender();\n\n        if (process.env.NODE_ENV === 'development') {\n          checkIndexUiState({\n            index: _this3,\n            indexUiState: localUiState\n          });\n        }\n      });\n      derivedHelper.on('result', function (_ref4) {\n        var results = _ref4.results;\n        // The index does not render the results it schedules a new render\n        // to let all the other indices emit their own results. It allows us to\n        // run the render process in one pass.\n        instantSearchInstance.scheduleRender(); // the derived helper is the one which actually searches, but the helper\n        // which is exposed e.g. via instance.helper, doesn't search, and thus\n        // does not have access to lastResults, which it used to in pre-federated\n        // search behavior.\n\n        helper.lastResults = results;\n      }); // We compute the render state before calling `init` in a separate loop\n      // to construct the whole render state object that is then passed to\n      // `init`.\n\n      localWidgets.forEach(function (widget) {\n        if (widget.getRenderState) {\n          var renderState = widget.getRenderState(instantSearchInstance.renderState[_this3.getIndexId()] || {}, {\n            uiState: uiState,\n            helper: helper,\n            parent: _this3,\n            instantSearchInstance: instantSearchInstance,\n            state: helper.state,\n            renderState: instantSearchInstance.renderState,\n            templatesConfig: instantSearchInstance.templatesConfig,\n            createURL: _this3.createURL,\n            scopedResults: [],\n            searchMetadata: {\n              isSearchStalled: instantSearchInstance._isSearchStalled\n            }\n          });\n          storeRenderState({\n            renderState: renderState,\n            instantSearchInstance: instantSearchInstance,\n            parent: _this3\n          });\n        }\n      });\n      localWidgets.forEach(function (widget) {\n        process.env.NODE_ENV === 'development' ? warning( // if it has NO getWidgetState or if it has getWidgetUiState, we don't warn\n        // aka we warn if there's _only_ getWidgetState\n        !widget.getWidgetState || Boolean(widget.getWidgetUiState), 'The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead.') : void 0;\n\n        if (widget.init) {\n          widget.init({\n            uiState: uiState,\n            helper: helper,\n            parent: _this3,\n            instantSearchInstance: instantSearchInstance,\n            state: helper.state,\n            renderState: instantSearchInstance.renderState,\n            templatesConfig: instantSearchInstance.templatesConfig,\n            createURL: _this3.createURL,\n            scopedResults: [],\n            searchMetadata: {\n              isSearchStalled: instantSearchInstance._isSearchStalled\n            }\n          });\n        }\n      }); // Subscribe to the Helper state changes for the `uiState` once widgets\n      // are initialized. Until the first render, state changes are part of the\n      // configuration step. This is mainly for backward compatibility with custom\n      // widgets. When the subscription happens before the `init` step, the (static)\n      // configuration of the widget is pushed in the URL. That's what we want to avoid.\n      // https://github.com/algolia/instantsearch.js/pull/994/commits/4a672ae3fd78809e213de0368549ef12e9dc9454\n\n      helper.on('change', function (event) {\n        var state = event.state;\n        var _uiState = event._uiState;\n        localUiState = getLocalWidgetsUiState(localWidgets, {\n          searchParameters: state,\n          helper: helper\n        }, _uiState || {}); // We don't trigger an internal change when controlled because it\n        // becomes the responsibility of `setUiState`.\n\n        if (!instantSearchInstance.onStateChange) {\n          instantSearchInstance.onInternalStateChange();\n        }\n      });\n    },\n    render: function render(_ref5) {\n      var _this4 = this;\n\n      var instantSearchInstance = _ref5.instantSearchInstance;\n\n      if (!this.getResults()) {\n        return;\n      }\n\n      localWidgets.forEach(function (widget) {\n        if (widget.getRenderState) {\n          var renderState = widget.getRenderState(instantSearchInstance.renderState[_this4.getIndexId()] || {}, {\n            helper: _this4.getHelper(),\n            parent: _this4,\n            instantSearchInstance: instantSearchInstance,\n            results: _this4.getResults(),\n            scopedResults: _this4.getScopedResults(),\n            state: _this4.getResults()._state,\n            renderState: instantSearchInstance.renderState,\n            templatesConfig: instantSearchInstance.templatesConfig,\n            createURL: _this4.createURL,\n            searchMetadata: {\n              isSearchStalled: instantSearchInstance._isSearchStalled\n            }\n          });\n          storeRenderState({\n            renderState: renderState,\n            instantSearchInstance: instantSearchInstance,\n            parent: _this4\n          });\n        }\n      });\n      localWidgets.forEach(function (widget) {\n        // At this point, all the variables used below are set. Both `helper`\n        // and `derivedHelper` have been created at the `init` step. The attribute\n        // `lastResults` might be `null` though. It's possible that a stalled render\n        // happens before the result e.g with a dynamically added index the request might\n        // be delayed. The render is triggered for the complete tree but some parts do\n        // not have results yet.\n        if (widget.render) {\n          widget.render({\n            helper: helper,\n            parent: _this4,\n            instantSearchInstance: instantSearchInstance,\n            results: _this4.getResults(),\n            scopedResults: _this4.getScopedResults(),\n            state: _this4.getResults()._state,\n            renderState: instantSearchInstance.renderState,\n            templatesConfig: instantSearchInstance.templatesConfig,\n            createURL: _this4.createURL,\n            searchMetadata: {\n              isSearchStalled: instantSearchInstance._isSearchStalled\n            }\n          });\n        }\n      });\n    },\n    dispose: function dispose() {\n      var _this5 = this;\n\n      localWidgets.forEach(function (widget) {\n        if (widget.dispose) {\n          // The dispose function is always called once the instance is started\n          // (it's an effect of `removeWidgets`). The index is initialized and\n          // the Helper is available. We don't care about the return value of\n          // `dispose` because the index is removed. We can't call `removeWidgets`\n          // because we want to keep the widgets on the instance, to allow idempotent\n          // operations on `add` & `remove`.\n          widget.dispose({\n            helper: helper,\n            state: helper.state,\n            parent: _this5\n          });\n        }\n      });\n      localInstantSearchInstance = null;\n      localParent = null;\n      helper.removeAllListeners();\n      helper = null;\n      derivedHelper.detach();\n      derivedHelper = null;\n    },\n    getWidgetUiState: function getWidgetUiState(uiState) {\n      return localWidgets.filter(isIndexWidget).reduce(function (previousUiState, innerIndex) {\n        return innerIndex.getWidgetUiState(previousUiState);\n      }, _objectSpread(_objectSpread({}, uiState), {}, _defineProperty({}, this.getIndexId(), localUiState)));\n    },\n    getWidgetState: function getWidgetState(uiState) {\n      process.env.NODE_ENV === 'development' ? warning(false, 'The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead.') : void 0;\n      return this.getWidgetUiState(uiState);\n    },\n    getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref6) {\n      var uiState = _ref6.uiState;\n      return getLocalWidgetsSearchParameters(localWidgets, {\n        uiState: uiState,\n        initialSearchParameters: searchParameters\n      });\n    },\n    refreshUiState: function refreshUiState() {\n      localUiState = getLocalWidgetsUiState(localWidgets, {\n        searchParameters: this.getHelper().state,\n        helper: this.getHelper()\n      });\n    }\n  };\n};\n\nexport default index;\n\nfunction storeRenderState(_ref7) {\n  var renderState = _ref7.renderState,\n      instantSearchInstance = _ref7.instantSearchInstance,\n      parent = _ref7.parent;\n  var parentIndexName = parent ? parent.getIndexId() : instantSearchInstance.mainIndex.getIndexId();\n  instantSearchInstance.renderState = _objectSpread(_objectSpread({}, instantSearchInstance.renderState), {}, _defineProperty({}, parentIndexName, _objectSpread(_objectSpread({}, instantSearchInstance.renderState[parentIndexName]), renderState)));\n}","var resolveSearchParameters = function resolveSearchParameters(current) {\n  var parent = current.getParent();\n  var states = [current.getHelper().state];\n\n  while (parent !== null) {\n    states = [parent.getHelper().state].concat(states);\n    parent = parent.getParent();\n  }\n\n  return states;\n};\n\nexport default resolveSearchParameters;","export default '4.25.2';","var NAMESPACE = 'ais';\nexport var component = function component(componentName) {\n  return function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        descendantName = _ref.descendantName,\n        modifierName = _ref.modifierName;\n\n    var descendent = descendantName ? \"-\".concat(descendantName) : '';\n    var modifier = modifierName ? \"--\".concat(modifierName) : '';\n    return \"\".concat(NAMESPACE, \"-\").concat(componentName).concat(descendent).concat(modifier);\n  };\n};","function getPropertyByPath(object, path) {\n  var parts = Array.isArray(path) ? path : path.split('.');\n  return parts.reduce(function (current, key) {\n    return current && current[key];\n  }, object);\n}\n\nexport default getPropertyByPath;","/**\n * This implementation is taken from Lodash implementation.\n * See: https://github.com/lodash/lodash/blob/4.17.11-npm/escape.js\n */\n// Used to map characters to HTML entities.\nvar htmlEscapes = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n}; // Used to match HTML entities and HTML characters.\n\nvar regexUnescapedHtml = /[&<>\"']/g;\nvar regexHasUnescapedHtml = RegExp(regexUnescapedHtml.source);\n/**\n * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n * corresponding HTML entities.\n */\n\nfunction escape(value) {\n  return value && regexHasUnescapedHtml.test(value) ? value.replace(regexUnescapedHtml, function (character) {\n    return htmlEscapes[character];\n  }) : value;\n}\n\nexport default escape;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * This implementation is taken from Lodash implementation.\n * See: https://github.com/lodash/lodash/blob/master/isPlainObject.js\n */\nfunction getTag(value) {\n  if (value === null) {\n    return value === undefined ? '[object Undefined]' : '[object Null]';\n  }\n\n  return Object.prototype.toString.call(value);\n}\n\nfunction isObjectLike(value) {\n  return _typeof(value) === 'object' && value !== null;\n}\n/**\n * Checks if `value` is a plain object.\n *\n * A plain object is an object created by the `Object`\n * constructor or with a `[[Prototype]]` of `null`.\n */\n\n\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || getTag(value) !== '[object Object]') {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(value) === null) {\n    return true;\n  }\n\n  var proto = value;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(value) === proto;\n}\n\nexport default isPlainObject;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport escape from './escape';\nimport isPlainObject from './isPlainObject';\nexport var TAG_PLACEHOLDER = {\n  highlightPreTag: '__ais-highlight__',\n  highlightPostTag: '__/ais-highlight__'\n};\nexport var TAG_REPLACEMENT = {\n  highlightPreTag: '<mark>',\n  highlightPostTag: '</mark>'\n};\n\nfunction replaceTagsAndEscape(value) {\n  return escape(value).replace(new RegExp(TAG_PLACEHOLDER.highlightPreTag, 'g'), TAG_REPLACEMENT.highlightPreTag).replace(new RegExp(TAG_PLACEHOLDER.highlightPostTag, 'g'), TAG_REPLACEMENT.highlightPostTag);\n}\n\nfunction recursiveEscape(input) {\n  if (isPlainObject(input) && typeof input.value !== 'string') {\n    return Object.keys(input).reduce(function (acc, key) {\n      return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, recursiveEscape(input[key])));\n    }, {});\n  }\n\n  if (Array.isArray(input)) {\n    return input.map(recursiveEscape);\n  }\n\n  return _objectSpread(_objectSpread({}, input), {}, {\n    value: replaceTagsAndEscape(input.value)\n  });\n}\n\nexport function escapeHits(hits) {\n  if (hits.__escaped === undefined) {\n    // We don't override the value on hit because it will mutate the raw results\n    // instead we make a shallow copy and we assign the escaped values on it.\n    hits = hits.map(function (_ref) {\n      var hit = _extends({}, _ref);\n\n      if (hit._highlightResult) {\n        hit._highlightResult = recursiveEscape(hit._highlightResult);\n      }\n\n      if (hit._snippetResult) {\n        hit._snippetResult = recursiveEscape(hit._snippetResult);\n      }\n\n      return hit;\n    });\n    hits.__escaped = true;\n  }\n\n  return hits;\n}\nexport function escapeFacets(facetHits) {\n  return facetHits.map(function (h) {\n    return _objectSpread(_objectSpread({}, h), {}, {\n      highlighted: replaceTagsAndEscape(h.highlighted)\n    });\n  });\n}","import { component } from '../lib/suit';\nimport { getPropertyByPath, TAG_REPLACEMENT } from '../lib/utils';\nvar suit = component('Highlight');\nexport default function highlight(_ref) {\n  var attribute = _ref.attribute,\n      _ref$highlightedTagNa = _ref.highlightedTagName,\n      highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n      hit = _ref.hit,\n      _ref$cssClasses = _ref.cssClasses,\n      cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n\n  var _ref2 = getPropertyByPath(hit._highlightResult, attribute) || {},\n      _ref2$value = _ref2.value,\n      attributeValue = _ref2$value === void 0 ? '' : _ref2$value; // cx is not used, since it would be bundled as a dependency for Vue & Angular\n\n\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  return attributeValue.replace(new RegExp(TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}","import { TAG_REPLACEMENT } from './escape-highlight';\nexport default function concatHighlightedParts(parts) {\n  var highlightPreTag = TAG_REPLACEMENT.highlightPreTag,\n      highlightPostTag = TAG_REPLACEMENT.highlightPostTag;\n  return parts.map(function (part) {\n    return part.isHighlighted ? highlightPreTag + part.value + highlightPostTag : part.value;\n  }).join('');\n}","/**\n * This implementation is taken from Lodash implementation.\n * See: https://github.com/lodash/lodash/blob/4.17.11-npm/unescape.js\n */\n// Used to map HTML entities to characters.\nvar htmlEscapes = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': \"'\"\n}; // Used to match HTML entities and HTML characters.\n\nvar regexEscapedHtml = /&(amp|quot|lt|gt|#39);/g;\nvar regexHasEscapedHtml = RegExp(regexEscapedHtml.source);\n/**\n * Converts the HTML entities \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n * characters.\n */\n\nexport default function unescape(value) {\n  return value && regexHasEscapedHtml.test(value) ? value.replace(regexEscapedHtml, function (character) {\n    return htmlEscapes[character];\n  }) : value;\n}","import unescape from './unescape';\nvar hasAlphanumeric = new RegExp(/\\w/i);\nexport default function getHighlightFromSiblings(parts, i) {\n  var _parts, _parts2;\n\n  var current = parts[i];\n  var isNextHighlighted = ((_parts = parts[i + 1]) === null || _parts === void 0 ? void 0 : _parts.isHighlighted) || true;\n  var isPreviousHighlighted = ((_parts2 = parts[i - 1]) === null || _parts2 === void 0 ? void 0 : _parts2.isHighlighted) || true;\n\n  if (!hasAlphanumeric.test(unescape(current.value)) && isPreviousHighlighted === isNextHighlighted) {\n    return isPreviousHighlighted;\n  }\n\n  return current.isHighlighted;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport getHighlightFromSiblings from './getHighlightFromSiblings';\nexport default function reverseHighlightedParts(parts) {\n  if (!parts.some(function (part) {\n    return part.isHighlighted;\n  })) {\n    return parts.map(function (part) {\n      return _objectSpread(_objectSpread({}, part), {}, {\n        isHighlighted: false\n      });\n    });\n  }\n\n  return parts.map(function (part, i) {\n    return _objectSpread(_objectSpread({}, part), {}, {\n      isHighlighted: !getHighlightFromSiblings(parts, i)\n    });\n  });\n}","import { TAG_REPLACEMENT } from './escape-highlight';\nexport default function getHighlightedParts(highlightedValue) {\n  var highlightPostTag = TAG_REPLACEMENT.highlightPostTag,\n      highlightPreTag = TAG_REPLACEMENT.highlightPreTag;\n  var splitByPreTag = highlightedValue.split(highlightPreTag);\n  var firstValue = splitByPreTag.shift();\n  var elements = !firstValue ? [] : [{\n    value: firstValue,\n    isHighlighted: false\n  }];\n  splitByPreTag.forEach(function (split) {\n    var splitByPostTag = split.split(highlightPostTag);\n    elements.push({\n      value: splitByPostTag[0],\n      isHighlighted: true\n    });\n\n    if (splitByPostTag[1] !== '') {\n      elements.push({\n        value: splitByPostTag[1],\n        isHighlighted: false\n      });\n    }\n  });\n  return elements;\n}","import { TAG_REPLACEMENT, getPropertyByPath, getHighlightedParts, reverseHighlightedParts, concatHighlightedParts } from '../lib/utils';\nimport { component } from '../lib/suit';\nvar suit = component('ReverseHighlight');\nexport default function reverseHighlight(_ref) {\n  var attribute = _ref.attribute,\n      _ref$highlightedTagNa = _ref.highlightedTagName,\n      highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n      hit = _ref.hit,\n      _ref$cssClasses = _ref.cssClasses,\n      cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n\n  var _ref2 = getPropertyByPath(hit._highlightResult, attribute) || {},\n      _ref2$value = _ref2.value,\n      attributeValue = _ref2$value === void 0 ? '' : _ref2$value; // cx is not used, since it would be bundled as a dependency for Vue & Angular\n\n\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  var reverseHighlightedValue = concatHighlightedParts(reverseHighlightedParts(getHighlightedParts(attributeValue)));\n  return reverseHighlightedValue.replace(new RegExp(TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}","import { component } from '../lib/suit';\nimport { TAG_REPLACEMENT, getPropertyByPath } from '../lib/utils';\nvar suit = component('Snippet');\nexport default function snippet(_ref) {\n  var attribute = _ref.attribute,\n      _ref$highlightedTagNa = _ref.highlightedTagName,\n      highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n      hit = _ref.hit,\n      _ref$cssClasses = _ref.cssClasses,\n      cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n\n  var _ref2 = getPropertyByPath(hit._snippetResult, attribute) || {},\n      _ref2$value = _ref2.value,\n      attributeValue = _ref2$value === void 0 ? '' : _ref2$value; // cx is not used, since it would be bundled as a dependency for Vue & Angular\n\n\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  return attributeValue.replace(new RegExp(TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}","import { TAG_REPLACEMENT, getPropertyByPath, getHighlightedParts, reverseHighlightedParts, concatHighlightedParts } from '../lib/utils';\nimport { component } from '../lib/suit';\nvar suit = component('ReverseSnippet');\nexport default function reverseSnippet(_ref) {\n  var attribute = _ref.attribute,\n      _ref$highlightedTagNa = _ref.highlightedTagName,\n      highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n      hit = _ref.hit,\n      _ref$cssClasses = _ref.cssClasses,\n      cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n\n  var _ref2 = getPropertyByPath(hit._snippetResult, attribute) || {},\n      _ref2$value = _ref2.value,\n      attributeValue = _ref2$value === void 0 ? '' : _ref2$value; // cx is not used, since it would be bundled as a dependency for Vue & Angular\n\n\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  var reverseHighlightedValue = concatHighlightedParts(reverseHighlightedParts(getHighlightedParts(attributeValue)));\n  return reverseHighlightedValue.replace(new RegExp(TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}","export function serializePayload(payload) {\n  return btoa(encodeURIComponent(JSON.stringify(payload)));\n}\nexport function deserializePayload(payload) {\n  return JSON.parse(decodeURIComponent(atob(payload)));\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { warning, serializePayload, deserializePayload } from '../lib/utils';\nexport function readDataAttributes(domElement) {\n  var method = domElement.getAttribute('data-insights-method');\n  var serializedPayload = domElement.getAttribute('data-insights-payload');\n\n  if (typeof serializedPayload !== 'string') {\n    throw new Error('The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.');\n  }\n\n  try {\n    var payload = deserializePayload(serializedPayload);\n    return {\n      method: method,\n      payload: payload\n    };\n  } catch (error) {\n    throw new Error('The insights helper was unable to parse `data-insights-payload`.');\n  }\n}\nexport function hasDataAttributes(domElement) {\n  return domElement.hasAttribute('data-insights-method');\n}\nexport function writeDataAttributes(_ref) {\n  var method = _ref.method,\n      payload = _ref.payload;\n\n  if (_typeof(payload) !== 'object') {\n    throw new Error(\"The insights helper expects the payload to be an object.\");\n  }\n\n  var serializedPayload;\n\n  try {\n    serializedPayload = serializePayload(payload);\n  } catch (error) {\n    throw new Error(\"Could not JSON serialize the payload object.\");\n  }\n\n  return \"data-insights-method=\\\"\".concat(method, \"\\\" data-insights-payload=\\\"\").concat(serializedPayload, \"\\\"\");\n}\n/**\n * @deprecated This function will be still supported in 4.x releases, but not further. It is replaced by the `insights` middleware. For more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\n */\n\nexport default function insights(method, payload) {\n  process.env.NODE_ENV === 'development' ? warning(false, \"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n  return writeDataAttributes({\n    method: method,\n    payload: payload\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { highlight as _highlight, reverseHighlight as _reverseHighlight, snippet as _snippet, reverseSnippet as _reverseSnippet, insights as _insights } from '../helpers';\nexport default function hoganHelpers(_ref) {\n  var numberLocale = _ref.numberLocale;\n  return {\n    formatNumber: function formatNumber(value, render) {\n      return Number(render(value)).toLocaleString(numberLocale);\n    },\n    highlight: function highlight(options, render) {\n      try {\n        var highlightOptions = JSON.parse(options);\n        return render(_highlight(_objectSpread(_objectSpread({}, highlightOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\nThe highlight helper expects a JSON object of the format:\\n{ \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    reverseHighlight: function reverseHighlight(options, render) {\n      try {\n        var reverseHighlightOptions = JSON.parse(options);\n        return render(_reverseHighlight(_objectSpread(_objectSpread({}, reverseHighlightOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\n  The reverseHighlight helper expects a JSON object of the format:\\n  { \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    snippet: function snippet(options, render) {\n      try {\n        var snippetOptions = JSON.parse(options);\n        return render(_snippet(_objectSpread(_objectSpread({}, snippetOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\nThe snippet helper expects a JSON object of the format:\\n{ \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    reverseSnippet: function reverseSnippet(options, render) {\n      try {\n        var reverseSnippetOptions = JSON.parse(options);\n        return render(_reverseSnippet(_objectSpread(_objectSpread({}, reverseSnippetOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\n  The reverseSnippet helper expects a JSON object of the format:\\n  { \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    insights: function insights(options, render) {\n      try {\n        var _JSON$parse = JSON.parse(options),\n            method = _JSON$parse.method,\n            payload = _JSON$parse.payload;\n\n        return render(_insights(method, _objectSpread({\n          objectIDs: [this.objectID]\n        }, payload)));\n      } catch (error) {\n        throw new Error(\"\\nThe insights helper expects a JSON object of the format:\\n{ \\\"method\\\": \\\"method-name\\\", \\\"payload\\\": { \\\"eventName\\\": \\\"name of the event\\\" } }\");\n      }\n    }\n  };\n}","var nextMicroTask = Promise.resolve();\n\nvar defer = function defer(callback) {\n  var progress = null;\n  var cancelled = false;\n\n  var fn = function fn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (progress !== null) {\n      return;\n    }\n\n    progress = nextMicroTask.then(function () {\n      progress = null;\n\n      if (cancelled) {\n        cancelled = false;\n        return;\n      }\n\n      callback.apply(void 0, args);\n    });\n  };\n\n  fn.wait = function () {\n    if (progress === null) {\n      throw new Error('The deferred function should be called before calling `wait()`');\n    }\n\n    return progress;\n  };\n\n  fn.cancel = function () {\n    if (progress === null) {\n      return;\n    }\n\n    cancelled = true;\n  };\n\n  return fn;\n};\n\nexport default defer;","function noop() {}\n\nexport default noop;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction getIndexStateWithoutConfigure(uiState) {\n  var configure = uiState.configure,\n      trackedUiState = _objectWithoutProperties(uiState, [\"configure\"]);\n\n  return trackedUiState;\n} // technically a URL could contain any key, since users provide it,\n// which is why the input to this function is UiState, not something\n// which excludes \"configure\" as this function does.\n\n\nexport default function simpleStateMapping() {\n  return {\n    stateToRoute: function stateToRoute(uiState) {\n      return Object.keys(uiState).reduce(function (state, indexId) {\n        return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, indexId, getIndexStateWithoutConfigure(uiState[indexId])));\n      }, {});\n    },\n    routeToState: function routeToState() {\n      var routeState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return Object.keys(routeState).reduce(function (state, indexId) {\n        return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, indexId, getIndexStateWithoutConfigure(routeState[indexId])));\n      }, {});\n    }\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport qs from 'qs';\n\nvar defaultCreateURL = function defaultCreateURL(_ref) {\n  var qsModule = _ref.qsModule,\n      routeState = _ref.routeState,\n      location = _ref.location;\n  var protocol = location.protocol,\n      hostname = location.hostname,\n      _location$port = location.port,\n      port = _location$port === void 0 ? '' : _location$port,\n      pathname = location.pathname,\n      hash = location.hash;\n  var queryString = qsModule.stringify(routeState);\n  var portWithPrefix = port === '' ? '' : \":\".concat(port); // IE <= 11 has no proper `location.origin` so we cannot rely on it.\n\n  if (!queryString) {\n    return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname).concat(hash);\n  }\n\n  return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname, \"?\").concat(queryString).concat(hash);\n};\n\nvar defaultParseURL = function defaultParseURL(_ref2) {\n  var qsModule = _ref2.qsModule,\n      location = _ref2.location;\n  // `qs` by default converts arrays with more than 20 items to an object.\n  // We want to avoid this because the data structure manipulated can therefore vary.\n  // Setting the limit to `100` seems a good number because the engine's default is 100\n  // (it can go up to 1000 but it is very unlikely to select more than 100 items in the UI).\n  //\n  // Using an `arrayLimit` of `n` allows `n + 1` items.\n  //\n  // See:\n  //   - https://github.com/ljharb/qs#parsing-arrays\n  //   - https://www.algolia.com/doc/api-reference/api-parameters/maxValuesPerFacet/\n  return qsModule.parse(location.search.slice(1), {\n    arrayLimit: 99\n  });\n};\n\nvar setWindowTitle = function setWindowTitle(title) {\n  if (title) {\n    window.document.title = title;\n  }\n};\n\nvar BrowserHistory = /*#__PURE__*/function () {\n  /**\n   * Initializes a new storage provider that syncs the search state to the URL\n   * using web APIs (`window.location.pushState` and `onpopstate` event).\n   */\n  function BrowserHistory() {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        windowTitle = _ref3.windowTitle,\n        _ref3$writeDelay = _ref3.writeDelay,\n        writeDelay = _ref3$writeDelay === void 0 ? 400 : _ref3$writeDelay,\n        _ref3$createURL = _ref3.createURL,\n        createURL = _ref3$createURL === void 0 ? defaultCreateURL : _ref3$createURL,\n        _ref3$parseURL = _ref3.parseURL,\n        parseURL = _ref3$parseURL === void 0 ? defaultParseURL : _ref3$parseURL;\n\n    _classCallCheck(this, BrowserHistory);\n\n    _defineProperty(this, \"windowTitle\", void 0);\n\n    _defineProperty(this, \"writeDelay\", void 0);\n\n    _defineProperty(this, \"_createURL\", void 0);\n\n    _defineProperty(this, \"parseURL\", void 0);\n\n    _defineProperty(this, \"writeTimer\", void 0);\n\n    this.windowTitle = windowTitle;\n    this.writeTimer = undefined;\n    this.writeDelay = writeDelay;\n    this._createURL = createURL;\n    this.parseURL = parseURL;\n    var title = this.windowTitle && this.windowTitle(this.read());\n    setWindowTitle(title);\n  }\n  /**\n   * Reads the URL and returns a syncable UI search state.\n   */\n\n\n  _createClass(BrowserHistory, [{\n    key: \"read\",\n    value: function read() {\n      return this.parseURL({\n        qsModule: qs,\n        location: window.location\n      });\n    }\n    /**\n     * Pushes a search state into the URL.\n     */\n\n  }, {\n    key: \"write\",\n    value: function write(routeState) {\n      var _this = this;\n\n      var url = this.createURL(routeState);\n      var title = this.windowTitle && this.windowTitle(routeState);\n\n      if (this.writeTimer) {\n        window.clearTimeout(this.writeTimer);\n      }\n\n      this.writeTimer = window.setTimeout(function () {\n        setWindowTitle(title);\n        window.history.pushState(routeState, title || '', url);\n        _this.writeTimer = undefined;\n      }, this.writeDelay);\n    }\n    /**\n     * Sets a callback on the `onpopstate` event of the history API of the current page.\n     * It enables the URL sync to keep track of the changes.\n     */\n\n  }, {\n    key: \"onUpdate\",\n    value: function onUpdate(callback) {\n      var _this2 = this;\n\n      this._onPopState = function (event) {\n        if (_this2.writeTimer) {\n          window.clearTimeout(_this2.writeTimer);\n          _this2.writeTimer = undefined;\n        }\n\n        var routeState = event.state; // At initial load, the state is read from the URL without update.\n        // Therefore the state object is not available.\n        // In this case, we fallback and read the URL.\n\n        if (!routeState) {\n          callback(_this2.read());\n        } else {\n          callback(routeState);\n        }\n      };\n\n      window.addEventListener('popstate', this._onPopState);\n    }\n    /**\n     * Creates a complete URL from a given syncable UI state.\n     *\n     * It always generates the full URL, not a relative one.\n     * This allows to handle cases like using a <base href>.\n     * See: https://github.com/algolia/instantsearch.js/issues/790\n     */\n\n  }, {\n    key: \"createURL\",\n    value: function createURL(routeState) {\n      return this._createURL({\n        qsModule: qs,\n        routeState: routeState,\n        location: window.location\n      });\n    }\n    /**\n     * Removes the event listener and cleans up the URL.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (this._onPopState) {\n        window.removeEventListener('popstate', this._onPopState);\n      }\n\n      if (this.writeTimer) {\n        window.clearTimeout(this.writeTimer);\n      }\n\n      this.write({});\n    }\n  }]);\n\n  return BrowserHistory;\n}();\n\nexport default function (props) {\n  return new BrowserHistory(props);\n}","function isPrimitive(obj) {\n  return obj !== Object(obj);\n}\n\nfunction isEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n\n  if (isPrimitive(first) || isPrimitive(second) || typeof first === 'function' || typeof second === 'function') {\n    return first === second;\n  }\n\n  if (Object.keys(first).length !== Object.keys(second).length) {\n    return false;\n  }\n\n  for (var _i = 0, _Object$keys = Object.keys(first); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n\n    if (!(key in second)) {\n      return false;\n    }\n\n    if (!isEqual(first[key], second[key])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default isEqual;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport simpleStateMapping from '../lib/stateMappings/simple';\nimport historyRouter from '../lib/routers/history';\nimport { isEqual } from '../lib/utils';\nexport var createRouterMiddleware = function createRouterMiddleware() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _props$router = props.router,\n      router = _props$router === void 0 ? historyRouter() : _props$router,\n      _props$stateMapping = props.stateMapping,\n      stateMapping = _props$stateMapping === void 0 ? simpleStateMapping() : _props$stateMapping;\n  return function (_ref) {\n    var instantSearchInstance = _ref.instantSearchInstance;\n\n    function topLevelCreateURL(nextState) {\n      var uiState = Object.keys(nextState).reduce(function (acc, indexId) {\n        return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, indexId, nextState[indexId]));\n      }, instantSearchInstance.mainIndex.getWidgetUiState({}));\n      var route = stateMapping.stateToRoute(uiState);\n      return router.createURL(route);\n    }\n\n    instantSearchInstance._createURL = topLevelCreateURL;\n    instantSearchInstance._initialUiState = _objectSpread(_objectSpread({}, instantSearchInstance._initialUiState), stateMapping.routeToState(router.read()));\n    var lastRouteState = undefined;\n    return {\n      onStateChange: function onStateChange(_ref2) {\n        var uiState = _ref2.uiState;\n        var routeState = stateMapping.stateToRoute(uiState);\n\n        if (lastRouteState === undefined || !isEqual(lastRouteState, routeState)) {\n          router.write(routeState);\n          lastRouteState = routeState;\n        }\n      },\n      subscribe: function subscribe() {\n        router.onUpdate(function (route) {\n          instantSearchInstance.setUiState(stateMapping.routeToState(route));\n        });\n      },\n      unsubscribe: function unsubscribe() {\n        router.dispose();\n      }\n    };\n  };\n};","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction extractPayload(widgets, instantSearchInstance, payload) {\n  var parent = instantSearchInstance.mainIndex;\n  var initOptions = {\n    instantSearchInstance: instantSearchInstance,\n    parent: parent,\n    scopedResults: [],\n    state: parent.getHelper().state,\n    helper: parent.getHelper(),\n    createURL: parent.createURL,\n    uiState: instantSearchInstance._initialUiState,\n    renderState: instantSearchInstance.renderState,\n    templatesConfig: instantSearchInstance.templatesConfig,\n    searchMetadata: {\n      isSearchStalled: instantSearchInstance._isSearchStalled\n    }\n  };\n  widgets.forEach(function (widget) {\n    var widgetParams = {};\n\n    if (widget.getWidgetRenderState) {\n      var renderState = widget.getWidgetRenderState(initOptions);\n\n      if (renderState && _typeof(renderState.widgetParams) === 'object') {\n        widgetParams = renderState.widgetParams;\n      }\n    } // since we destructure in all widgets, the parameters with defaults are set to \"undefined\"\n\n\n    var params = Object.keys(widgetParams).filter(function (key) {\n      return widgetParams[key] !== undefined;\n    });\n    payload.widgets.push({\n      type: widget.$$type,\n      widgetType: widget.$$widgetType,\n      params: params\n    });\n\n    if (widget.$$type === 'ais.index') {\n      extractPayload(widget.getWidgets(), instantSearchInstance, payload);\n    }\n  });\n}\n\nexport function isMetadataEnabled() {\n  return typeof window !== 'undefined' && window.navigator.userAgent.indexOf('Algolia Crawler') > -1;\n}\n/**\n * Exposes the metadata of mounted widgets in a custom\n * `<meta name=\"instantsearch:widgets\" />` tag. The metadata per widget is:\n * - applied parameters\n * - widget name\n * - connector name\n */\n\nexport function createMetadataMiddleware() {\n  return function (_ref) {\n    var instantSearchInstance = _ref.instantSearchInstance;\n    var payload = {\n      widgets: []\n    };\n    var payloadContainer = document.createElement('meta');\n    var refNode = document.querySelector('head');\n    payloadContainer.name = 'instantsearch:widgets';\n    return {\n      onStateChange: function onStateChange() {},\n      subscribe: function subscribe() {\n        // using setTimeout here to delay extraction until widgets have been added in a tick (e.g. Vue)\n        setTimeout(function () {\n          var client = instantSearchInstance.client;\n          payload.ua = client.transporter && client.transporter.userAgent ? client.transporter.userAgent.value : client._ua;\n          extractPayload(instantSearchInstance.mainIndex.getWidgets(), instantSearchInstance, payload);\n          payloadContainer.content = JSON.stringify(payload);\n          refNode.appendChild(payloadContainer);\n        }, 0);\n      },\n      unsubscribe: function unsubscribe() {\n        payloadContainer.remove();\n      }\n    };\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport EventEmitter from 'events';\nimport index, { isIndexWidget } from '../widgets/index/index';\nimport version from './version';\nimport createHelpers from './createHelpers';\nimport { createDocumentationMessageGenerator, createDocumentationLink, defer, noop, warning, checkIndexUiState } from './utils';\nimport { createRouterMiddleware } from '../middlewares/createRouterMiddleware';\nimport { createMetadataMiddleware, isMetadataEnabled } from '../middlewares/createMetadataMiddleware';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'instantsearch'\n});\n\nfunction defaultCreateURL() {\n  return '#';\n}\n/**\n * Global options for an InstantSearch instance.\n */\n\n\n/**\n * The actual implementation of the InstantSearch. This is\n * created using the `instantsearch` factory function.\n * It emits the 'render' event every time a search is done\n */\nvar InstantSearch = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(InstantSearch, _EventEmitter);\n\n  var _super = _createSuper(InstantSearch);\n\n  function InstantSearch(options) {\n    var _this;\n\n    _classCallCheck(this, InstantSearch);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"client\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"indexName\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"insightsClient\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onStateChange\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"helper\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mainHelper\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mainIndex\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"started\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"templatesConfig\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"renderState\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"_stalledSearchDelay\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_searchStalledTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_isSearchStalled\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_initialUiState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_createURL\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_searchFunction\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_mainHelperSearch\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"middleware\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"sendEventToInsights\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"scheduleSearch\", defer(function () {\n      if (_this.started) {\n        _this.mainHelper.search();\n      }\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"scheduleRender\", defer(function () {\n      if (!_this.mainHelper.hasPendingRequests()) {\n        clearTimeout(_this._searchStalledTimer);\n        _this._searchStalledTimer = null;\n        _this._isSearchStalled = false;\n      }\n\n      _this.mainIndex.render({\n        instantSearchInstance: _assertThisInitialized(_this)\n      });\n\n      _this.emit('render');\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"onInternalStateChange\", defer(function () {\n      var nextUiState = _this.mainIndex.getWidgetUiState({});\n\n      _this.middleware.forEach(function (_ref) {\n        var instance = _ref.instance;\n        instance.onStateChange({\n          uiState: nextUiState\n        });\n      });\n    }));\n\n    var _options$indexName = options.indexName,\n        indexName = _options$indexName === void 0 ? null : _options$indexName,\n        numberLocale = options.numberLocale,\n        _options$initialUiSta = options.initialUiState,\n        initialUiState = _options$initialUiSta === void 0 ? {} : _options$initialUiSta,\n        _options$routing = options.routing,\n        routing = _options$routing === void 0 ? null : _options$routing,\n        searchFunction = options.searchFunction,\n        _options$stalledSearc = options.stalledSearchDelay,\n        stalledSearchDelay = _options$stalledSearc === void 0 ? 200 : _options$stalledSearc,\n        _options$searchClient = options.searchClient,\n        searchClient = _options$searchClient === void 0 ? null : _options$searchClient,\n        _options$insightsClie = options.insightsClient,\n        insightsClient = _options$insightsClie === void 0 ? null : _options$insightsClie,\n        _options$onStateChang = options.onStateChange,\n        onStateChange = _options$onStateChang === void 0 ? null : _options$onStateChang;\n\n    if (indexName === null) {\n      throw new Error(withUsage('The `indexName` option is required.'));\n    }\n\n    if (searchClient === null) {\n      throw new Error(withUsage('The `searchClient` option is required.'));\n    }\n\n    if (typeof searchClient.search !== 'function') {\n      throw new Error(\"The `searchClient` must implement a `search` method.\\n\\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/\");\n    }\n\n    if (typeof searchClient.addAlgoliaAgent === 'function') {\n      searchClient.addAlgoliaAgent(\"instantsearch.js (\".concat(version, \")\"));\n    }\n\n    process.env.NODE_ENV === 'development' ? warning(insightsClient === null, \"`insightsClient` property has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n\n    if (insightsClient && typeof insightsClient !== 'function') {\n      throw new Error(withUsage('The `insightsClient` option should be a function.'));\n    }\n\n    process.env.NODE_ENV === 'development' ? warning(!options.searchParameters, \"The `searchParameters` option is deprecated and will not be supported in InstantSearch.js 4.x.\\n\\nYou can replace it with the `configure` widget:\\n\\n```\\nsearch.addWidgets([\\n  configure(\".concat(JSON.stringify(options.searchParameters, null, 2), \")\\n]);\\n```\\n\\nSee \").concat(createDocumentationLink({\n      name: 'configure'\n    }))) : void 0;\n    _this.client = searchClient;\n    _this.insightsClient = insightsClient;\n    _this.indexName = indexName;\n    _this.helper = null;\n    _this.mainHelper = null;\n    _this.mainIndex = index({\n      indexName: indexName\n    });\n    _this.onStateChange = onStateChange;\n    _this.started = false;\n    _this.templatesConfig = {\n      helpers: createHelpers({\n        numberLocale: numberLocale\n      }),\n      compileOptions: {}\n    };\n    _this._stalledSearchDelay = stalledSearchDelay;\n    _this._searchStalledTimer = null;\n    _this._isSearchStalled = false;\n    _this._createURL = defaultCreateURL;\n    _this._initialUiState = initialUiState;\n\n    if (searchFunction) {\n      _this._searchFunction = searchFunction;\n    }\n\n    _this.sendEventToInsights = noop;\n\n    if (routing) {\n      var routerOptions = typeof routing === 'boolean' ? undefined : routing;\n\n      _this.use(createRouterMiddleware(routerOptions));\n    }\n\n    if (isMetadataEnabled()) {\n      _this.use(createMetadataMiddleware());\n    }\n\n    return _this;\n  }\n  /**\n   * Hooks a middleware into the InstantSearch lifecycle.\n   */\n\n\n  _createClass(InstantSearch, [{\n    key: \"use\",\n    value: function use() {\n      var _this2 = this;\n\n      for (var _len = arguments.length, middleware = new Array(_len), _key = 0; _key < _len; _key++) {\n        middleware[_key] = arguments[_key];\n      }\n\n      var newMiddlewareList = middleware.map(function (fn) {\n        var newMiddleware = _objectSpread({\n          subscribe: noop,\n          unsubscribe: noop,\n          onStateChange: noop\n        }, fn({\n          instantSearchInstance: _this2\n        }));\n\n        _this2.middleware.push({\n          creator: fn,\n          instance: newMiddleware\n        });\n\n        return newMiddleware;\n      }); // If the instance has already started, we directly subscribe the\n      // middleware so they're notified of changes.\n\n      if (this.started) {\n        newMiddlewareList.forEach(function (m) {\n          m.subscribe();\n        });\n      }\n\n      return this;\n    }\n    /**\n     * Removes a middleware from the InstantSearch lifecycle.\n     */\n\n  }, {\n    key: \"unuse\",\n    value: function unuse() {\n      for (var _len2 = arguments.length, middlewareToUnuse = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        middlewareToUnuse[_key2] = arguments[_key2];\n      }\n\n      this.middleware.filter(function (m) {\n        return middlewareToUnuse.includes(m.creator);\n      }).forEach(function (m) {\n        return m.instance.unsubscribe();\n      });\n      this.middleware = this.middleware.filter(function (m) {\n        return !middlewareToUnuse.includes(m.creator);\n      });\n      return this;\n    } // @major we shipped with EXPERIMENTAL_use, but have changed that to just `use` now\n\n  }, {\n    key: \"EXPERIMENTAL_use\",\n    value: function EXPERIMENTAL_use() {\n      process.env.NODE_ENV === 'development' ? warning(false, 'The middleware API is now considered stable, so we recommend replacing `EXPERIMENTAL_use` with `use` before upgrading to the next major version.') : void 0;\n      return this.use.apply(this, arguments);\n    }\n    /**\n     * Adds a widget to the search instance.\n     * A widget can be added either before or after InstantSearch has started.\n     * @param widget The widget to add to InstantSearch.\n     *\n     * @deprecated This method will still be supported in 4.x releases, but not further. It is replaced by `addWidgets([widget])`.\n     */\n\n  }, {\n    key: \"addWidget\",\n    value: function addWidget(widget) {\n      process.env.NODE_ENV === 'development' ? warning(false, 'addWidget will still be supported in 4.x releases, but not further. It is replaced by `addWidgets([widget])`') : void 0;\n      return this.addWidgets([widget]);\n    }\n    /**\n     * Adds multiple widgets to the search instance.\n     * Widgets can be added either before or after InstantSearch has started.\n     * @param widgets The array of widgets to add to InstantSearch.\n     */\n\n  }, {\n    key: \"addWidgets\",\n    value: function addWidgets(widgets) {\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `addWidgets` method expects an array of widgets. Please use `addWidget`.'));\n      }\n\n      if (widgets.some(function (widget) {\n        return typeof widget.init !== 'function' && typeof widget.render !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `render` and/or an `init` method.'));\n      }\n\n      this.mainIndex.addWidgets(widgets);\n      return this;\n    }\n    /**\n     * Removes a widget from the search instance.\n     * @deprecated This method will still be supported in 4.x releases, but not further. It is replaced by `removeWidgets([widget])`\n     * @param widget The widget instance to remove from InstantSearch.\n     *\n     * The widget must implement a `dispose()` method to clear its state.\n     */\n\n  }, {\n    key: \"removeWidget\",\n    value: function removeWidget(widget) {\n      process.env.NODE_ENV === 'development' ? warning(false, 'removeWidget will still be supported in 4.x releases, but not further. It is replaced by `removeWidgets([widget])`') : void 0;\n      return this.removeWidgets([widget]);\n    }\n    /**\n     * Removes multiple widgets from the search instance.\n     * @param widgets Array of widgets instances to remove from InstantSearch.\n     *\n     * The widgets must implement a `dispose()` method to clear their states.\n     */\n\n  }, {\n    key: \"removeWidgets\",\n    value: function removeWidgets(widgets) {\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `removeWidgets` method expects an array of widgets. Please use `removeWidget`.'));\n      }\n\n      if (widgets.some(function (widget) {\n        return typeof widget.dispose !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `dispose` method.'));\n      }\n\n      this.mainIndex.removeWidgets(widgets);\n      return this;\n    }\n    /**\n     * Ends the initialization of InstantSearch.js and triggers the\n     * first search. This method should be called after all widgets have been added\n     * to the instance of InstantSearch.js. InstantSearch.js also supports adding and removing\n     * widgets after the start as an **EXPERIMENTAL** feature.\n     */\n\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this3 = this;\n\n      if (this.started) {\n        throw new Error(withUsage('The `start` method has already been called once.'));\n      } // This Helper is used for the queries, we don't care about its state. The\n      // states are managed at the `index` level. We use this Helper to create\n      // DerivedHelper scoped into the `index` widgets.\n      // In Vue InstantSearch' hydrate, a main helper gets set before start, so\n      // we need to respect this helper as a way to keep all listeners correct.\n\n\n      var mainHelper = this.mainHelper || algoliasearchHelper(this.client, this.indexName);\n\n      mainHelper.search = function () {\n        // This solution allows us to keep the exact same API for the users but\n        // under the hood, we have a different implementation. It should be\n        // completely transparent for the rest of the codebase. Only this module\n        // is impacted.\n        return mainHelper.searchOnlyWithDerivedHelpers();\n      };\n\n      if (this._searchFunction) {\n        // this client isn't used to actually search, but required for the helper\n        // to not throw errors\n        var fakeClient = {\n          search: function search() {\n            return new Promise(noop);\n          }\n        };\n        this._mainHelperSearch = mainHelper.search.bind(mainHelper);\n\n        mainHelper.search = function () {\n          var mainIndexHelper = _this3.mainIndex.getHelper();\n\n          var searchFunctionHelper = algoliasearchHelper(fakeClient, mainIndexHelper.state.index, mainIndexHelper.state);\n          searchFunctionHelper.once('search', function (_ref2) {\n            var state = _ref2.state;\n            mainIndexHelper.overrideStateWithoutTriggeringChangeEvent(state);\n\n            _this3._mainHelperSearch();\n          }); // Forward state changes from `searchFunctionHelper` to `mainIndexHelper`\n\n          searchFunctionHelper.on('change', function (_ref3) {\n            var state = _ref3.state;\n            mainIndexHelper.setState(state);\n          });\n\n          _this3._searchFunction(searchFunctionHelper);\n\n          return mainHelper;\n        };\n      } // Only the \"main\" Helper emits the `error` event vs the one for `search`\n      // and `results` that are also emitted on the derived one.\n\n\n      mainHelper.on('error', function (_ref4) {\n        var error = _ref4.error;\n\n        _this3.emit('error', {\n          error: error\n        });\n      });\n      this.mainHelper = mainHelper;\n      this.mainIndex.init({\n        instantSearchInstance: this,\n        parent: null,\n        uiState: this._initialUiState\n      });\n      this.middleware.forEach(function (_ref5) {\n        var instance = _ref5.instance;\n        instance.subscribe();\n      });\n      mainHelper.search(); // Keep the previous reference for legacy purpose, some pattern use\n      // the direct Helper access `search.helper` (e.g multi-index).\n\n      this.helper = this.mainIndex.getHelper(); // track we started the search if we add more widgets,\n      // to init them directly after add\n\n      this.started = true;\n    }\n    /**\n     * Removes all widgets without triggering a search afterwards. This is an **EXPERIMENTAL** feature,\n     * if you find an issue with it, please\n     * [open an issue](https://github.com/algolia/instantsearch.js/issues/new?title=Problem%20with%20dispose).\n     * @return {undefined} This method does not return anything\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.scheduleSearch.cancel();\n      this.scheduleRender.cancel();\n      clearTimeout(this._searchStalledTimer);\n      this.removeWidgets(this.mainIndex.getWidgets());\n      this.mainIndex.dispose(); // You can not start an instance two times, therefore a disposed instance\n      // needs to set started as false otherwise this can not be restarted at a\n      // later point.\n\n      this.started = false; // The helper needs to be reset to perform the next search from a fresh state.\n      // If not reset, it would use the state stored before calling `dispose()`.\n\n      this.removeAllListeners();\n      this.mainHelper.removeAllListeners();\n      this.mainHelper = null;\n      this.helper = null;\n      this.middleware.forEach(function (_ref6) {\n        var instance = _ref6.instance;\n        instance.unsubscribe();\n      });\n    }\n  }, {\n    key: \"scheduleStalledRender\",\n    value: function scheduleStalledRender() {\n      var _this4 = this;\n\n      if (!this._searchStalledTimer) {\n        this._searchStalledTimer = setTimeout(function () {\n          _this4._isSearchStalled = true;\n\n          _this4.scheduleRender();\n        }, this._stalledSearchDelay);\n      }\n    }\n  }, {\n    key: \"setUiState\",\n    value: function setUiState(uiState) {\n      if (!this.mainHelper) {\n        throw new Error(withUsage('The `start` method needs to be called before `setUiState`.'));\n      } // We refresh the index UI state to update the local UI state that the\n      // main index passes to the function form of `setUiState`.\n\n\n      this.mainIndex.refreshUiState();\n      var nextUiState = typeof uiState === 'function' ? uiState(this.mainIndex.getWidgetUiState({})) : uiState;\n\n      var setIndexHelperState = function setIndexHelperState(indexWidget) {\n        if (process.env.NODE_ENV === 'development') {\n          checkIndexUiState({\n            index: indexWidget,\n            indexUiState: nextUiState[indexWidget.getIndexId()]\n          });\n        }\n\n        indexWidget.getHelper().setState(indexWidget.getWidgetSearchParameters(indexWidget.getHelper().state, {\n          uiState: nextUiState[indexWidget.getIndexId()]\n        }));\n        indexWidget.getWidgets().filter(isIndexWidget).forEach(setIndexHelperState);\n      };\n\n      setIndexHelperState(this.mainIndex);\n      this.scheduleSearch();\n      this.onInternalStateChange();\n    }\n  }, {\n    key: \"getUiState\",\n    value: function getUiState() {\n      if (this.started) {\n        // We refresh the index UI state to make sure changes from `refine` are taken in account\n        this.mainIndex.refreshUiState();\n      }\n\n      return this.mainIndex.getWidgetUiState({});\n    }\n  }, {\n    key: \"createURL\",\n    value: function createURL() {\n      var nextState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (!this.started) {\n        throw new Error(withUsage('The `start` method needs to be called before `createURL`.'));\n      }\n\n      return this._createURL(nextState);\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      if (!this.mainHelper) {\n        throw new Error(withUsage('The `start` method needs to be called before `refresh`.'));\n      }\n\n      this.mainHelper.clearCache().search();\n    }\n  }]);\n\n  return InstantSearch;\n}(EventEmitter);\n\nexport default InstantSearch;","function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { isEqual } from '../utils';\n\nfunction getStateWithoutPage(state) {\n  var _ref = state || {},\n      page = _ref.page,\n      rest = _objectWithoutProperties(_ref, [\"page\"]);\n\n  return rest;\n}\n\nvar KEY = 'ais.infiniteHits';\n\nfunction hasSessionStorage() {\n  return typeof window !== 'undefined' && typeof window.sessionStorage !== 'undefined';\n}\n\nexport default function createInfiniteHitsSessionStorageCache() {\n  return {\n    read: function read(_ref2) {\n      var state = _ref2.state;\n\n      if (!hasSessionStorage()) {\n        return null;\n      }\n\n      try {\n        var cache = JSON.parse( // @ts-expect-error JSON.parse() requires a string, but it actually accepts null, too.\n        window.sessionStorage.getItem(KEY));\n        return cache && isEqual(cache.state, getStateWithoutPage(state)) ? cache.hits : null;\n      } catch (error) {\n        if (error instanceof SyntaxError) {\n          try {\n            window.sessionStorage.removeItem(KEY);\n          } catch (err) {// do nothing\n          }\n        }\n\n        return null;\n      }\n    },\n    write: function write(_ref3) {\n      var state = _ref3.state,\n          hits = _ref3.hits;\n\n      if (!hasSessionStorage()) {\n        return;\n      }\n\n      try {\n        window.sessionStorage.setItem(KEY, JSON.stringify({\n          state: getStateWithoutPage(state),\n          hits: hits\n        }));\n      } catch (error) {// do nothing\n      }\n    }\n  };\n}","import InstantSearch from './lib/InstantSearch';\nimport version from './lib/version';\nimport { snippet, reverseSnippet, highlight, reverseHighlight, insights, getInsightsAnonymousUserToken } from './helpers';\nimport { createInfiniteHitsSessionStorageCache } from './lib/infiniteHitsCache';\n\nvar instantsearch = function instantsearch(options) {\n  return new InstantSearch(options);\n};\n\ninstantsearch.version = version;\ninstantsearch.snippet = snippet;\ninstantsearch.reverseSnippet = reverseSnippet;\ninstantsearch.highlight = highlight;\ninstantsearch.reverseHighlight = reverseHighlight;\ninstantsearch.insights = insights;\ninstantsearch.getInsightsAnonymousUserToken = getInsightsAnonymousUserToken;\ninstantsearch.createInfiniteHitsSessionStorageCache = createInfiniteHitsSessionStorageCache;\nObject.defineProperty(instantsearch, 'widgets', {\n  get: function get() {\n    throw new ReferenceError(\"\\\"instantsearch.widgets\\\" are not available from the ES build.\\n\\nTo import the widgets:\\n\\nimport { searchBox } from 'instantsearch.js/es/widgets'\");\n  }\n});\nObject.defineProperty(instantsearch, 'connectors', {\n  get: function get() {\n    throw new ReferenceError(\"\\\"instantsearch.connectors\\\" are not available from the ES build.\\n\\nTo import the connectors:\\n\\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'\");\n  }\n});\nexport default instantsearch;\n","import { warning } from '../lib/utils';\nexport var ANONYMOUS_TOKEN_COOKIE_KEY = '_ALGOLIA';\n\nfunction getCookie(name) {\n  var prefix = \"\".concat(name, \"=\");\n  var cookies = document.cookie.split(';');\n\n  for (var i = 0; i < cookies.length; i++) {\n    var cookie = cookies[i];\n\n    while (cookie.charAt(0) === ' ') {\n      cookie = cookie.substring(1);\n    }\n\n    if (cookie.indexOf(prefix) === 0) {\n      return cookie.substring(prefix.length, cookie.length);\n    }\n  }\n\n  return undefined;\n}\n\nexport function getInsightsAnonymousUserTokenInternal() {\n  return getCookie(ANONYMOUS_TOKEN_COOKIE_KEY);\n}\n/**\n * @deprecated This function will be still supported in 4.x releases, but not further. It is replaced by the `insights` middleware. For more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\n */\n\nexport default function getInsightsAnonymousUserToken() {\n  process.env.NODE_ENV === 'development' ? warning(false, \"`getInsightsAnonymousUserToken` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n  return getInsightsAnonymousUserTokenInternal();\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport { createDocumentationMessageGenerator, isPlainObject, mergeSearchParameters, noop } from '../../lib/utils';\n/**\n * Refine the given search parameters.\n */\n\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'configure',\n  connector: true\n});\n\nfunction getInitialSearchParameters(state, widgetParams) {\n  // We leverage the helper internals to remove the `widgetParams` from\n  // the state. The function `setQueryParameters` omits the values that\n  // are `undefined` on the next state.\n  return state.setQueryParameters(Object.keys(widgetParams.searchParameters).reduce(function (acc, key) {\n    return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, undefined));\n  }, {}));\n}\n\nvar connectConfigure = function connectConfigure() {\n  var renderFn = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  return function (widgetParams) {\n    if (!widgetParams || !isPlainObject(widgetParams.searchParameters)) {\n      throw new Error(withUsage('The `searchParameters` option expects an object.'));\n    }\n\n    var connectorState = {};\n\n    function refine(helper) {\n      return function (searchParameters) {\n        // Merge new `searchParameters` with the ones set from other widgets\n        var actualState = getInitialSearchParameters(helper.state, widgetParams);\n        var nextSearchParameters = mergeSearchParameters(actualState, new algoliasearchHelper.SearchParameters(searchParameters)); // Update original `widgetParams.searchParameters` to the new refined one\n\n        widgetParams.searchParameters = searchParameters; // Trigger a search with the resolved search parameters\n\n        helper.setState(nextSearchParameters).search();\n      };\n    }\n\n    return {\n      $$type: 'ais.configure',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref) {\n        var state = _ref.state;\n        unmountFn();\n        return getInitialSearchParameters(state, widgetParams);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        var _renderState$configur;\n\n        var widgetRenderState = this.getWidgetRenderState(renderOptions);\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          configure: _objectSpread(_objectSpread({}, widgetRenderState), {}, {\n            widgetParams: _objectSpread(_objectSpread({}, widgetRenderState.widgetParams), {}, {\n              searchParameters: mergeSearchParameters(new algoliasearchHelper.SearchParameters((_renderState$configur = renderState.configure) === null || _renderState$configur === void 0 ? void 0 : _renderState$configur.widgetParams.searchParameters), new algoliasearchHelper.SearchParameters(widgetRenderState.widgetParams.searchParameters)).getQueryParams()\n            })\n          })\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var helper = _ref2.helper;\n\n        if (!connectorState.refine) {\n          connectorState.refine = refine(helper);\n        }\n\n        return {\n          refine: connectorState.refine,\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(state, _ref3) {\n        var uiState = _ref3.uiState;\n        return mergeSearchParameters(state, new algoliasearchHelper.SearchParameters(_objectSpread(_objectSpread({}, uiState.configure), widgetParams.searchParameters)));\n      },\n      getWidgetUiState: function getWidgetUiState(uiState) {\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          configure: _objectSpread(_objectSpread({}, uiState.configure), widgetParams.searchParameters)\n        });\n      }\n    };\n  };\n};\n\nexport default connectConfigure;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport connectConfigure from '../../connectors/configure/connectConfigure';\nimport { noop } from '../../lib/utils';\n/**\n * A list of [search parameters](https://www.algolia.com/doc/api-reference/search-api-parameters/)\n * to enable when the widget mounts.\n */\n\nvar configure = function configure(widgetParams) {\n  // This is a renderless widget that falls back to the connector's\n  // noop render and unmount functions.\n  var makeWidget = connectConfigure(noop);\n  return _objectSpread(_objectSpread({}, makeWidget({\n    searchParameters: widgetParams\n  })), {}, {\n    $$widgetType: 'ais.configure'\n  });\n};\n\nexport default configure;","var n,l,u,i,t,o,r,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,v=Array.isArray;function h(n,l){for(var u in l)n[u]=l[u];return n}function p(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return d(l,f,t,o,null)}function d(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null==r&&null!=l.vnode&&l.vnode(f),f}function _(){return{current:null}}function k(n){return n.children}function b(n,l){this.props=n,this.context=l}function g(n,l){if(null==l)return n.__?g(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?g(n):null}function m(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return m(n)}}function w(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!x.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(x)}function x(){var n,l,u,i,o,r,e,c;for(t.sort(f);n=t.shift();)n.__d&&(l=t.length,i=void 0,o=void 0,e=(r=(u=n).__v).__e,(c=u.__P)&&(i=[],(o=h({},r)).__v=r.__v+1,L(c,r,o,u.__n,void 0!==c.ownerSVGElement,null!=r.__h?[e]:null,i,null==e?g(r):e,r.__h),M(i,r),r.__e!=e&&m(r)),t.length>l&&t.sort(f));x.__r=0}function P(n,l,u,i,t,o,r,f,e,a){var h,p,y,_,b,m,w,x=i&&i.__k||s,P=x.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(_=u.__k[h]=null==(_=l[h])||\"boolean\"==typeof _||\"function\"==typeof _?null:\"string\"==typeof _||\"number\"==typeof _||\"bigint\"==typeof _?d(null,_,null,null,_):v(_)?d(k,{children:_},null,null,null):_.__b>0?d(_.type,_.props,_.key,_.ref?_.ref:null,_.__v):_)){if(_.__=u,_.__b=u.__b+1,null===(y=x[h])||y&&_.key==y.key&&_.type===y.type)x[h]=void 0;else for(p=0;p<P;p++){if((y=x[p])&&_.key==y.key&&_.type===y.type){x[p]=void 0;break}y=null}L(n,_,y=y||c,t,o,r,f,e,a),b=_.__e,(p=_.ref)&&y.ref!=p&&(w||(w=[]),y.ref&&w.push(y.ref,null,_),w.push(p,_.__c||b,_)),null!=b?(null==m&&(m=b),\"function\"==typeof _.type&&_.__k===y.__k?_.__d=e=C(_,e,n):e=$(n,_,y,x,b,e),\"function\"==typeof u.type&&(u.__d=e)):e&&y.__e==e&&e.parentNode!=n&&(e=g(y))}for(u.__e=m,h=P;h--;)null!=x[h]&&(\"function\"==typeof u.type&&null!=x[h].__e&&x[h].__e==u.__d&&(u.__d=A(i).nextSibling),q(x[h],x[h]));if(w)for(h=0;h<w.length;h++)O(w[h],w[++h],w[++h])}function C(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l=\"function\"==typeof i.type?C(i,l,u):$(u,i,i,t,i.__e,l));return l}function S(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(v(n)?n.some(function(n){S(n,l)}):l.push(n)),l}function $(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function A(n){var l,u,i;if(null==n.type||\"string\"==typeof n.type)return n.__e;if(n.__k)for(l=n.__k.length-1;l>=0;l--)if((u=n.__k[l])&&(i=A(u)))return i;return null}function H(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||T(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||T(n,o,l[o],u[o],i)}function I(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function T(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||I(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||I(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?z:j,o):n.removeEventListener(l,o?z:j,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&\"rowSpan\"!==l&&\"colSpan\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u))}}function j(n){return this.l[n.type+!1](l.event?l.event(n):n)}function z(n){return this.l[n.type+!0](l.event?l.event(n):n)}function L(n,u,i,t,o,r,f,e,c){var s,a,p,y,d,_,g,m,w,x,C,S,$,A,H,I=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof I){if(m=u.props,w=(s=I.contextType)&&t[s.__c],x=s?w?w.props.value:s.__:t,i.__c?g=(a=u.__c=i.__c).__=a.__E:(\"prototype\"in I&&I.prototype.render?u.__c=a=new I(m,x):(u.__c=a=new b(m,x),a.constructor=I,a.render=B),w&&w.sub(a),a.props=m,a.state||(a.state={}),a.context=x,a.__n=t,p=a.__d=!0,a.__h=[],a._sb=[]),null==a.__s&&(a.__s=a.state),null!=I.getDerivedStateFromProps&&(a.__s==a.state&&(a.__s=h({},a.__s)),h(a.__s,I.getDerivedStateFromProps(m,a.__s))),y=a.props,d=a.state,a.__v=u,p)null==I.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.__h.push(a.componentDidMount);else{if(null==I.getDerivedStateFromProps&&m!==y&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(m,x),!a.__e&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(m,a.__s,x)||u.__v===i.__v){for(u.__v!==i.__v&&(a.props=m,a.state=a.__s,a.__d=!1),a.__e=!1,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),C=0;C<a._sb.length;C++)a.__h.push(a._sb[C]);a._sb=[],a.__h.length&&f.push(a);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(m,a.__s,x),null!=a.componentDidUpdate&&a.__h.push(function(){a.componentDidUpdate(y,d,_)})}if(a.context=x,a.props=m,a.__P=n,S=l.__r,$=0,\"prototype\"in I&&I.prototype.render){for(a.state=a.__s,a.__d=!1,S&&S(u),s=a.render(a.props,a.state,a.context),A=0;A<a._sb.length;A++)a.__h.push(a._sb[A]);a._sb=[]}else do{a.__d=!1,S&&S(u),s=a.render(a.props,a.state,a.context),a.state=a.__s}while(a.__d&&++$<25);a.state=a.__s,null!=a.getChildContext&&(t=h(h({},t),a.getChildContext())),p||null==a.getSnapshotBeforeUpdate||(_=a.getSnapshotBeforeUpdate(y,d)),P(n,v(H=null!=s&&s.type===k&&null==s.key?s.props.children:s)?H:[H],u,i,t,o,r,f,e,c),a.base=u.__e,u.__h=null,a.__h.length&&f.push(a),g&&(a.__E=a.__=null),a.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=N(i.__e,u,i,t,o,r,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function M(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function N(l,u,i,t,o,r,f,e){var s,a,h,y=i.props,d=u.props,_=u.type,k=0;if(\"svg\"===_&&(o=!0),null!=r)for(;k<r.length;k++)if((s=r[k])&&\"setAttribute\"in s==!!_&&(_?s.localName===_:3===s.nodeType)){l=s,r[k]=null;break}if(null==l){if(null===_)return document.createTextNode(d);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",_):document.createElement(_,d.is&&d),r=null,e=!1}if(null===_)y===d||e&&l.data===d||(l.data=d);else{if(r=r&&n.call(l.childNodes),a=(y=i.props||c).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!e){if(null!=r)for(y={},k=0;k<l.attributes.length;k++)y[l.attributes[k].name]=l.attributes[k].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===l.innerHTML)||(l.innerHTML=h&&h.__html||\"\"))}if(H(l,d,y,o,e),h)u.__k=[];else if(P(l,v(k=u.props.children)?k:[k],u,i,t,o&&\"foreignObject\"!==_,r,f,r?r[0]:i.__k&&g(i,0),e),null!=r)for(k=r.length;k--;)null!=r[k]&&p(r[k]);e||(\"value\"in d&&void 0!==(k=d.value)&&(k!==l.value||\"progress\"===_&&!k||\"option\"===_&&k!==y.value)&&T(l,\"value\",k,y.value,!1),\"checked\"in d&&void 0!==(k=d.checked)&&k!==l.checked&&T(l,\"checked\",k,y.checked,!1))}return l}function O(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function q(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||O(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&q(t[o],u,i||\"function\"!=typeof n.type);i||null==n.__e||p(n.__e),n.__=n.__e=n.__d=void 0}function B(n,l,u){return this.constructor(n,u)}function D(u,i,t){var o,r,f;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],L(i,u=(!o&&t||i).__k=y(k,null,[u]),r||c,c,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,f,!o&&t?t:r?r.__e:i.firstChild,o),M(f,u)}function E(n,l){D(n,l,E)}function F(l,u,i){var t,o,r,f,e=h({},l.props);for(r in l.type&&l.type.defaultProps&&(f=l.type.defaultProps),u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:e[r]=void 0===u[r]&&void 0!==f?f[r]:u[r];return arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):i),d(l.type,e,t||l.key,o||l.ref,null)}function G(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,w(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,i){for(var t,o,r;l=l.__;)if((t=l.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(n)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),r=t.__d),r)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},b.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),\"function\"==typeof n&&(n=n(h({},u),this.props)),n&&h(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),w(this))},b.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),w(this))},b.prototype.render=k,t=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},x.__r=0,e=0;export{b as Component,k as Fragment,F as cloneElement,G as createContext,y as createElement,_ as createRef,y as h,E as hydrate,i as isValidElement,l as options,D as render,S as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","function isDomElement(object) {\n  return object instanceof HTMLElement || Boolean(object) && object.nodeType > 0;\n}\n\nexport default isDomElement;","import isDomElement from './isDomElement';\n/**\n * Return the container. If it's a string, it is considered a\n * css selector and retrieves the first matching element. Otherwise\n * test if it validates that it's a correct DOMElement.\n *\n * @param {string|HTMLElement} selectorOrHTMLElement CSS Selector or container node.\n * @return {HTMLElement} Container node\n * @throws Error when the type is not correct\n */\n\nfunction getContainerNode(selectorOrHTMLElement) {\n  var isSelectorString = typeof selectorOrHTMLElement === 'string';\n  var domElement = isSelectorString ? document.querySelector(selectorOrHTMLElement) : selectorOrHTMLElement;\n\n  if (!isDomElement(domElement)) {\n    var errorMessage = 'Container must be `string` or `HTMLElement`.';\n\n    if (isSelectorString) {\n      errorMessage += \" Unable to find \".concat(selectorOrHTMLElement);\n    }\n\n    throw new Error(errorMessage);\n  }\n\n  return domElement;\n}\n\nexport default getContainerNode;","import getObjectType from './getObjectType';\n\nfunction checkRendering(rendering, usage) {\n  if (rendering === undefined || typeof rendering !== 'function') {\n    throw new Error(\"The render function is not valid (received type \".concat(getObjectType(rendering), \").\\n\\n\").concat(usage));\n  }\n}\n\nexport default checkRendering;","function getObjectType(object) {\n  return Object.prototype.toString.call(object).slice(8, -1);\n}\n\nexport default getObjectType;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'search-box',\n  connector: true\n});\n\n/**\n * **SearchBox** connector provides the logic to build a widget that will let the user search for a query.\n *\n * The connector provides to the rendering: `refine()` to set the query. The behaviour of this function\n * may be impacted by the `queryHook` widget parameter.\n */\nvar connectSearchBox = function connectSearchBox(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        queryHook = _ref.queryHook;\n\n    function clear(helper) {\n      return function () {\n        helper.setQuery('').search();\n      };\n    }\n\n    var _refine;\n\n    var _clear = function _clear() {};\n\n    function _cachedClear() {\n      _clear();\n    }\n\n    return {\n      $$type: 'ais.searchBox',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref2) {\n        var state = _ref2.state;\n        unmountFn();\n        return state.setQueryParameter('query', undefined);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          searchBox: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref3) {\n        var helper = _ref3.helper,\n            searchMetadata = _ref3.searchMetadata;\n\n        if (!_refine) {\n          var setQueryAndSearch = function setQueryAndSearch(query) {\n            if (query !== helper.state.query) {\n              helper.setQuery(query).search();\n            }\n          };\n\n          _refine = function _refine(query) {\n            if (queryHook) {\n              queryHook(query, setQueryAndSearch);\n              return;\n            }\n\n            setQueryAndSearch(query);\n          };\n        }\n\n        _clear = clear(helper);\n        return {\n          query: helper.state.query || '',\n          refine: _refine,\n          clear: _cachedClear,\n          widgetParams: widgetParams,\n          isSearchStalled: searchMetadata.isSearchStalled\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref4) {\n        var searchParameters = _ref4.searchParameters;\n        var query = searchParameters.query || '';\n\n        if (query === '' || uiState && uiState.query === query) {\n          return uiState;\n        }\n\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          query: query\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref5) {\n        var uiState = _ref5.uiState;\n        return searchParameters.setQueryParameter('query', uiState.query || '');\n      }\n    };\n  };\n};\n\nexport default connectSearchBox;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport hogan from 'hogan.js';\n\n// We add all our template helper methods to the template as lambdas. Note\n// that lambdas in Mustache are supposed to accept a second argument of\n// `render` to get the rendered value, not the literal `{{value}}`. But\n// this is currently broken (see https://github.com/twitter/hogan.js/issues/222).\nfunction transformHelpersToHogan() {\n  var helpers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var compileOptions = arguments.length > 1 ? arguments[1] : undefined;\n  var data = arguments.length > 2 ? arguments[2] : undefined;\n  return Object.keys(helpers).reduce(function (acc, helperKey) {\n    return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, helperKey, function () {\n      var _this = this;\n\n      return function (text) {\n        var render = function render(value) {\n          return hogan.compile(value, compileOptions).render(_this);\n        };\n\n        return helpers[helperKey].call(data, text, render);\n      };\n    }));\n  }, {});\n}\n\nfunction renderTemplate(_ref) {\n  var templates = _ref.templates,\n      templateKey = _ref.templateKey,\n      compileOptions = _ref.compileOptions,\n      helpers = _ref.helpers,\n      data = _ref.data,\n      bindEvent = _ref.bindEvent;\n  var template = templates[templateKey];\n\n  if (typeof template !== 'string' && typeof template !== 'function') {\n    throw new Error(\"Template must be 'string' or 'function', was '\".concat(_typeof(template), \"' (key: \").concat(templateKey, \")\"));\n  }\n\n  if (typeof template === 'function') {\n    return template(data, bindEvent);\n  }\n\n  var transformedHelpers = transformHelpersToHogan(helpers, compileOptions, data);\n  return hogan.compile(template, compileOptions).render(_objectSpread(_objectSpread({}, data), {}, {\n    helpers: transformedHelpers\n  })).replace(/[ \\n\\r\\t\\f\\xA0]+/g, function (spaces) {\n    return spaces.replace(/(^|\\xA0+)[^\\xA0]+/g, '$1 ');\n  }).trim();\n}\n\nexport default renderTemplate;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/** @jsx h */\nimport { h, Component } from 'preact';\nimport { renderTemplate, isEqual } from '../../lib/utils';\nvar defaultProps = {\n  data: {},\n  rootTagName: 'div',\n  useCustomCompileOptions: {},\n  templates: {},\n  templatesConfig: {}\n};\n\n// @TODO: Template should be a generic and receive TData to pass to Templates (to avoid TTemplateData to be set as `any`)\nvar Template = /*#__PURE__*/function (_Component) {\n  _inherits(Template, _Component);\n\n  var _super = _createSuper(Template);\n\n  function Template() {\n    _classCallCheck(this, Template);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Template, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return !isEqual(this.props.data, nextProps.data) || this.props.templateKey !== nextProps.templateKey || !isEqual(this.props.rootProps, nextProps.rootProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var RootTagName = this.props.rootTagName;\n      var useCustomCompileOptions = this.props.useCustomCompileOptions[this.props.templateKey];\n      var compileOptions = useCustomCompileOptions ? this.props.templatesConfig.compileOptions : {};\n      var content = renderTemplate({\n        templates: this.props.templates,\n        templateKey: this.props.templateKey,\n        compileOptions: compileOptions,\n        helpers: this.props.templatesConfig.helpers,\n        data: this.props.data,\n        bindEvent: this.props.bindEvent\n      });\n\n      if (content === null) {\n        // Adds a noscript to the DOM but virtual DOM is null\n        // See http://facebook.github.io/react/docs/component-specs.html#render\n        return null;\n      }\n\n      return h(RootTagName, _extends({}, this.props.rootProps, {\n        dangerouslySetInnerHTML: {\n          __html: content\n        }\n      }));\n    }\n  }]);\n\n  return Template;\n}(Component);\n\n_defineProperty(Template, \"defaultProps\", defaultProps);\n\nexport default Template;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/** @jsx h */\nimport { h, createRef, Component } from 'preact';\nimport { noop } from '../../lib/utils';\nimport Template from '../Template/Template';\nvar defaultProps = {\n  query: '',\n  showSubmit: true,\n  showReset: true,\n  showLoadingIndicator: true,\n  autofocus: false,\n  searchAsYouType: true,\n  isSearchStalled: false,\n  disabled: false,\n  onChange: noop,\n  onSubmit: noop,\n  onReset: noop,\n  refine: noop\n};\n\nvar SearchBox = /*#__PURE__*/function (_Component) {\n  _inherits(SearchBox, _Component);\n\n  var _super = _createSuper(SearchBox);\n\n  function SearchBox() {\n    var _this;\n\n    _classCallCheck(this, SearchBox);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      query: _this.props.query,\n      focused: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"input\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"onInput\", function (event) {\n      var _this$props = _this.props,\n          searchAsYouType = _this$props.searchAsYouType,\n          refine = _this$props.refine,\n          onChange = _this$props.onChange;\n      var query = event.target.value;\n\n      if (searchAsYouType) {\n        refine(query);\n      }\n\n      _this.setState({\n        query: query\n      });\n\n      onChange(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubmit\", function (event) {\n      var _this$props2 = _this.props,\n          searchAsYouType = _this$props2.searchAsYouType,\n          refine = _this$props2.refine,\n          onSubmit = _this$props2.onSubmit;\n      event.preventDefault();\n      event.stopPropagation();\n\n      if (_this.input.current) {\n        _this.input.current.blur();\n      }\n\n      if (!searchAsYouType) {\n        refine(_this.state.query);\n      }\n\n      onSubmit(event);\n      return false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onReset\", function (event) {\n      var _this$props3 = _this.props,\n          refine = _this$props3.refine,\n          onReset = _this$props3.onReset;\n      var query = '';\n\n      if (_this.input.current) {\n        _this.input.current.focus();\n      }\n\n      refine(query);\n\n      _this.setState({\n        query: query\n      });\n\n      onReset(event);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function () {\n      _this.setState({\n        focused: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function () {\n      _this.setState({\n        focused: true\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(SearchBox, [{\n    key: \"resetInput\",\n    value:\n    /**\n     * This public method is used in the RefinementList SFFV search box\n     * to reset the input state when an item is selected.\n     *\n     * @see RefinementList#componentWillReceiveProps\n     * @return {undefined}\n     */\n    function resetInput() {\n      this.setState({\n        query: ''\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      /**\n       * when the user is typing, we don't want to replace the query typed\n       * by the user (state.query) with the query exposed by the connector (props.query)\n       * see: https://github.com/algolia/instantsearch.js/issues/4141\n       */\n      if (!this.state.focused && nextProps.query !== this.state.query) {\n        this.setState({\n          query: nextProps.query\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          cssClasses = _this$props4.cssClasses,\n          placeholder = _this$props4.placeholder,\n          autofocus = _this$props4.autofocus,\n          showSubmit = _this$props4.showSubmit,\n          showReset = _this$props4.showReset,\n          showLoadingIndicator = _this$props4.showLoadingIndicator,\n          templates = _this$props4.templates,\n          isSearchStalled = _this$props4.isSearchStalled;\n      return h(\"div\", {\n        className: cssClasses.root\n      }, h(\"form\", {\n        action: \"\",\n        role: \"search\",\n        className: cssClasses.form,\n        noValidate: true,\n        onSubmit: this.onSubmit // @ts-expect-error `onReset` attibute is missing in preact 10.0.0 JSX types\n        ,\n        onReset: this.onReset\n      }, h(\"input\", {\n        ref: this.input,\n        value: this.state.query,\n        disabled: this.props.disabled,\n        className: cssClasses.input,\n        type: \"search\",\n        placeholder: placeholder,\n        autoFocus: autofocus,\n        autoComplete: \"off\",\n        autoCorrect: \"off\" // @ts-expect-error `autoCapitalize` attibute is missing in preact 10.0.0 JSX types\n        ,\n        autoCapitalize: \"off\",\n        spellCheck: \"false\",\n        maxLength: 512,\n        onInput: this.onInput,\n        onBlur: this.onBlur,\n        onFocus: this.onFocus\n      }), h(Template, {\n        templateKey: \"submit\",\n        rootTagName: \"button\",\n        rootProps: {\n          className: cssClasses.submit,\n          type: 'submit',\n          title: 'Submit the search query.',\n          hidden: !showSubmit\n        },\n        templates: templates,\n        data: {\n          cssClasses: cssClasses\n        }\n      }), h(Template, {\n        templateKey: \"reset\",\n        rootTagName: \"button\",\n        rootProps: {\n          className: cssClasses.reset,\n          type: 'reset',\n          title: 'Clear the search query.',\n          hidden: !(showReset && this.state.query.trim() && !isSearchStalled)\n        },\n        templates: templates,\n        data: {\n          cssClasses: cssClasses\n        }\n      }), showLoadingIndicator && h(Template, {\n        templateKey: \"loadingIndicator\",\n        rootTagName: \"span\",\n        rootProps: {\n          className: cssClasses.loadingIndicator,\n          hidden: !isSearchStalled\n        },\n        templates: templates,\n        data: {\n          cssClasses: cssClasses\n        }\n      })));\n    }\n  }]);\n\n  return SearchBox;\n}(Component);\n\n_defineProperty(SearchBox, \"defaultProps\", defaultProps);\n\nexport default SearchBox;","var defaultTemplate = {\n  reset: \"\\n<svg class=\\\"{{cssClasses.resetIcon}}\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 20 20\\\" width=\\\"10\\\" height=\\\"10\\\">\\n  <path d=\\\"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z\\\"></path>\\n</svg>\\n  \",\n  submit: \"\\n<svg class=\\\"{{cssClasses.submitIcon}}\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"10\\\" height=\\\"10\\\" viewBox=\\\"0 0 40 40\\\">\\n  <path d=\\\"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\\\"></path>\\n</svg>\\n  \",\n  loadingIndicator: \"\\n<svg class=\\\"{{cssClasses.loadingIcon}}\\\" width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 38 38\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" stroke=\\\"#444\\\">\\n  <g fill=\\\"none\\\" fillRule=\\\"evenodd\\\">\\n    <g transform=\\\"translate(1 1)\\\" strokeWidth=\\\"2\\\">\\n      <circle strokeOpacity=\\\".5\\\" cx=\\\"18\\\" cy=\\\"18\\\" r=\\\"18\\\" />\\n      <path d=\\\"M36 18c0-9.94-8.06-18-18-18\\\">\\n        <animateTransform\\n          attributeName=\\\"transform\\\"\\n          type=\\\"rotate\\\"\\n          from=\\\"0 18 18\\\"\\n          to=\\\"360 18 18\\\"\\n          dur=\\\"1s\\\"\\n          repeatCount=\\\"indefinite\\\"\\n        />\\n      </path>\\n    </g>\\n  </g>\\n</svg>\\n  \"\n};\nexport default defaultTemplate;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/** @jsx h */\nimport { h, render } from 'preact';\nimport cx from 'classnames';\nimport { getContainerNode, createDocumentationMessageGenerator } from '../../lib/utils';\nimport { component } from '../../lib/suit';\nimport connectSearchBox from '../../connectors/search-box/connectSearchBox';\nimport SearchBox from '../../components/SearchBox/SearchBox';\nimport defaultTemplates from './defaultTemplates';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'search-box'\n});\nvar suit = component('SearchBox');\n\nvar renderer = function renderer(_ref) {\n  var containerNode = _ref.containerNode,\n      cssClasses = _ref.cssClasses,\n      placeholder = _ref.placeholder,\n      templates = _ref.templates,\n      autofocus = _ref.autofocus,\n      searchAsYouType = _ref.searchAsYouType,\n      showReset = _ref.showReset,\n      showSubmit = _ref.showSubmit,\n      showLoadingIndicator = _ref.showLoadingIndicator;\n  return function (_ref2) {\n    var refine = _ref2.refine,\n        query = _ref2.query,\n        isSearchStalled = _ref2.isSearchStalled;\n    render(h(SearchBox, {\n      query: query,\n      placeholder: placeholder,\n      autofocus: autofocus,\n      refine: refine,\n      searchAsYouType: searchAsYouType,\n      templates: templates,\n      showSubmit: showSubmit,\n      showReset: showReset,\n      showLoadingIndicator: showLoadingIndicator,\n      isSearchStalled: isSearchStalled,\n      cssClasses: cssClasses\n    }), containerNode);\n  };\n};\n/**\n * The searchbox widget is used to let the user set a text based query.\n *\n * This is usually the  main entry point to start the search in an instantsearch context. For that\n * reason is usually placed on top, and not hidden so that the user can start searching right\n * away.\n *\n */\n\n\nvar searchBox = function searchBox(widgetParams) {\n  var _ref3 = widgetParams || {},\n      container = _ref3.container,\n      _ref3$placeholder = _ref3.placeholder,\n      placeholder = _ref3$placeholder === void 0 ? '' : _ref3$placeholder,\n      _ref3$cssClasses = _ref3.cssClasses,\n      userCssClasses = _ref3$cssClasses === void 0 ? {} : _ref3$cssClasses,\n      _ref3$autofocus = _ref3.autofocus,\n      autofocus = _ref3$autofocus === void 0 ? false : _ref3$autofocus,\n      _ref3$searchAsYouType = _ref3.searchAsYouType,\n      searchAsYouType = _ref3$searchAsYouType === void 0 ? true : _ref3$searchAsYouType,\n      _ref3$showReset = _ref3.showReset,\n      showReset = _ref3$showReset === void 0 ? true : _ref3$showReset,\n      _ref3$showSubmit = _ref3.showSubmit,\n      showSubmit = _ref3$showSubmit === void 0 ? true : _ref3$showSubmit,\n      _ref3$showLoadingIndi = _ref3.showLoadingIndicator,\n      showLoadingIndicator = _ref3$showLoadingIndi === void 0 ? true : _ref3$showLoadingIndi,\n      queryHook = _ref3.queryHook,\n      _ref3$templates = _ref3.templates,\n      userTemplates = _ref3$templates === void 0 ? {} : _ref3$templates;\n\n  if (!container) {\n    throw new Error(withUsage('The `container` option is required.'));\n  }\n\n  var containerNode = getContainerNode(container);\n  var cssClasses = {\n    root: cx(suit(), userCssClasses.root),\n    form: cx(suit({\n      descendantName: 'form'\n    }), userCssClasses.form),\n    input: cx(suit({\n      descendantName: 'input'\n    }), userCssClasses.input),\n    submit: cx(suit({\n      descendantName: 'submit'\n    }), userCssClasses.submit),\n    submitIcon: cx(suit({\n      descendantName: 'submitIcon'\n    }), userCssClasses.submitIcon),\n    reset: cx(suit({\n      descendantName: 'reset'\n    }), userCssClasses.reset),\n    resetIcon: cx(suit({\n      descendantName: 'resetIcon'\n    }), userCssClasses.resetIcon),\n    loadingIndicator: cx(suit({\n      descendantName: 'loadingIndicator'\n    }), userCssClasses.loadingIndicator),\n    loadingIcon: cx(suit({\n      descendantName: 'loadingIcon'\n    }), userCssClasses.loadingIcon)\n  };\n\n  var templates = _objectSpread(_objectSpread({}, defaultTemplates), userTemplates);\n\n  var specializedRenderer = renderer({\n    containerNode: containerNode,\n    cssClasses: cssClasses,\n    placeholder: placeholder,\n    templates: templates,\n    autofocus: autofocus,\n    searchAsYouType: searchAsYouType,\n    showReset: showReset,\n    showSubmit: showSubmit,\n    showLoadingIndicator: showLoadingIndicator\n  });\n  var makeWidget = connectSearchBox(specializedRenderer, function () {\n    return render(null, containerNode);\n  });\n  return _objectSpread(_objectSpread({}, makeWidget({\n    queryHook: queryHook\n  })), {}, {\n    $$widgetType: 'ais.searchBox'\n  });\n};\n\nexport default searchBox;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { serializePayload } from '../../lib/utils/serializer';\n\nvar buildPayload = function buildPayload(_ref) {\n  var index = _ref.index,\n      widgetType = _ref.widgetType,\n      methodName = _ref.methodName,\n      args = _ref.args;\n\n  if (args.length === 1 && _typeof(args[0]) === 'object') {\n    return args[0];\n  }\n\n  var eventType = args[0];\n  var hits = args[1];\n  var eventName = args[2];\n\n  if (!hits) {\n    if (process.env.NODE_ENV === 'development') {\n      throw new Error(\"You need to pass hit or hits as the second argument like:\\n  \".concat(methodName, \"(eventType, hit);\\n  \"));\n    } else {\n      return null;\n    }\n  }\n\n  if ((eventType === 'click' || eventType === 'conversion') && !eventName) {\n    if (process.env.NODE_ENV === 'development') {\n      throw new Error(\"You need to pass eventName as the third argument for 'click' or 'conversion' events like:\\n  \".concat(methodName, \"('click', hit, 'Product Purchased');\\n\\n  To learn more about event naming: https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/in-depth/clicks-conversions-best-practices/\\n  \"));\n    } else {\n      return null;\n    }\n  }\n\n  var hitsArray = Array.isArray(hits) ? removeEscapedFromHits(hits) : [hits];\n\n  if (hitsArray.length === 0) {\n    return null;\n  }\n\n  var queryID = hitsArray[0].__queryID;\n  var objectIDs = hitsArray.map(function (hit) {\n    return hit.objectID;\n  });\n  var positions = hitsArray.map(function (hit) {\n    return hit.__position;\n  });\n\n  if (eventType === 'view') {\n    return {\n      insightsMethod: 'viewedObjectIDs',\n      widgetType: widgetType,\n      eventType: eventType,\n      payload: {\n        eventName: eventName || 'Hits Viewed',\n        index: index,\n        objectIDs: objectIDs\n      },\n      hits: hitsArray\n    };\n  } else if (eventType === 'click') {\n    return {\n      insightsMethod: 'clickedObjectIDsAfterSearch',\n      widgetType: widgetType,\n      eventType: eventType,\n      payload: {\n        eventName: eventName,\n        index: index,\n        queryID: queryID,\n        objectIDs: objectIDs,\n        positions: positions\n      },\n      hits: hitsArray\n    };\n  } else if (eventType === 'conversion') {\n    return {\n      insightsMethod: 'convertedObjectIDsAfterSearch',\n      widgetType: widgetType,\n      eventType: eventType,\n      payload: {\n        eventName: eventName,\n        index: index,\n        queryID: queryID,\n        objectIDs: objectIDs\n      },\n      hits: hitsArray\n    };\n  } else if (process.env.NODE_ENV === 'development') {\n    throw new Error(\"eventType(\\\"\".concat(eventType, \"\\\") is not supported.\\n    If you want to send a custom payload, you can pass one object: \").concat(methodName, \"(customPayload);\\n    \"));\n  } else {\n    return null;\n  }\n};\n\nfunction removeEscapedFromHits(hits) {\n  // this returns without `hits.__escaped`\n  // and this way it doesn't mutate the original `hits`\n  return hits.map(function (hit) {\n    return hit;\n  });\n}\n\nexport function createSendEventForHits(_ref2) {\n  var instantSearchInstance = _ref2.instantSearchInstance,\n      index = _ref2.index,\n      widgetType = _ref2.widgetType;\n\n  var sendEventForHits = function sendEventForHits() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var payload = buildPayload({\n      widgetType: widgetType,\n      index: index,\n      methodName: 'sendEvent',\n      args: args\n    });\n\n    if (payload) {\n      instantSearchInstance.sendEventToInsights(payload);\n    }\n  };\n\n  return sendEventForHits;\n}\nexport function createBindEventForHits(_ref3) {\n  var index = _ref3.index,\n      widgetType = _ref3.widgetType;\n\n  var bindEventForHits = function bindEventForHits() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var payload = buildPayload({\n      widgetType: widgetType,\n      index: index,\n      methodName: 'bindEvent',\n      args: args\n    });\n    return payload ? \"data-insights-event=\".concat(serializePayload(payload)) : '';\n  };\n\n  return bindEventForHits;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport function addAbsolutePosition(hits, page, hitsPerPage) {\n  return hits.map(function (hit, idx) {\n    return _objectSpread(_objectSpread({}, hit), {}, {\n      __position: hitsPerPage * page + idx + 1\n    });\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport function addQueryID(hits, queryID) {\n  if (!queryID) {\n    return hits;\n  }\n\n  return hits.map(function (hit) {\n    return _objectSpread(_objectSpread({}, hit), {}, {\n      __queryID: queryID\n    });\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { escapeHits, TAG_PLACEHOLDER, checkRendering, createDocumentationMessageGenerator, addAbsolutePosition, addQueryID, createSendEventForHits, createBindEventForHits, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'hits',\n  connector: true\n});\n\nvar connectHits = function connectHits(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        _ref$escapeHTML = _ref.escapeHTML,\n        escapeHTML = _ref$escapeHTML === void 0 ? true : _ref$escapeHTML,\n        _ref$transformItems = _ref.transformItems,\n        transformItems = _ref$transformItems === void 0 ? function (items) {\n      return items;\n    } : _ref$transformItems;\n\n    var sendEvent;\n    var bindEvent;\n    return {\n      $$type: 'ais.hits',\n      init: function init(initOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var renderState = this.getWidgetRenderState(renderOptions);\n        renderState.sendEvent('view', renderState.hits);\n        renderFn(_objectSpread(_objectSpread({}, renderState), {}, {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          hits: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var results = _ref2.results,\n            helper = _ref2.helper,\n            instantSearchInstance = _ref2.instantSearchInstance;\n\n        if (!sendEvent) {\n          sendEvent = createSendEventForHits({\n            instantSearchInstance: instantSearchInstance,\n            index: helper.getIndex(),\n            widgetType: this.$$type\n          });\n        }\n\n        if (!bindEvent) {\n          bindEvent = createBindEventForHits({\n            index: helper.getIndex(),\n            widgetType: this.$$type\n          });\n        }\n\n        if (!results) {\n          return {\n            hits: [],\n            results: undefined,\n            sendEvent: sendEvent,\n            bindEvent: bindEvent,\n            widgetParams: widgetParams\n          };\n        }\n\n        if (escapeHTML && results.hits.length > 0) {\n          results.hits = escapeHits(results.hits);\n        }\n\n        var initialEscaped = results.hits.__escaped;\n        results.hits = addAbsolutePosition(results.hits, results.page, results.hitsPerPage);\n        results.hits = addQueryID(results.hits, results.queryID);\n        results.hits = transformItems(results.hits); // Make sure the escaped tag stays, even after mapping over the hits.\n        // This prevents the hits from being double-escaped if there are multiple\n        // hits widgets mounted on the page.\n\n        results.hits.__escaped = initialEscaped;\n        return {\n          hits: results.hits,\n          results: results,\n          sendEvent: sendEvent,\n          bindEvent: bindEvent,\n          widgetParams: widgetParams\n        };\n      },\n      dispose: function dispose(_ref3) {\n        var state = _ref3.state;\n        unmountFn();\n\n        if (!escapeHTML) {\n          return state;\n        }\n\n        return state.setQueryParameters(Object.keys(TAG_PLACEHOLDER).reduce(function (acc, key) {\n          return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, undefined));\n        }, {}));\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(state) {\n        if (!escapeHTML) {\n          return state;\n        }\n\n        return state.setQueryParameters(TAG_PLACEHOLDER);\n      }\n    };\n  };\n};\n\nexport default connectHits;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/** @jsx h */\nimport { h } from 'preact';\nimport cx from 'classnames';\nimport Template from '../Template/Template';\n\nvar Hits = function Hits(_ref) {\n  var results = _ref.results,\n      hits = _ref.hits,\n      bindEvent = _ref.bindEvent,\n      cssClasses = _ref.cssClasses,\n      templateProps = _ref.templateProps;\n\n  if (results.hits.length === 0) {\n    return h(Template, _extends({}, templateProps, {\n      templateKey: \"empty\",\n      rootProps: {\n        className: cx(cssClasses.root, cssClasses.emptyRoot)\n      },\n      data: results\n    }));\n  }\n\n  return h(\"div\", {\n    className: cssClasses.root\n  }, h(\"ol\", {\n    className: cssClasses.list\n  }, hits.map(function (hit, index) {\n    return h(Template, _extends({}, templateProps, {\n      templateKey: \"item\",\n      rootTagName: \"li\",\n      rootProps: {\n        className: cssClasses.item\n      },\n      key: hit.objectID,\n      data: _objectSpread(_objectSpread({}, hit), {}, {\n        __hitIndex: index\n      }),\n      bindEvent: bindEvent\n    }));\n  })));\n};\n\nHits.defaultProps = {\n  results: {\n    hits: []\n  },\n  hits: []\n};\nexport default Hits;","var defaultTemplates = {\n  empty: 'No results',\n  item: function item(data) {\n    return JSON.stringify(data, null, 2);\n  }\n};\nexport default defaultTemplates;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport uniq from './uniq';\n\nfunction prepareTemplates( // can not use = {} here, since the template could have different constraints\ndefaultTemplates) {\n  var templates = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var allKeys = uniq([].concat(_toConsumableArray(Object.keys(defaultTemplates || {})), _toConsumableArray(Object.keys(templates))));\n  return allKeys.reduce(function (config, key) {\n    var defaultTemplate = defaultTemplates ? defaultTemplates[key] : undefined;\n    var customTemplate = templates[key];\n    var isCustomTemplate = customTemplate !== undefined && customTemplate !== defaultTemplate;\n    config.templates[key] = isCustomTemplate ? customTemplate // typescript doesn't recognize that this condition asserts customTemplate is defined\n    : defaultTemplate;\n    config.useCustomCompileOptions[key] = isCustomTemplate;\n    return config;\n  }, {\n    // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n    templates: {},\n    // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n    useCustomCompileOptions: {}\n  });\n}\n/**\n * Prepares an object to be passed to the Template widget\n */\n\n\nfunction prepareTemplateProps(_ref) {\n  var defaultTemplates = _ref.defaultTemplates,\n      templates = _ref.templates,\n      templatesConfig = _ref.templatesConfig;\n  var preparedTemplates = prepareTemplates(defaultTemplates, templates);\n  return _objectSpread({\n    templatesConfig: templatesConfig\n  }, preparedTemplates);\n}\n\nexport default prepareTemplateProps;","/** @jsx h */\nimport { h } from 'preact';\nimport { deserializePayload } from '../utils';\nimport { readDataAttributes, hasDataAttributes } from '../../helpers/insights';\n\nvar findInsightsTarget = function findInsightsTarget(startElement, endElement, validator) {\n  var element = startElement;\n\n  while (element && !validator(element)) {\n    if (element === endElement) {\n      return null;\n    }\n\n    element = element.parentElement;\n  }\n\n  return element;\n};\n\nvar parseInsightsEvent = function parseInsightsEvent(element) {\n  var serializedPayload = element.getAttribute('data-insights-event');\n\n  if (typeof serializedPayload !== 'string') {\n    throw new Error('The insights middleware expects `data-insights-event` to be a base64-encoded JSON string.');\n  }\n\n  try {\n    return deserializePayload(serializedPayload);\n  } catch (error) {\n    throw new Error('The insights middleware was unable to parse `data-insights-event`.');\n  }\n};\n\nvar insightsListener = function insightsListener(BaseComponent) {\n  function WithInsightsListener(props) {\n    var handleClick = function handleClick(event) {\n      if (props.sendEvent) {\n        // new way with insights middleware\n        var targetWithEvent = findInsightsTarget(event.target, event.currentTarget, function (element) {\n          return element.hasAttribute('data-insights-event');\n        });\n\n        if (targetWithEvent) {\n          var payload = parseInsightsEvent(targetWithEvent);\n          props.sendEvent(payload);\n        }\n      } // old way, e.g. instantsearch.insights(\"clickedObjectIDsAfterSearch\", { .. })\n\n\n      var insightsTarget = findInsightsTarget(event.target, event.currentTarget, function (element) {\n        return hasDataAttributes(element);\n      });\n\n      if (insightsTarget) {\n        var _readDataAttributes = readDataAttributes(insightsTarget),\n            method = _readDataAttributes.method,\n            _payload = _readDataAttributes.payload;\n\n        props.insights(method, _payload);\n      }\n    };\n\n    return h(\"div\", {\n      onClick: handleClick\n    }, h(BaseComponent, props));\n  }\n\n  return WithInsightsListener;\n};\n\nexport default insightsListener;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { uniq, find, createDocumentationMessageGenerator, warning } from '../utils';\n\nvar getSelectedHits = function getSelectedHits(hits, selectedObjectIDs) {\n  return selectedObjectIDs.map(function (objectID) {\n    var hit = find(hits, function (h) {\n      return h.objectID === objectID;\n    });\n\n    if (typeof hit === 'undefined') {\n      throw new Error(\"Could not find objectID \\\"\".concat(objectID, \"\\\" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.\"));\n    }\n\n    return hit;\n  });\n};\n\nvar getQueryID = function getQueryID(selectedHits) {\n  var queryIDs = uniq(selectedHits.map(function (hit) {\n    return hit.__queryID;\n  }));\n\n  if (queryIDs.length > 1) {\n    throw new Error('Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.');\n  }\n\n  var queryID = queryIDs[0];\n\n  if (typeof queryID !== 'string') {\n    throw new Error(\"Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\\n\\nSee: https://alg.li/lNiZZ7\");\n  }\n\n  return queryID;\n};\n\nvar getPositions = function getPositions(selectedHits) {\n  return selectedHits.map(function (hit) {\n    return hit.__position;\n  });\n};\n\nexport var inferPayload = function inferPayload(_ref) {\n  var method = _ref.method,\n      results = _ref.results,\n      hits = _ref.hits,\n      objectIDs = _ref.objectIDs;\n  var index = results.index;\n  var selectedHits = getSelectedHits(hits, objectIDs);\n  var queryID = getQueryID(selectedHits);\n\n  switch (method) {\n    case 'clickedObjectIDsAfterSearch':\n      {\n        var positions = getPositions(selectedHits);\n        return {\n          index: index,\n          queryID: queryID,\n          objectIDs: objectIDs,\n          positions: positions\n        };\n      }\n\n    case 'convertedObjectIDsAfterSearch':\n      return {\n        index: index,\n        queryID: queryID,\n        objectIDs: objectIDs\n      };\n\n    default:\n      throw new Error(\"Unsupported method passed to insights: \\\"\".concat(method, \"\\\".\"));\n  }\n};\n\nvar wrapInsightsClient = function wrapInsightsClient(aa, results, hits) {\n  return function (method, payload) {\n    process.env.NODE_ENV === 'development' ? warning(false, \"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n\n    if (!aa) {\n      var withInstantSearchUsage = createDocumentationMessageGenerator({\n        name: 'instantsearch'\n      });\n      throw new Error(withInstantSearchUsage('The `insightsClient` option has not been provided to `instantsearch`.'));\n    }\n\n    if (!Array.isArray(payload.objectIDs)) {\n      throw new TypeError('Expected `objectIDs` to be an array.');\n    }\n\n    var inferredPayload = inferPayload({\n      method: method,\n      results: results,\n      hits: hits,\n      objectIDs: payload.objectIDs\n    });\n    aa(method, _objectSpread(_objectSpread({}, inferredPayload), payload));\n  };\n};\n/**\n * @deprecated This function will be still supported in 4.x releases, but not further. It is replaced by the `insights` middleware. For more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\n * It passes `insights` to `HitsWithInsightsListener` and `InfiniteHitsWithInsightsListener`.\n */\n\n\nexport default function withInsights(connector) {\n  return function (renderFn, unmountFn) {\n    return connector(function (renderOptions, isFirstRender) {\n      var results = renderOptions.results,\n          hits = renderOptions.hits,\n          instantSearchInstance = renderOptions.instantSearchInstance;\n\n      if (results && hits && instantSearchInstance) {\n        var insights = wrapInsightsClient(instantSearchInstance.insightsClient, results, hits);\n        return renderFn(_objectSpread(_objectSpread({}, renderOptions), {}, {\n          insights: insights\n        }), isFirstRender);\n      }\n\n      return renderFn(renderOptions, isFirstRender);\n    }, unmountFn);\n  };\n}","// We aren't using the native `Array.prototype.find` because the refactor away from Lodash is not\n// published as a major version.\n// Relying on the `find` polyfill on user-land, which before was only required for niche use-cases,\n// was decided as too risky.\n// @MAJOR Replace with the native `Array.prototype.find` method\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\nfunction find(items, predicate) {\n  var value;\n\n  for (var i = 0; i < items.length; i++) {\n    value = items[i]; // inlined for performance: if (Call(predicate, thisArg, [value, i, list])) {\n\n    if (predicate(value, i, items)) {\n      return value;\n    }\n  }\n\n  return undefined;\n}\n\nexport default find;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/** @jsx h */\nimport { h, render } from 'preact';\nimport cx from 'classnames';\nimport connectHits from '../../connectors/hits/connectHits';\nimport Hits from '../../components/Hits/Hits';\nimport defaultTemplates from './defaultTemplates';\nimport { prepareTemplateProps, getContainerNode, createDocumentationMessageGenerator } from '../../lib/utils';\nimport { component } from '../../lib/suit';\nimport { withInsights, withInsightsListener } from '../../lib/insights';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'hits'\n});\nvar suit = component('Hits');\nvar HitsWithInsightsListener = withInsightsListener(Hits);\n\nvar renderer = function renderer(_ref) {\n  var renderState = _ref.renderState,\n      cssClasses = _ref.cssClasses,\n      containerNode = _ref.containerNode,\n      templates = _ref.templates;\n  return function (_ref2, isFirstRendering) {\n    var receivedHits = _ref2.hits,\n        results = _ref2.results,\n        instantSearchInstance = _ref2.instantSearchInstance,\n        insights = _ref2.insights,\n        bindEvent = _ref2.bindEvent;\n\n    if (isFirstRendering) {\n      renderState.templateProps = prepareTemplateProps({\n        defaultTemplates: defaultTemplates,\n        templatesConfig: instantSearchInstance.templatesConfig,\n        templates: templates\n      });\n      return;\n    }\n\n    render(h(HitsWithInsightsListener, {\n      cssClasses: cssClasses,\n      hits: receivedHits,\n      results: results,\n      templateProps: renderState.templateProps,\n      insights: insights,\n      sendEvent: function sendEvent(event) {\n        instantSearchInstance.sendEventToInsights(event);\n      },\n      bindEvent: bindEvent\n    }), containerNode);\n  };\n};\n\nvar hits = function hits(widgetParams) {\n  var _ref3 = widgetParams || {},\n      container = _ref3.container,\n      escapeHTML = _ref3.escapeHTML,\n      transformItems = _ref3.transformItems,\n      _ref3$templates = _ref3.templates,\n      templates = _ref3$templates === void 0 ? {} : _ref3$templates,\n      _ref3$cssClasses = _ref3.cssClasses,\n      userCssClasses = _ref3$cssClasses === void 0 ? {} : _ref3$cssClasses;\n\n  if (!container) {\n    throw new Error(withUsage('The `container` option is required.'));\n  }\n\n  var containerNode = getContainerNode(container);\n  var cssClasses = {\n    root: cx(suit(), userCssClasses.root),\n    emptyRoot: cx(suit({\n      modifierName: 'empty'\n    }), userCssClasses.emptyRoot),\n    list: cx(suit({\n      descendantName: 'list'\n    }), userCssClasses.list),\n    item: cx(suit({\n      descendantName: 'item'\n    }), userCssClasses.item)\n  };\n  var specializedRenderer = renderer({\n    containerNode: containerNode,\n    cssClasses: cssClasses,\n    renderState: {},\n    templates: templates\n  });\n  var makeWidget = withInsights(connectHits)(specializedRenderer, function () {\n    return render(null, containerNode);\n  });\n  return _objectSpread(_objectSpread({}, makeWidget({\n    escapeHTML: escapeHTML,\n    transformItems: transformItems\n  })), {}, {\n    $$widgetType: 'ais.hits'\n  });\n};\n\nexport default hits;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/** @jsx h */\nimport { h } from 'preact';\nimport cx from 'classnames';\nimport Template from '../Template/Template';\n\nvar Stats = function Stats(_ref) {\n  var nbHits = _ref.nbHits,\n      nbSortedHits = _ref.nbSortedHits,\n      cssClasses = _ref.cssClasses,\n      templateProps = _ref.templateProps,\n      rest = _objectWithoutProperties(_ref, [\"nbHits\", \"nbSortedHits\", \"cssClasses\", \"templateProps\"]);\n\n  return h(\"div\", {\n    className: cx(cssClasses.root)\n  }, h(Template, _extends({}, templateProps, {\n    templateKey: \"text\",\n    rootTagName: \"span\",\n    rootProps: {\n      className: cssClasses.text\n    },\n    data: _objectSpread({\n      hasManySortedResults: nbSortedHits && nbSortedHits > 1,\n      hasNoSortedResults: nbSortedHits === 0,\n      hasOneSortedResults: nbSortedHits === 1,\n      hasManyResults: nbHits > 1,\n      hasNoResults: nbHits === 0,\n      hasOneResult: nbHits === 1,\n      nbHits: nbHits,\n      nbSortedHits: nbSortedHits,\n      cssClasses: cssClasses\n    }, rest)\n  })));\n};\n\nexport default Stats;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, noop } from '../../lib/utils';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'stats',\n  connector: true\n});\n/**\n * **Stats** connector provides the logic to build a custom widget that will displays\n * search statistics (hits number and processing time).\n */\n\nvar connectStats = function connectStats(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    return {\n      $$type: 'ais.stats',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose() {\n        unmountFn();\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          stats: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref) {\n        var results = _ref.results,\n            helper = _ref.helper;\n\n        if (!results) {\n          return {\n            hitsPerPage: helper.state.hitsPerPage,\n            nbHits: 0,\n            nbSortedHits: undefined,\n            areHitsSorted: false,\n            nbPages: 0,\n            page: helper.state.page || 0,\n            processingTimeMS: -1,\n            query: helper.state.query || '',\n            widgetParams: widgetParams\n          };\n        }\n\n        return {\n          hitsPerPage: results.hitsPerPage,\n          nbHits: results.nbHits,\n          nbSortedHits: results.nbSortedHits,\n          areHitsSorted: typeof results.appliedRelevancyStrictness !== 'undefined' && results.appliedRelevancyStrictness > 0 && results.nbSortedHits !== results.nbHits,\n          nbPages: results.nbPages,\n          page: results.page,\n          processingTimeMS: results.processingTimeMS,\n          query: results.query,\n          widgetParams: widgetParams\n        };\n      }\n    };\n  };\n};\n\nexport default connectStats;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/** @jsx h */\nimport { h, render } from 'preact';\nimport cx from 'classnames';\nimport Stats from '../../components/Stats/Stats';\nimport connectStats from '../../connectors/stats/connectStats';\nimport { prepareTemplateProps, getContainerNode, createDocumentationMessageGenerator } from '../../lib/utils';\nimport { component } from '../../lib/suit';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'stats'\n});\nvar suit = component('Stats');\nexport var defaultTemplates = {\n  text: \"\\n    {{#areHitsSorted}}\\n      {{#hasNoSortedResults}}No relevant results{{/hasNoSortedResults}}\\n      {{#hasOneSortedResults}}1 relevant result{{/hasOneSortedResults}}\\n      {{#hasManySortedResults}}{{#helpers.formatNumber}}{{nbSortedHits}}{{/helpers.formatNumber}} relevant results{{/hasManySortedResults}}\\n      sorted out of {{#helpers.formatNumber}}{{nbHits}}{{/helpers.formatNumber}}\\n    {{/areHitsSorted}}\\n    {{^areHitsSorted}}\\n      {{#hasNoResults}}No results{{/hasNoResults}}\\n      {{#hasOneResult}}1 result{{/hasOneResult}}\\n      {{#hasManyResults}}{{#helpers.formatNumber}}{{nbHits}}{{/helpers.formatNumber}} results{{/hasManyResults}}\\n    {{/areHitsSorted}}\\n    found in {{processingTimeMS}}ms\"\n};\n\nvar renderer = function renderer(_ref) {\n  var renderState = _ref.renderState,\n      cssClasses = _ref.cssClasses,\n      containerNode = _ref.containerNode,\n      templates = _ref.templates;\n  return function (_ref2, isFirstRendering) {\n    var hitsPerPage = _ref2.hitsPerPage,\n        nbHits = _ref2.nbHits,\n        nbSortedHits = _ref2.nbSortedHits,\n        areHitsSorted = _ref2.areHitsSorted,\n        nbPages = _ref2.nbPages,\n        page = _ref2.page,\n        processingTimeMS = _ref2.processingTimeMS,\n        query = _ref2.query,\n        instantSearchInstance = _ref2.instantSearchInstance;\n\n    if (isFirstRendering) {\n      renderState.templateProps = prepareTemplateProps({\n        defaultTemplates: defaultTemplates,\n        templatesConfig: instantSearchInstance.templatesConfig,\n        templates: templates\n      });\n      return;\n    }\n\n    render(h(Stats, {\n      cssClasses: cssClasses,\n      hitsPerPage: hitsPerPage,\n      nbHits: nbHits,\n      nbSortedHits: nbSortedHits,\n      areHitsSorted: areHitsSorted,\n      nbPages: nbPages,\n      page: page,\n      processingTimeMS: processingTimeMS,\n      query: query,\n      templateProps: renderState.templateProps\n    }), containerNode);\n  };\n};\n/**\n * The `stats` widget is used to display useful insights about the current results.\n *\n * By default, it will display the **number of hits** and the time taken to compute the\n * results inside the engine.\n */\n\n\nvar stats = function stats(widgetParams) {\n  var _ref3 = widgetParams || {},\n      container = _ref3.container,\n      _ref3$cssClasses = _ref3.cssClasses,\n      userCssClasses = _ref3$cssClasses === void 0 ? {} : _ref3$cssClasses,\n      _ref3$templates = _ref3.templates,\n      templates = _ref3$templates === void 0 ? {} : _ref3$templates;\n\n  if (!container) {\n    throw new Error(withUsage('The `container` option is required.'));\n  }\n\n  var containerNode = getContainerNode(container);\n  var cssClasses = {\n    root: cx(suit(), userCssClasses.root),\n    text: cx(suit({\n      descendantName: 'text'\n    }), userCssClasses.text)\n  };\n  var specializedRenderer = renderer({\n    containerNode: containerNode,\n    cssClasses: cssClasses,\n    templates: templates,\n    renderState: {}\n  });\n  var makeWidget = connectStats(specializedRenderer, function () {\n    return render(null, containerNode);\n  });\n  return _objectSpread(_objectSpread({}, makeWidget({})), {}, {\n    $$widgetType: 'ais.stats'\n  });\n};\n\nexport default stats;","/** @jsx h */\nimport { h } from 'preact';\n\nvar PaginationLink = function PaginationLink(_ref) {\n  var cssClasses = _ref.cssClasses,\n      label = _ref.label,\n      ariaLabel = _ref.ariaLabel,\n      url = _ref.url,\n      isDisabled = _ref.isDisabled,\n      handleClick = _ref.handleClick,\n      pageNumber = _ref.pageNumber;\n\n  if (isDisabled) {\n    return h(\"li\", {\n      className: cssClasses.item\n    }, h(\"span\", {\n      className: cssClasses.link,\n      dangerouslySetInnerHTML: {\n        __html: label\n      }\n    }));\n  }\n\n  return h(\"li\", {\n    className: cssClasses.item\n  }, h(\"a\", {\n    className: cssClasses.link,\n    \"aria-label\": ariaLabel,\n    href: url,\n    onClick: function onClick(event) {\n      return handleClick(pageNumber, event);\n    },\n    dangerouslySetInnerHTML: {\n      __html: label\n    }\n  }));\n};\n\nexport default PaginationLink;","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/** @jsx h */\nimport { Component, h } from 'preact';\nimport cx from 'classnames';\nimport PaginationLink from './PaginationLink';\nimport { isSpecialClick } from '../../lib/utils';\nvar defaultProps = {\n  currentPage: 0,\n  nbPages: 0,\n  pages: []\n};\n\nvar Pagination = /*#__PURE__*/function (_Component) {\n  _inherits(Pagination, _Component);\n\n  var _super = _createSuper(Pagination);\n\n  function Pagination() {\n    var _this;\n\n    _classCallCheck(this, Pagination);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (pageNumber, event) {\n      if (isSpecialClick(event)) {\n        // do not alter the default browser behavior\n        // if one special key is down\n        return;\n      }\n\n      event.preventDefault();\n\n      _this.props.setCurrentPage(pageNumber);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"previousPageLink\", function () {\n      return _this.pageLink({\n        ariaLabel: 'Previous',\n        additionalClassName: _this.props.cssClasses.previousPageItem,\n        isDisabled: _this.props.isFirstPage,\n        label: _this.props.templates.previous,\n        pageNumber: _this.props.currentPage - 1,\n        createURL: _this.props.createURL\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"nextPageLink\", function () {\n      return _this.pageLink({\n        ariaLabel: 'Next',\n        additionalClassName: _this.props.cssClasses.nextPageItem,\n        isDisabled: _this.props.isLastPage,\n        label: _this.props.templates.next,\n        pageNumber: _this.props.currentPage + 1,\n        createURL: _this.props.createURL\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"firstPageLink\", function () {\n      return _this.pageLink({\n        ariaLabel: 'First',\n        additionalClassName: _this.props.cssClasses.firstPageItem,\n        isDisabled: _this.props.isFirstPage,\n        label: _this.props.templates.first,\n        pageNumber: 0,\n        createURL: _this.props.createURL\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"lastPageLink\", function () {\n      return _this.pageLink({\n        ariaLabel: 'Last',\n        additionalClassName: _this.props.cssClasses.lastPageItem,\n        isDisabled: _this.props.isLastPage,\n        label: _this.props.templates.last,\n        pageNumber: _this.props.nbPages - 1,\n        createURL: _this.props.createURL\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"pages\", function () {\n      return _this.props.pages.map(function (pageNumber) {\n        return _this.pageLink({\n          ariaLabel: \"\".concat(pageNumber + 1),\n          additionalClassName: _this.props.cssClasses.pageItem,\n          isSelected: pageNumber === _this.props.currentPage,\n          label: \"\".concat(pageNumber + 1),\n          pageNumber: pageNumber,\n          createURL: _this.props.createURL\n        });\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Pagination, [{\n    key: \"pageLink\",\n    value: function pageLink(_ref) {\n      var label = _ref.label,\n          ariaLabel = _ref.ariaLabel,\n          pageNumber = _ref.pageNumber,\n          _ref$additionalClassN = _ref.additionalClassName,\n          additionalClassName = _ref$additionalClassN === void 0 ? null : _ref$additionalClassN,\n          _ref$isDisabled = _ref.isDisabled,\n          isDisabled = _ref$isDisabled === void 0 ? false : _ref$isDisabled,\n          _ref$isSelected = _ref.isSelected,\n          isSelected = _ref$isSelected === void 0 ? false : _ref$isSelected,\n          createURL = _ref.createURL;\n      var cssClasses = {\n        item: cx(this.props.cssClasses.item, additionalClassName),\n        link: this.props.cssClasses.link\n      };\n\n      if (isDisabled) {\n        cssClasses.item = cx(cssClasses.item, this.props.cssClasses.disabledItem);\n      } else if (isSelected) {\n        cssClasses.item = cx(cssClasses.item, this.props.cssClasses.selectedItem);\n      }\n\n      var url = !isDisabled ? createURL(pageNumber) : '#';\n      return h(PaginationLink, {\n        ariaLabel: ariaLabel,\n        cssClasses: cssClasses,\n        handleClick: this.handleClick,\n        isDisabled: isDisabled,\n        key: label + pageNumber + ariaLabel,\n        label: label,\n        pageNumber: pageNumber,\n        url: url\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return h(\"div\", {\n        className: cx(this.props.cssClasses.root, _defineProperty({}, this.props.cssClasses.noRefinementRoot, this.props.nbPages <= 1))\n      }, h(\"ul\", {\n        className: this.props.cssClasses.list\n      }, this.props.showFirst && this.firstPageLink(), this.props.showPrevious && this.previousPageLink(), this.pages(), this.props.showNext && this.nextPageLink(), this.props.showLast && this.lastPageLink()));\n    }\n  }]);\n\n  return Pagination;\n}(Component);\n\n_defineProperty(Pagination, \"defaultProps\", defaultProps);\n\nexport default Pagination;","function isSpecialClick(event) {\n  var isMiddleClick = event.button === 1;\n  return isMiddleClick || event.altKey || event.ctrlKey || event.metaKey || event.shiftKey;\n}\n\nexport default isSpecialClick;","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction range(_ref) {\n  var _ref$start = _ref.start,\n      start = _ref$start === void 0 ? 0 : _ref$start,\n      end = _ref.end,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? 1 : _ref$step;\n  // We can't divide by 0 so we re-assign the step to 1 if it happens.\n  var limitStep = step === 0 ? 1 : step; // In some cases the array to create has a decimal length.\n  // We therefore need to round the value.\n  // Example:\n  //   { start: 1, end: 5000, step: 500 }\n  //   => Array length = (5000 - 1) / 500 = 9.998\n\n  var arrayLength = Math.round((end - start) / limitStep);\n  return _toConsumableArray(Array(arrayLength)).map(function (_, current) {\n    return start + current * limitStep;\n  });\n}\n\nexport default range;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { range } from '../../lib/utils';\n\nvar Paginator = /*#__PURE__*/function () {\n  function Paginator(params) {\n    _classCallCheck(this, Paginator);\n\n    _defineProperty(this, \"currentPage\", void 0);\n\n    _defineProperty(this, \"total\", void 0);\n\n    _defineProperty(this, \"padding\", void 0);\n\n    this.currentPage = params.currentPage;\n    this.total = params.total;\n    this.padding = params.padding;\n  }\n\n  _createClass(Paginator, [{\n    key: \"pages\",\n    value: function pages() {\n      var total = this.total,\n          currentPage = this.currentPage,\n          padding = this.padding;\n      if (total === 0) return [0];\n      var totalDisplayedPages = this.nbPagesDisplayed(padding, total);\n\n      if (totalDisplayedPages === total) {\n        return range({\n          end: total\n        });\n      }\n\n      var paddingLeft = this.calculatePaddingLeft(currentPage, padding, total, totalDisplayedPages);\n      var paddingRight = totalDisplayedPages - paddingLeft;\n      var first = currentPage - paddingLeft;\n      var last = currentPage + paddingRight;\n      return range({\n        start: first,\n        end: last\n      });\n    }\n  }, {\n    key: \"nbPagesDisplayed\",\n    value: function nbPagesDisplayed(padding, total) {\n      return Math.min(2 * padding + 1, total);\n    }\n  }, {\n    key: \"calculatePaddingLeft\",\n    value: function calculatePaddingLeft(current, padding, total, totalDisplayedPages) {\n      if (current <= padding) {\n        return current;\n      }\n\n      if (current >= total - padding) {\n        return totalDisplayedPages - (total - current);\n      }\n\n      return padding;\n    }\n  }, {\n    key: \"isLastPage\",\n    value: function isLastPage() {\n      return this.currentPage === this.total - 1 || this.total === 0;\n    }\n  }, {\n    key: \"isFirstPage\",\n    value: function isFirstPage() {\n      return this.currentPage === 0;\n    }\n  }]);\n\n  return Paginator;\n}();\n\nexport default Paginator;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, noop } from '../../lib/utils';\nimport Paginator from './Paginator';\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'pagination',\n  connector: true\n});\n\n/**\n * **Pagination** connector provides the logic to build a widget that will let the user\n * choose the current page of the results.\n *\n * When using the pagination with Algolia, you should be aware that the engine won't provide you pages\n * beyond the 1000th hits by default. You can find more information on the [Algolia documentation](https://www.algolia.com/doc/guides/searching/pagination/#pagination-limitations).\n */\nvar connectPagination = function connectPagination(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n        totalPages = _ref.totalPages,\n        _ref$padding = _ref.padding,\n        padding = _ref$padding === void 0 ? 3 : _ref$padding;\n\n    var pager = new Paginator({\n      currentPage: 0,\n      total: 0,\n      padding: padding\n    });\n    var connectorState = {};\n\n    function getMaxPage(_ref2) {\n      var nbPages = _ref2.nbPages;\n      return totalPages !== undefined ? Math.min(totalPages, nbPages) : nbPages;\n    }\n\n    return {\n      $$type: 'ais.pagination',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref3) {\n        var state = _ref3.state;\n        unmountFn();\n        return state.setQueryParameter('page', undefined);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref4) {\n        var searchParameters = _ref4.searchParameters;\n        var page = searchParameters.page || 0;\n\n        if (!page) {\n          return uiState;\n        }\n\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          page: page + 1\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref5) {\n        var uiState = _ref5.uiState;\n        var page = uiState.page ? uiState.page - 1 : 0;\n        return searchParameters.setQueryParameter('page', page);\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref6) {\n        var results = _ref6.results,\n            helper = _ref6.helper,\n            createURL = _ref6.createURL;\n\n        if (!connectorState.refine) {\n          connectorState.refine = function (page) {\n            helper.setPage(page);\n            helper.search();\n          };\n        }\n\n        if (!connectorState.createURL) {\n          connectorState.createURL = function (state) {\n            return function (page) {\n              return createURL(state.setPage(page));\n            };\n          };\n        }\n\n        var state = helper.state;\n        var page = state.page || 0;\n        var nbPages = getMaxPage(results || {\n          nbPages: 0\n        });\n        pager.currentPage = page;\n        pager.total = nbPages;\n        return {\n          createURL: connectorState.createURL(state),\n          refine: connectorState.refine,\n          canRefine: nbPages > 1,\n          currentRefinement: page,\n          nbHits: (results === null || results === void 0 ? void 0 : results.nbHits) || 0,\n          nbPages: nbPages,\n          pages: results ? pager.pages() : [],\n          isFirstPage: pager.isFirstPage(),\n          isLastPage: pager.isLastPage(),\n          widgetParams: widgetParams\n        };\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          pagination: this.getWidgetRenderState(renderOptions)\n        });\n      }\n    };\n  };\n};\n\nexport default connectPagination;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/** @jsx h */\nimport { h, render } from 'preact';\nimport cx from 'classnames';\nimport Pagination from '../../components/Pagination/Pagination';\nimport connectPagination from '../../connectors/pagination/connectPagination';\nimport { getContainerNode, createDocumentationMessageGenerator } from '../../lib/utils';\nimport { component } from '../../lib/suit';\nvar suit = component('Pagination');\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'pagination'\n});\nvar defaultTemplates = {\n  previous: '',\n  next: '',\n  first: '',\n  last: ''\n};\n\nvar renderer = function renderer(_ref) {\n  var containerNode = _ref.containerNode,\n      cssClasses = _ref.cssClasses,\n      templates = _ref.templates,\n      showFirst = _ref.showFirst,\n      showLast = _ref.showLast,\n      showPrevious = _ref.showPrevious,\n      showNext = _ref.showNext,\n      scrollToNode = _ref.scrollToNode;\n  return function (_ref2, isFirstRendering) {\n    var createURL = _ref2.createURL,\n        currentRefinement = _ref2.currentRefinement,\n        nbPages = _ref2.nbPages,\n        pages = _ref2.pages,\n        isFirstPage = _ref2.isFirstPage,\n        isLastPage = _ref2.isLastPage,\n        refine = _ref2.refine;\n    if (isFirstRendering) return;\n\n    var setCurrentPage = function setCurrentPage(pageNumber) {\n      refine(pageNumber);\n\n      if (scrollToNode !== false) {\n        scrollToNode.scrollIntoView();\n      }\n    };\n\n    render(h(Pagination, {\n      createURL: createURL,\n      cssClasses: cssClasses,\n      currentPage: currentRefinement,\n      templates: templates,\n      nbPages: nbPages,\n      pages: pages,\n      isFirstPage: isFirstPage,\n      isLastPage: isLastPage,\n      setCurrentPage: setCurrentPage,\n      showFirst: showFirst,\n      showLast: showLast,\n      showPrevious: showPrevious,\n      showNext: showNext\n    }), containerNode);\n  };\n};\n\nvar pagination = function pagination(widgetParams) {\n  var _ref3 = widgetParams || {},\n      container = _ref3.container,\n      _ref3$templates = _ref3.templates,\n      userTemplates = _ref3$templates === void 0 ? {} : _ref3$templates,\n      _ref3$cssClasses = _ref3.cssClasses,\n      userCssClasses = _ref3$cssClasses === void 0 ? {} : _ref3$cssClasses,\n      totalPages = _ref3.totalPages,\n      padding = _ref3.padding,\n      _ref3$showFirst = _ref3.showFirst,\n      showFirst = _ref3$showFirst === void 0 ? true : _ref3$showFirst,\n      _ref3$showLast = _ref3.showLast,\n      showLast = _ref3$showLast === void 0 ? true : _ref3$showLast,\n      _ref3$showPrevious = _ref3.showPrevious,\n      showPrevious = _ref3$showPrevious === void 0 ? true : _ref3$showPrevious,\n      _ref3$showNext = _ref3.showNext,\n      showNext = _ref3$showNext === void 0 ? true : _ref3$showNext,\n      _ref3$scrollTo = _ref3.scrollTo,\n      userScrollTo = _ref3$scrollTo === void 0 ? 'body' : _ref3$scrollTo;\n\n  if (!container) {\n    throw new Error(withUsage('The `container` option is required.'));\n  }\n\n  var containerNode = getContainerNode(container);\n  var scrollTo = userScrollTo === true ? 'body' : userScrollTo;\n  var scrollToNode = scrollTo !== false ? getContainerNode(scrollTo) : false;\n  var cssClasses = {\n    root: cx(suit(), userCssClasses.root),\n    noRefinementRoot: cx(suit({\n      modifierName: 'noRefinement'\n    }), userCssClasses.noRefinementRoot),\n    list: cx(suit({\n      descendantName: 'list'\n    }), userCssClasses.list),\n    item: cx(suit({\n      descendantName: 'item'\n    }), userCssClasses.item),\n    firstPageItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'firstPage'\n    }), userCssClasses.firstPageItem),\n    lastPageItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'lastPage'\n    }), userCssClasses.lastPageItem),\n    previousPageItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'previousPage'\n    }), userCssClasses.previousPageItem),\n    nextPageItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'nextPage'\n    }), userCssClasses.nextPageItem),\n    pageItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'page'\n    }), userCssClasses.pageItem),\n    selectedItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'selected'\n    }), userCssClasses.selectedItem),\n    disabledItem: cx(suit({\n      descendantName: 'item',\n      modifierName: 'disabled'\n    }), userCssClasses.disabledItem),\n    link: cx(suit({\n      descendantName: 'link'\n    }), userCssClasses.link)\n  };\n\n  var templates = _objectSpread(_objectSpread({}, defaultTemplates), userTemplates);\n\n  var specializedRenderer = renderer({\n    containerNode: containerNode,\n    cssClasses: cssClasses,\n    templates: templates,\n    showFirst: showFirst,\n    showLast: showLast,\n    showPrevious: showPrevious,\n    showNext: showNext,\n    scrollToNode: scrollToNode\n  });\n  var makeWidget = connectPagination(specializedRenderer, function () {\n    return render(null, containerNode);\n  });\n  return _objectSpread(_objectSpread({}, makeWidget({\n    totalPages: totalPages,\n    padding: padding\n  })), {}, {\n    $$widgetType: 'ais.pagination'\n  });\n};\n\nexport default pagination;","// stopBodyScroll \r\nlet bodyEl = document.body\r\nlet windowTop = 0\r\nconst bodyElPosition = bodyEl.style.position\r\n\r\nconst archerUtil = {\r\n  // \r\n  backTop: function (event) {\r\n    event.preventDefault()\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth',\r\n    })\r\n  },\r\n\r\n  // \r\n  getAbsPosition: function (e) {\r\n    let x = e.offsetLeft,\r\n      y = e.offsetTop\r\n    while ((e = e.offsetParent)) {\r\n      x += e.offsetLeft\r\n      y += e.offsetTop\r\n    }\r\n    return {\r\n      x: x,\r\n      y: y,\r\n    }\r\n  },\r\n\r\n  // \r\n  dateFormater: function (date, fmt) {\r\n    const o = {\r\n      'M+': date.getMonth() + 1, // \r\n      'd+': date.getDate(), // \r\n      'h+': date.getHours(), // \r\n      'm+': date.getMinutes(), // \r\n      's+': date.getSeconds(), // \r\n      'q+': Math.floor((date.getMonth() + 3) / 3), // \r\n      S: date.getMilliseconds(), // \r\n    }\r\n    if (/(y+)/.test(fmt)) {\r\n      fmt = fmt.replace(\r\n        RegExp.$1,\r\n        String(date.getFullYear()).substr(4 - RegExp.$1.length)\r\n      )\r\n    }\r\n    for (const k in o) {\r\n      if (new RegExp('(' + k + ')').test(fmt)) {\r\n        fmt = fmt.replace(\r\n          RegExp.$1,\r\n          RegExp.$1.length === 1\r\n            ? o[k]\r\n            : ('00' + o[k]).substr(String(o[k]).length)\r\n        )\r\n      }\r\n    }\r\n    return fmt\r\n  },\r\n\r\n  // rAF  ticking\r\n  rafTick: function (ticking, updateFunc) {\r\n    if (!ticking) {\r\n      requestAnimationFrame(updateFunc)\r\n    }\r\n    ticking = true\r\n  },\r\n\r\n  //  body\r\n  // see: https://segmentfault.com/a/1190000012313337\r\n  stopBodyScroll: function (isFixed) {\r\n    if (isFixed) {\r\n      windowTop = window.scrollY\r\n\r\n      bodyEl.style.position = 'fixed'\r\n      bodyEl.style.top = -windowTop + 'px'\r\n    } else {\r\n      bodyEl.style.position = bodyElPosition\r\n      bodyEl.style.top = ''\r\n\r\n      window.scrollTo(0, windowTop)\r\n    }\r\n  },\r\n\r\n  // \r\n  throttle: function (func, wait, immediate = false) {\r\n    let timer\r\n    return function () {\r\n      const args = arguments\r\n      if (!timer) {\r\n        if (immediate) {\r\n          timer = setTimeout(() => {\r\n            timer = undefined\r\n          }, wait)\r\n          func.apply(this, args)\r\n        } else {\r\n          timer = setTimeout(() => {\r\n            timer = undefined\r\n            func.apply(this, args)\r\n          }, wait)\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  // \r\n  debounce: function (func, wait, immediate = false) {\r\n    let timer\r\n    return function () {\r\n      const args = arguments\r\n\r\n      timer && clearTimeout(timer)\r\n\r\n      if (immediate) {\r\n        !timer && func.apply(this, args)\r\n        timer = setTimeout(() => {\r\n          timer = undefined\r\n        }, wait)\r\n      } else {\r\n        timer = setTimeout(() => {\r\n          func.apply(this, args)\r\n        }, wait)\r\n      }\r\n    }\r\n  },\r\n}\r\n\r\nexport default archerUtil\r\n","// special thanks to https://blog.naaln.com/2016/07/hexo-with-algolia/\r\nimport algoliasearch from 'algoliasearch/lite'\r\nimport instantsearch from 'instantsearch.js'\r\nimport {\r\n  configure,\r\n  searchBox,\r\n  hits,\r\n  stats,\r\n  pagination,\r\n} from 'instantsearch.js/es/widgets'\r\nimport archerUtil from './util'\r\n\r\nconst initAlgolia = () => {\r\n  $(document).ready(function () {\r\n    const algoliaSettings = algolia\r\n    const isAlgoliaSettingsValid =\r\n      algoliaSettings.applicationID &&\r\n      algoliaSettings.apiKey &&\r\n      algoliaSettings.indexName\r\n\r\n    if (!isAlgoliaSettingsValid) {\r\n      window.console.error('Algolia Settings are invalid.')\r\n      return\r\n    }\r\n\r\n    const searchClient = algoliasearch(\r\n      algoliaSettings.applicationID,\r\n      algoliaSettings.apiKey\r\n    )\r\n\r\n    const search = instantsearch({\r\n      indexName: algoliaSettings.indexName,\r\n      searchClient,\r\n      searchFunction: function (helper) {\r\n        const searchInput = $('#algolia-search-input').find('input')\r\n\r\n        const container = document.querySelector('.algolia-results')\r\n        container.style.display = helper.state.query === '' ? 'none' : ''\r\n\r\n        if (searchInput.val()) {\r\n          helper.search()\r\n        }\r\n      },\r\n      stalledSearchDelay: 500,\r\n    })\r\n\r\n    // Registering Widgets\r\n    search.addWidgets([\r\n      configure({\r\n        hitsPerPage: algoliaSettings.hits.per_page || 10,\r\n      }),\r\n      searchBox({\r\n        container: '#algolia-search-input',\r\n        placeholder: algoliaSettings.labels.input_placeholder,\r\n        showSubmit: false,\r\n        showReset: false,\r\n        showLoadingIndicator: false,\r\n      }),\r\n      hits({\r\n        container: '#algolia-hits',\r\n        templates: {\r\n          item: function (data) {\r\n            const link = data.permalink\r\n              ? data.permalink\r\n              : siteMeta.root + data.path\r\n            return (\r\n              '<a href=\"' +\r\n              link +\r\n              '\" class=\"algolia-hit-item-link\">' +\r\n              instantsearch.highlight({\r\n                attribute: 'title',\r\n                hit: data,\r\n                highlightedTagName: 'em',\r\n              }) +\r\n              '</a>'\r\n            )\r\n          },\r\n          empty: function (data) {\r\n            return (\r\n              '<i class=\"fas fa-drafting-compass fa-10x\"></i>' +\r\n              '<div class=\"algolia-hit-empty-label\">' +\r\n              algoliaSettings.labels.hits_empty.replace(\r\n                /\\$\\{query\\}/,\r\n                data.query\r\n              ) +\r\n              '</div>'\r\n            )\r\n          },\r\n        },\r\n        cssClasses: {\r\n          item: 'algolia-hit-item',\r\n          list: 'algolia-hit-list',\r\n          root: 'algolia-hit',\r\n          emptyRoot: 'algolia-hit-empty',\r\n        },\r\n      }),\r\n      stats({\r\n        container: '#algolia-stats',\r\n        templates: {\r\n          text: function (data) {\r\n            let stats = algoliaSettings.labels.hits_stats\r\n              .replace(/\\$\\{hits\\}/, data.nbHits)\r\n              .replace(/\\$\\{time\\}/, data.processingTimeMS)\r\n            return (\r\n              stats +\r\n              '<span class=\"algolia-powered\">' +\r\n              '  <img src=\"' +\r\n              siteMeta.root +\r\n              'assets/algolia_logo.svg\" alt=\"Algolia\" />' +\r\n              '</span>' +\r\n              '<hr />'\r\n            )\r\n          },\r\n        },\r\n        cssClasses: {\r\n          root: 'algolia-stat-root',\r\n        },\r\n      }),\r\n      pagination({\r\n        container: '#algolia-pagination',\r\n        scrollTo: false,\r\n        templates: {\r\n          first: '<i class=\"fa fa-angle-double-left\"></i>',\r\n          last: '<i class=\"fa fa-angle-double-right\"></i>',\r\n          previous: '<i class=\"fa fa-angle-left\"></i>',\r\n          next: '<i class=\"fa fa-angle-right\"></i>',\r\n        },\r\n      }),\r\n    ])\r\n\r\n    search.start()\r\n\r\n    $('.popup-trigger').on('click', function (e) {\r\n      e.stopPropagation()\r\n      $('body')\r\n        .prepend('<div class=\"search-popup-overlay algolia-pop-overlay\"></div>')\r\n        .css('overflow', 'hidden')\r\n      $('.popup').toggle()\r\n      $('#algolia-search-input').find('input').focus()\r\n      archerUtil.stopBodyScroll(true)\r\n    })\r\n\r\n    const hidePopup = () => {\r\n      $('.ais-SearchBox-form').trigger('reset')\r\n      $('.popup').hide()\r\n      $('.algolia-pop-overlay').remove()\r\n      $('body').css('overflow', '')\r\n      archerUtil.stopBodyScroll(false)\r\n    }\r\n\r\n    $('.popup-btn-close').click(function () {\r\n      hidePopup()\r\n    })\r\n\r\n    $(document).on('keydown', '.ais-SearchBox-form', function (event) {\r\n      if (event.key === 'Escape') {\r\n        hidePopup()\r\n      }\r\n    })\r\n\r\n    $('.site-search').removeClass('site-search-loading')\r\n  })\r\n}\r\n\r\ninitAlgolia()\r\n"],"names":["EventEmitter","this","_events","_maxListeners","undefined","isFunction","arg","isObject","isUndefined","module","exports","prototype","defaultMaxListeners","setMaxListeners","n","isNaN","TypeError","emit","type","er","handler","len","args","i","listeners","error","length","arguments","Error","err","context","call","Array","slice","apply","addListener","listener","m","newListener","push","warned","console","trace","on","once","fired","g","removeListener","list","position","splice","removeAllListeners","key","listenerCount","evlistener","emitter","AlgoliaSearchHelper","SearchParameters","SearchResults","algoliasearchHelper","client","index","opts","version","DerivedHelper","mainHelper","fn","main","lastResults","inherits","detach","detachDerivedHelper","getModifiedState","parameters","defaultsPure","omit","objectHasKeys","lib","addRefinement","refinementList","attribute","value","isRefined","valueAsString","facetRefinement","concat","mod","removeRefinement","clearRefinement","v","f","toggleRefinement","refinementType","hasChanged","newRefinementList","Object","keys","reduce","memo","values","facetList","filter","refinementValue","containsRefinements","refinementValueAsString","indexOf","merge","intersection","find","valToNumber","isValidUserToken","RefinementList","isEqualNumericRefinement","a","b","isArray","every","el","newParameters","params","_parseNumbers","userToken","warn","facets","disjunctiveFacets","hierarchicalFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements","self","forEach","paramName","isKeyKnown","PARAMETERS","isValueDefined","partialState","numbers","k","parsedValue","parseFloat","insideBoundingBox","map","geoRect","operators","operator","parsedValues","vPrime","make","instance","facet","rootPath","currentRefinement","getHierarchicalRefinement","name","clearRefinements","toggleHierarchicalFacetRefinement","validate","currentState","tagFilters","numericFilters","constructor","patch","_clearNumericRefinements","setQueryParameters","clearTags","setIndex","setQuery","newQuery","query","setPage","newPage","page","setFacets","setDisjunctiveFacets","setHitsPerPage","hitsPerPage","setTypoTolerance","typoTolerance","addNumericRefinement","isNumericRefined","getConjunctiveRefinements","facetName","isConjunctiveFacet","getDisjunctiveRefinements","isDisjunctiveFacet","getExcludeRefinements","removeNumericRefinement","paramValue","op","val","getNumericRefinements","getNumericRefinement","newNumericRefinements","operatorList","outValues","addFacet","addDisjunctiveFacet","addHierarchicalFacet","hierarchicalFacet","isHierarchicalFacet","addFacetRefinement","addExcludeRefinement","addDisjunctiveFacetRefinement","addTagRefinement","tag","isTagRefined","modification","removeFacet","removeDisjunctiveFacet","removeHierarchicalFacet","removeFacetRefinement","removeExcludeRefinement","removeDisjunctiveFacetRefinement","removeTagRefinement","t","toggleFacetRefinement","toggleConjunctiveFacetRefinement","toggleDisjunctiveFacetRefinement","toggleExcludeFacetRefinement","separator","_getHierarchicalFacetSeparator","getHierarchicalFacetByName","lastIndexOf","addHierarchicalFacetRefinement","path","isHierarchicalFacetRefined","removeHierarchicalFacetRefinement","toggleTagRefinement","isFacetRefined","isExcludeRefined","isDisjunctiveFacetRefined","refinements","isOperatorDefined","array","searchedValue","isAttributeValueDefined","currentValue","getRefinedDisjunctiveFacets","disjunctiveNumericRefinedFacets","getRefinedHierarchicalFacets","getUnrefinedDisjunctiveFacets","refinedFacets","managedParameters","getQueryParams","queryParams","setQueryParameter","parameter","nextWithNumbers","previousPlainObject","acc","nextPlainObject","previous","isPreviousValueDefined","isNextValueDefined","resetPage","_getHierarchicalFacetSortBy","sortBy","_getHierarchicalRootPath","_getHierarchicalShowParentLevel","showParentLevel","hierarchicalFacetName","getHierarchicalFacetBreadcrumb","refinement","split","part","trim","toString","JSON","stringify","state","hierarchicalFacetResult","hierarchicalFacetIndex","hierarchicalFacetRefinement","hierarchicalSeparator","hierarchicalRootPath","hierarchicalShowParentLevel","prepareHierarchicalFacetSortBy","rootExhaustive","facetResult","exhaustive","generateTreeFn","hierarchicalTree","currentHierarchicalLevel","parent","level","data","subtree","picked","facetValue","tuple","parentPath","onlyMatchingTree","orderBy","facetCount","parts","escapedValue","escapeFacetValue","count","format","unescapeFacetValue","generateHierarchicalTree","results","fv","compact","findIndex","formatSort","getIndices","attributes","indices","idx","assignFacetStats","dest","facetStats","stats","options","mainSubResponse","_rawResults","processingTimeMS","sum","result","facetsIndices","disjunctiveFacetsIndices","nextDisjunctiveResult","mainFacets","facetKey","hierarchicalAttributeName","facetValueObject","facetIndex","idxAttributeName","exhaustiveFacetsCount","isFacetDisjunctive","isFacetConjunctive","facets_stats","disjunctiveFacet","dfacet","facetResults","attributeIndex","dataFromMainRequest","refinedFacet","defaultData","root","excludes","_state","extractNormalizedFacetValues","predicate","isExcluded","hierarchicalFacetValues","currentRefinementSplit","unshift","setIsRefined","item","depth","child","recSort","sortFn","node","names","children","childNode","sortedChildren","getFacetStatsIfAvailable","getRefinement","attributeName","resultsFacets","getFacetByName","DEFAULT_SORT","getFacetValues","facetValues","facetOrdering","renderingContent","getFacetOrdering","Boolean","orderedFacets","remainingFacets","reverseOrder","order","ordering","sortRemainingBy","sortViaFacetOrdering","sort","vanillaSortFn","getFacetStats","getRefinements","res","facetDeclaration","rootFacet","intermediateFacet","newFacet","numericValue","requestBuilder","addAlgoliaAgent","setClient","_queryId","_lastQueryIdReceived","derivedHelpers","_currentNbQueries","setCurrentPage","_change","isPageReset","getCurrentPage","search","_search","onlyWithDerivedHelpers","searchOnlyWithDerivedHelpers","getQuery","_getHitsSearchParams","searchOnce","cb","tempState","queries","_getQueries","then","content","_originalResponse","e","catch","findAnswers","derivedHelper","Promise","resolve","derivedState","attributesForPrediction","nbHits","errorMessage","initIndex","queryLanguages","searchForFacetValues","maxFacetHits","userState","clientHasSFFV","clientHasInitIndex","isDisjunctive","algoliaQuery","getSearchForFacetQuery","searchForFacetValuesPromise","indexName","response","facetHits","q","addDisjunctiveRefine","addRefine","addFacetExclusion","addExclude","addTag","removeDisjunctiveRefine","removeRefine","removeFacetExclusion","removeExclude","removeTag","toggleFacetExclusion","toggleExclude","toggleRefine","toggleTag","nextPage","previousPage","setState","newState","overrideStateWithoutTriggeringChangeEvent","hasRefinements","isDisjunctiveRefined","hasTag","hasTagRefinements","getIndex","getPage","getTags","r","states","mainQueries","queriesCount","helper","derivedQueries","derivedStateQueries","queryId","_dispatchAlgoliaResponse","bind","_dispatchAlgoliaError","s","specificResults","formattedResponse","containsRefinement","facetFilters","_hasDisjunctiveRefinements","disjunctiveRefinements","event","clearCache","newClient","getClient","derive","pos","hasPendingRequests","reduceRight","source","String","replace","comparator","defaults","defaultInstructions","out","sortInstruction","matchingDefault","defaultInstruction","ctor","superCtor","create","enumerable","writable","configurable","arr1","arr2","isObjectOrArrayOrFunction","_merge","target","hasOwnProperty","sourceVal","targetVal","l","obj","excluded","sourceKeys","compareAscending","other","valIsDefined","valIsNull","othIsDefined","othIsNull","collection","iteratees","orders","criteria","iteratee","object","sortObject","localeCompare","curr","_getDisjunctiveFacetSearchParams","filtersMap","segment","join","hasHierarchicalFacetFilter","some","filteredFacetFilters","facetFilter","filtered","filterValue","_getHitsHierarchicalFacetsAttributes","_getFacetFilters","_getNumericFilters","_getTagFilters","additionalParams","hierarchicalRootLevel","analytics","clickAnalytics","_getDisjunctiveHierarchicalFacetAttribute","vs","orFilters","attributeToRefine","attributesIndex","allAttributes","hierarchicalRefinement","newAttributes","rootLevel","parentLevel","stateForSearchForFacetValues","searchForFacetSearchParameters","facetQuery","test","defineProperty","getOwnPropertySymbols","getOwnPropertyDescriptor","o","getOwnPropertyDescriptors","defineProperties","Symbol","iterator","u","next","done","return","from","localStorage","window","parse","getItem","get","miss","all","set","setItem","delete","clear","removeItem","caches","shift","serializable","c","Math","floor","random","encodeURIComponent","h","d","entries","timeout","headers","queryParameters","cacheable","Read","Write","Any","p","y","status","lastUpdate","Date","now","protocol","url","accept","P","j","method","toLowerCase","userAgent","pop","message","transporterStackTrace","A","S","connectTimeout","timeouts","connect","responseTimeout","request","host","triesLeft","onSuccess","onRetry","isTimedOut","logger","info","x","hostsCache","onFail","requester","send","getTimeout","statelessHosts","reverse","w","add","T","charAt","substr","N","appId","authMode","apiKey","requestsCache","responsesCache","hosts","read","mappedRequestOptions","transporter","reject","write","methods","C","requests","J","propertyIsEnumerable","F","E","I","H","XMLHttpRequest","open","setRequestHeader","setTimeout","abort","onreadystatechange","readyState","OPENED","clearTimeout","onerror","responseText","onload","debug","multipleQueries","multipleSearchForFacetValues","hasOwn","classNames","classes","argType","inner","includes","default","it","wellKnownSymbol","definePropertyModule","UNSCOPABLES","ArrayPrototype","unicode","toIndexedObject","toLength","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","fromIndex","O","IndexedObject","toObject","arraySpeciesCreate","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_OUT","NO_HOLES","callbackfn","that","specificCreate","boundFunction","filterOut","SPECIES","originalArray","has","ownKeys","getOwnPropertyDescriptorModule","DESCRIPTORS","createPropertyDescriptor","bitmap","fails","global","document","EXISTS","createElement","getBuiltIn","match","process","versions","v8","createNonEnumerableProperty","redefine","setGlobal","copyConstructorProperties","isForced","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","noTargetGet","forced","sham","exec","regexpExec","RegExpPrototype","RegExp","KEY","FORCED","SHAM","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","re","flags","nativeRegExpMethod","nativeMethod","regexp","str","arg2","forceStringMethod","$exec","aFunction","variable","namespace","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","matched","captures","namedCaptures","replacement","tailPos","symbols","ch","capture","check","globalThis","Function","classof","setPrototypeOf","dummy","Wrapper","NewTarget","NewTargetPrototype","store","functionToString","inspectSource","NATIVE_WEAK_MAP","objectHas","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","wmget","wmhas","wmset","metadata","facade","STATE","enforce","getterFor","feature","detection","normalize","POLYFILL","NATIVE","string","MATCH","isRegExp","V8_VERSION","symbol","activeXDocument","anObject","enumBugKeys","html","documentCreateElement","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","LT","NullProtoObject","domain","ActiveXObject","iframeDocument","iframe","JS","close","temp","parentWindow","NullProtoObjectViaActiveX","style","display","appendChild","src","contentWindow","Properties","objectKeys","IE8_DOM_DEFINE","toPrimitive","$defineProperty","Attributes","propertyIsEnumerableModule","$getOwnPropertyDescriptor","internalObjectKeys","getOwnPropertyNames","$propertyIsEnumerable","NASHORN_BUG","V","aPossiblePrototype","setter","CORRECT_SETTER","proto","__proto__","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","InternalStateModule","getInternalState","enforceInternalState","TEMPLATE","unsafe","simple","R","re1","re2","regexpFlags","stickyHelpers","UNSUPPORTED_DOT_ALL","UNSUPPORTED_NCG","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","lastIndex","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","reCopy","group","raw","groups","sticky","charsAdded","strCopy","multiline","input","ignoreCase","dotAll","RE","is","CONSTRUCTOR_NAME","Constructor","uid","SHARED","IS_PURE","mode","copyright","toInteger","requireObjectCoercible","CONVERT_TO_STRING","first","second","size","charCodeAt","codeAt","max","min","integer","ceil","argument","PREFERRED_STRING","valueOf","id","postfix","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","$","$find","addToUnscopables","FIND","SKIPS_HOLES","inheritIfRequired","getFlags","setSpecies","NativeRegExp","IS_NCG","CORRECT_NEW","RegExpWrapper","pattern","rawFlags","handled","thisIsRegExp","patternIsRegExp","flagsAreUndefined","rawPattern","chr","named","brackets","ncg","groupid","groupname","SyntaxError","handleNCG","handleDotAll","proxy","TO_STRING","nativeToString","NOT_GENERIC","INCORRECT_NAME","rf","fixRegExpWellKnownSymbolLogic","advanceStringIndex","getSubstitution","regExpExec","REPLACE","REPLACE_KEEPS_$0","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","_","maybeCallNative","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","rx","functionalReplace","fullUnicode","accumulatedResult","nextSourcePosition","replacerArgs","sameValue","SEARCH","nativeSearch","searcher","previousLastIndex","Hogan","rIsWhitespace","rQuot","rNewline","rCr","rSlash","rLineSep","rParagraphSep","tagChange","text","tags","scan","delimiters","token","tagType","buf","tokens","seenTag","lineStart","otag","ctag","addBuf","filterLine","haveSeenTag","noNewLine","isAllWhitespace","lineIsWhitespace","indent","changeDelimiters","closeIndex","substring","allowedInSuper","buildTree","kind","stack","customTags","tail","instructions","opener","isOpener","nodes","isCloser","end","last","stringifyPartials","codeObj","partials","esc","items","stringifySubstitutions","subs","wrapMain","code","serialNo","chooseMethod","createPartial","sym","prefix","tripleStache","generate","tree","walk","asString","makeTemplate","template","Template","makePartials","codegen","ctx","inPartial","nodelist","func","sectionTags","cache","cacheKey","disableLambda","modelGet","compile","findInScope","scope","doModelGet","compiler","coerceToString","hChars","rAmp","rLt","rGt","rApos","render","ri","ep","partial","base","stackText","activeSub","stackSubs","stackPartials","PartialTemplate","Substitutions","subsText","createSpecializedPartial","rp","rs","section","inverted","start","pass","ms","returnFound","found","cx","mv","ls","oldTags","ct","fl","textSource","sub","percentTwenties","Format","formatters","RFC1738","RFC3986","formats","utils","allowDots","allowPrototypes","arrayLimit","charset","charsetSentinel","comma","decoder","decode","delimiter","ignoreQueryPrefix","interpretNumericEntities","parameterLimit","parseArrays","plainObjects","strictNullHandling","$0","numberStr","fromCharCode","parseInt","parseArrayValue","parseKeys","givenKey","valuesParsed","chain","leaf","cleanRoot","parseObject","normalizeParseOptions","tempObj","cleanStr","limit","Infinity","skipIndex","bracketEqualsPos","maybeMap","encodedVal","combine","parseValues","newObj","arrayPrefixGenerators","repeat","pushToArray","arr","valueOrArray","toISO","toISOString","defaultFormat","addQueryPrefix","encode","encoder","encodeValuesOnly","formatter","serializeDate","date","skipNulls","generateArrayPrefix","isBuffer","keyValue","valuesArray","valuesJoined","objKeys","keyPrefix","normalizeStringifyOptions","arrayFormat","joined","hexTable","toUpperCase","arrayToObject","assign","queue","prop","refs","compacted","compactQueue","strWithoutPlus","unescape","decodeURIComponent","defaultEncoder","escape","mapped","mergeTarget","targetItem","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","createDocumentationMessageGenerator","_len","widgets","_key","links","widget","_ref","_ref$connector","connector","enumerableOnly","_objectSpread","_defineProperty","left","right","hierarchicalFacetsRefinementsMerged","mergeHierarchicalFacetsRefinements","hierarchicalFacetsMerged","nextFacets","mergeHierarchicalFacets","tagRefinementsMerged","mergeTagRefinements","numericRefinementsMerged","mergeNumericRefinements","disjunctiveFacetsRefinementsMerged","mergeDisjunctiveFacetsRefinements","facetsExcludesMerged","mergeFacetsExcludes","facetRefinementsMerged","mergeFacetRefinements","disjunctiveFacetsMerged","mergeDisjunctiveFacets","ruleContextsMerged","ruleContexts","mergeRuleContexts","facetsMerged","mergeFacets","rest","_objectWithoutPropertiesLoose","sourceSymbolKeys","_objectWithoutProperties","mergeWithRest","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","_iterableToArray","minLen","_unsupportedIterableToArray","_nonIterableSpread","withUsage","isIndexWidget","$$type","privateHelperSetState","_uiState","getLocalWidgetsUiState","widgetStateOptions","initialUiState","uiState","getWidgetUiState","getWidgetState","getLocalWidgetsSearchParameters","widgetSearchParametersOptions","initialSearchParameters","getWidgetSearchParameters","resetPageFromWidgets","indexWidgets","widgetHelper","getHelper","getWidgets","resolveScopedResultsFromWidgets","scopedResults","current","indexId","getIndexId","getResults","widgetParams","_widgetParams$indexId","localWidgets","localUiState","localInstantSearchInstance","localParent","$$widgetType","getIndexName","getScopedResults","widgetParent","getParent","createURL","nextState","_createURL","searchParameters","addWidgets","_this","init","getRenderState","storeRenderState","renderState","_initialUiState","instantSearchInstance","templatesConfig","searchMetadata","isSearchStalled","_isSearchStalled","scheduleSearch","removeWidgets","_this2","dispose","_ref2","_this3","onStateChange","mainIndex","setUiState","searchWithoutTriggeringOnStateChange","mergeSearchParameters","_ref3","scheduleStalledRender","_ref4","scheduleRender","onInternalStateChange","_ref5","_this4","_this5","previousUiState","innerIndex","_ref6","refreshUiState","_ref7","parentIndexName","component","componentName","descendantName","modifierName","descendent","modifier","htmlEscapes","regexUnescapedHtml","regexHasUnescapedHtml","character","_typeof","isObjectLike","getTag","getPrototypeOf","_extends","TAG_PLACEHOLDER","highlightPreTag","highlightPostTag","TAG_REPLACEMENT","recursiveEscape","suit","_ref$highlightedTagNa","highlightedTagName","hit","_ref$cssClasses","cssClasses","_ref2$value","_highlightResult","attributeValue","className","highlighted","concatHighlightedParts","isHighlighted","regexEscapedHtml","regexHasEscapedHtml","hasAlphanumeric","getHighlightFromSiblings","_parts","_parts2","isNextHighlighted","isPreviousHighlighted","reverseHighlightedParts","getHighlightedParts","highlightedValue","splitByPreTag","firstValue","elements","splitByPostTag","_snippetResult","serializePayload","payload","btoa","deserializePayload","atob","serializedPayload","writeDataAttributes","hoganHelpers","numberLocale","formatNumber","Number","toLocaleString","highlight","reverseHighlight","snippet","reverseSnippet","insights","_JSON$parse","objectIDs","objectID","nextMicroTask","callback","progress","cancelled","wait","cancel","getIndexStateWithoutConfigure","configure","_defineProperties","props","defaultCreateURL","qsModule","routeState","location","hostname","_location$port","port","pathname","hash","queryString","portWithPrefix","defaultParseURL","setWindowTitle","title","BrowserHistory","windowTitle","_ref3$writeDelay","writeDelay","_ref3$createURL","_ref3$parseURL","parseURL","_classCallCheck","writeTimer","protoProps","history","pushState","_onPopState","addEventListener","removeEventListener","isPrimitive","isEqual","_i","_Object$keys","extractPayload","initOptions","getWidgetRenderState","widgetType","createMetadataMiddleware","payloadContainer","refNode","querySelector","subscribe","ua","_ua","unsubscribe","remove","_setPrototypeOf","_assertThisInitialized","ReferenceError","_getPrototypeOf","InstantSearch","_EventEmitter","subClass","superClass","_inherits","Derived","hasNativeReflectConstruct","_super","Reflect","construct","Proxy","_isNativeReflectConstruct","Super","_possibleConstructorReturn","started","_searchStalledTimer","nextUiState","middleware","_options$indexName","_options$initialUiSta","_options$routing","routing","searchFunction","_options$stalledSearc","stalledSearchDelay","_options$searchClient","searchClient","_options$insightsClie","insightsClient","_options$onStateChang","helpers","compileOptions","_stalledSearchDelay","_searchFunction","sendEventToInsights","routerOptions","use","_props$router","router","_props$stateMapping","stateMapping","stateToRoute","routeToState","route","lastRouteState","onUpdate","createRouterMiddleware","navigator","newMiddlewareList","newMiddleware","creator","_len2","middlewareToUnuse","_key2","fakeClient","_mainHelperSearch","mainIndexHelper","searchFunctionHelper","setIndexHelperState","indexWidget","getStateWithoutPage","hasSessionStorage","sessionStorage","instantsearch","getInsightsAnonymousUserToken","cookies","cookie","getCookie","createInfiniteHitsSessionStorageCache","hits","getInitialSearchParameters","renderFn","unmountFn","connectorState","renderOptions","_renderState$configur","widgetRenderState","refine","actualState","nextSearchParameters","makeWidget","parentNode","removeChild","defaultProps","ref","__k","__","__b","__e","__d","__c","__h","__v","vnode","__r","debounceRendering","__P","L","__n","ownerSVGElement","M","nextSibling","insertBefore","setProperty","cssText","z","removeAttribute","setAttribute","contextType","__E","B","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","diffed","localName","nodeType","createTextNode","createElementNS","childNodes","dangerouslySetInnerHTML","__html","innerHTML","checked","unmount","componentWillUnmount","D","firstChild","getDerivedStateFromError","componentDidCatch","forceUpdate","selectorOrHTMLElement","isSelectorString","domElement","HTMLElement","rendering","usage","_Component","nextProps","templateKey","rootProps","RootTagName","rootTagName","useCustomCompileOptions","templates","bindEvent","transformedHelpers","helperKey","transformHelpersToHogan","spaces","showSubmit","showReset","showLoadingIndicator","autofocus","searchAsYouType","disabled","onChange","onSubmit","onReset","SearchBox","focused","_this$props","_this$props2","preventDefault","stopPropagation","blur","_this$props3","focus","_this$props4","placeholder","action","role","form","noValidate","autoFocus","autoComplete","autoCorrect","autoCapitalize","spellCheck","maxLength","onInput","onBlur","onFocus","submit","hidden","reset","loadingIndicator","container","_ref3$placeholder","_ref3$cssClasses","userCssClasses","_ref3$autofocus","_ref3$searchAsYouType","_ref3$showReset","_ref3$showSubmit","_ref3$showLoadingIndi","queryHook","_ref3$templates","userTemplates","containerNode","submitIcon","resetIcon","loadingIcon","defaultTemplates","specializedRenderer","renderer","_refine","_clear","_cachedClear","searchBox","setQueryAndSearch","buildPayload","methodName","eventType","eventName","hitsArray","removeEscapedFromHits","queryID","__queryID","positions","__position","insightsMethod","sendEvent","_ref$escapeHTML","escapeHTML","_ref$transformItems","transformItems","createSendEventForHits","__escaped","initialEscaped","addAbsolutePosition","addQueryID","Hits","templateProps","emptyRoot","__hitIndex","empty","preparedTemplates","config","defaultTemplate","customTemplate","isCustomTemplate","prepareTemplates","findInsightsTarget","startElement","endElement","validator","element","parentElement","withInsights","isFirstRender","aa","withInstantSearchUsage","inferredPayload","selectedHits","selectedObjectIDs","getSelectedHits","queryIDs","getQueryID","getPositions","inferPayload","wrapInsightsClient","BaseComponent","HitsWithInsightsListener","onClick","targetWithEvent","currentTarget","hasAttribute","getAttribute","parseInsightsEvent","insightsTarget","_readDataAttributes","readDataAttributes","_payload","isFirstRendering","receivedHits","nbSortedHits","hasManySortedResults","hasNoSortedResults","hasOneSortedResults","hasManyResults","hasNoResults","hasOneResult","areHitsSorted","nbPages","appliedRelevancyStrictness","label","ariaLabel","isDisabled","handleClick","pageNumber","link","href","Pagination","button","altKey","ctrlKey","metaKey","shiftKey","pageLink","additionalClassName","previousPageItem","isFirstPage","currentPage","nextPageItem","isLastPage","firstPageItem","lastPageItem","pages","pageItem","isSelected","_ref$additionalClassN","_ref$isDisabled","_ref$isSelected","disabledItem","selectedItem","noRefinementRoot","showFirst","firstPageLink","showPrevious","previousPageLink","showNext","nextPageLink","showLast","lastPageLink","_ref$start","_ref$step","step","limitStep","arrayLength","round","Paginator","total","padding","totalDisplayedPages","nbPagesDisplayed","paddingLeft","calculatePaddingLeft","totalPages","_ref3$showFirst","_ref3$showLast","_ref3$showPrevious","_ref3$showNext","_ref3$scrollTo","scrollTo","userScrollTo","scrollToNode","scrollIntoView","_ref$padding","pager","getMaxPage","canRefine","pagination","bodyEl","body","windowTop","bodyElPosition","archerUtil","backTop","top","behavior","getAbsPosition","offsetLeft","offsetTop","offsetParent","dateFormater","fmt","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","$1","getFullYear","rafTick","ticking","updateFunc","requestAnimationFrame","stopBodyScroll","isFixed","scrollY","throttle","timer","immediate","debounce","ready","algoliaSettings","algolia","applicationID","algoliasearch","searchInput","per_page","labels","input_placeholder","permalink","siteMeta","hits_empty","hits_stats","prepend","css","toggle","hidePopup","trigger","hide","click","removeClass"],"sourceRoot":""}